var pixi_spine,__extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();!function(a){var b;!function(a){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,b=function(){function a(a,b,c){if(null==a)throw new Error("name cannot be null.");if(null==b)throw new Error("timelines cannot be null.");this.name=a,this.timelines=b,this.duration=c}return a.prototype.apply=function(a,b,c,d,e,f,g,h){var i,j,k;if(null==a)throw new Error("skeleton cannot be null.");for(d&&0!=this.duration&&(c%=this.duration,b>0&&(b%=this.duration)),i=this.timelines,j=0,k=i.length;k>j;j++)i[j].apply(a,b,c,e,f,g,h)},a.binarySearch=function(a,b,c){var d,e,f;if(void 0===c&&(c=1),d=0,e=a.length/c-2,0==e)return c;for(f=e>>>1;;){if(a[(f+1)*c]<=b?d=f+1:e=f,d==e)return(d+1)*c;f=d+e>>>1}},a.linearSearch=function(a,b,c){for(var d=0,e=a.length-c;e>=d;d+=c)if(a[d]>b)return d;return-1},a}();a.Animation=b,function(a){a[a["setup"]=0]="setup",a[a["current"]=1]="current",a[a["currentLayered"]=2]="currentLayered"}(c=a.MixPose||(a.MixPose={})),function(a){a[a["in"]=0]="in",a[a["out"]=1]="out"}(d=a.MixDirection||(a.MixDirection={})),function(a){a[a["rotate"]=0]="rotate",a[a["translate"]=1]="translate",a[a["scale"]=2]="scale",a[a["shear"]=3]="shear",a[a["attachment"]=4]="attachment",a[a["color"]=5]="color",a[a["deform"]=6]="deform",a[a["event"]=7]="event",a[a["drawOrder"]=8]="drawOrder",a[a["ikConstraint"]=9]="ikConstraint",a[a["transformConstraint"]=10]="transformConstraint",a[a["pathConstraintPosition"]=11]="pathConstraintPosition",a[a["pathConstraintSpacing"]=12]="pathConstraintSpacing",a[a["pathConstraintMix"]=13]="pathConstraintMix",a[a["twoColor"]=14]="twoColor"}(e=a.TimelineType||(a.TimelineType={})),f=function(){function b(c){if(0>=c)throw new Error("frameCount must be > 0: "+c);this.curves=a.Utils.newFloatArray((c-1)*b.BEZIER_SIZE)}return b.prototype.getFrameCount=function(){return this.curves.length/b.BEZIER_SIZE+1},b.prototype.setLinear=function(a){this.curves[a*b.BEZIER_SIZE]=b.LINEAR},b.prototype.setStepped=function(a){this.curves[a*b.BEZIER_SIZE]=b.STEPPED},b.prototype.getCurveType=function(a){var d,c=a*b.BEZIER_SIZE;return c==this.curves.length?b.LINEAR:(d=this.curves[c],d==b.LINEAR?b.LINEAR:d==b.STEPPED?b.STEPPED:b.BEZIER)},b.prototype.setCurve=function(a,c,d,e,f){var q,r,s,g=.03*(2*-c+e),h=.03*(2*-d+f),i=.006*(3*(c-e)+1),j=.006*(3*(d-f)+1),k=2*g+i,l=2*h+j,m=.3*c+g+.16666667*i,n=.3*d+h+.16666667*j,o=a*b.BEZIER_SIZE,p=this.curves;for(p[o++]=b.BEZIER,q=m,r=n,s=o+b.BEZIER_SIZE-1;s>o;o+=2)p[o]=q,p[o+1]=r,m+=k,n+=l,k+=i,l+=j,q+=m,r+=n},b.prototype.getCurvePercent=function(c,d){var e,f,g,h,i,j,k,l,m;if(d=a.MathUtils.clamp(d,0,1),e=this.curves,f=c*b.BEZIER_SIZE,g=e[f],g==b.LINEAR)return d;if(g==b.STEPPED)return 0;for(f++,h=0,i=f,j=f+b.BEZIER_SIZE-1;j>f;f+=2)if(h=e[f],h>=d)return k=void 0,l=void 0,f==i?(k=0,l=0):(k=e[f-2],l=e[f-1]),l+(e[f+1]-l)*(d-k)/(h-k);return m=e[f-1],m+(1-m)*(d-h)/(1-h)},b}(),f.LINEAR=0,f.STEPPED=1,f.BEZIER=2,f.BEZIER_SIZE=19,a.CurveTimeline=f,g=function(d){function f(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b<<1),c}return __extends(f,d),f.prototype.getPropertyId=function(){return(e.rotate<<24)+this.boneIndex},f.prototype.setFrame=function(a,b,c){a<<=1,this.frames[a]=b,this.frames[a+f.ROTATION]=c},f.prototype.apply=function(a,d,e,g,h,i){var m,n,o,p,q,r,s,k=this.frames,l=a.bones[this.boneIndex];if(e<k[0])switch(i){case c.setup:return l.rotation=l.data.rotation,void 0;case c.current:m=l.data.rotation-l.rotation,m-=360*(16384-(0|16384.499999999996-m/360)),l.rotation+=m*h}else{if(e>=k[k.length-f.ENTRIES])return i==c.setup?l.rotation=l.data.rotation+k[k.length+f.PREV_ROTATION]*h:(n=l.data.rotation+k[k.length+f.PREV_ROTATION]-l.rotation,n-=360*(16384-(0|16384.499999999996-n/360)),l.rotation+=n*h),void 0;o=b.binarySearch(k,e,f.ENTRIES),p=k[o+f.PREV_ROTATION],q=k[o],r=this.getCurvePercent((o>>1)-1,1-(e-q)/(k[o+f.PREV_TIME]-q)),s=k[o+f.ROTATION]-p,s-=360*(16384-(0|16384.499999999996-s/360)),s=p+s*r,i==c.setup?(s-=360*(16384-(0|16384.499999999996-s/360)),l.rotation=l.data.rotation+s*h):(s=l.data.rotation+s-l.rotation,s-=360*(16384-(0|16384.499999999996-s/360)),l.rotation+=s*h)}},f}(f),g.ENTRIES=2,g.PREV_TIME=-2,g.PREV_ROTATION=-1,g.ROTATION=1,a.RotateTimeline=g,h=function(d){function f(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*f.ENTRIES),c}return __extends(f,d),f.prototype.getPropertyId=function(){return(e.translate<<24)+this.boneIndex},f.prototype.setFrame=function(a,b,c,d){a*=f.ENTRIES,this.frames[a]=b,this.frames[a+f.X]=c,this.frames[a+f.Y]=d},f.prototype.apply=function(a,d,e,g,h,i){var m,n,o,p,q,k=this.frames,l=a.bones[this.boneIndex];if(e<k[0])switch(i){case c.setup:return l.x=l.data.x,l.y=l.data.y,void 0;case c.current:l.x+=(l.data.x-l.x)*h,l.y+=(l.data.y-l.y)*h}else m=0,n=0,e>=k[k.length-f.ENTRIES]?(m=k[k.length+f.PREV_X],n=k[k.length+f.PREV_Y]):(o=b.binarySearch(k,e,f.ENTRIES),m=k[o+f.PREV_X],n=k[o+f.PREV_Y],p=k[o],q=this.getCurvePercent(o/f.ENTRIES-1,1-(e-p)/(k[o+f.PREV_TIME]-p)),m+=(k[o+f.X]-m)*q,n+=(k[o+f.Y]-n)*q),i==c.setup?(l.x=l.data.x+m*h,l.y=l.data.y+n*h):(l.x+=(l.data.x+m-l.x)*h,l.y+=(l.data.y+n-l.y)*h)},f}(f),h.ENTRIES=3,h.PREV_TIME=-3,h.PREV_X=-2,h.PREV_Y=-1,h.X=1,h.Y=2,a.TranslateTimeline=h,i=function(f){function g(a){return f.call(this,a)||this}return __extends(g,f),g.prototype.getPropertyId=function(){return(e.scale<<24)+this.boneIndex},g.prototype.apply=function(e,f,h,i,j,k,l){var o,p,q,r,s,t,u,m=this.frames,n=e.bones[this.boneIndex];if(h<m[0])switch(k){case c.setup:return n.scaleX=n.data.scaleX,n.scaleY=n.data.scaleY,void 0;case c.current:n.scaleX+=(n.data.scaleX-n.scaleX)*j,n.scaleY+=(n.data.scaleY-n.scaleY)*j}else o=0,p=0,h>=m[m.length-g.ENTRIES]?(o=m[m.length+g.PREV_X]*n.data.scaleX,p=m[m.length+g.PREV_Y]*n.data.scaleY):(q=b.binarySearch(m,h,g.ENTRIES),o=m[q+g.PREV_X],p=m[q+g.PREV_Y],r=m[q],s=this.getCurvePercent(q/g.ENTRIES-1,1-(h-r)/(m[q+g.PREV_TIME]-r)),o=(o+(m[q+g.X]-o)*s)*n.data.scaleX,p=(p+(m[q+g.Y]-p)*s)*n.data.scaleY),1==j?(n.scaleX=o,n.scaleY=p):(t=0,u=0,k==c.setup?(t=n.data.scaleX,u=n.data.scaleY):(t=n.scaleX,u=n.scaleY),l==d.out?(o=Math.abs(o)*a.MathUtils.signum(t),p=Math.abs(p)*a.MathUtils.signum(u)):(t=Math.abs(t)*a.MathUtils.signum(o),u=Math.abs(u)*a.MathUtils.signum(p)),n.scaleX=t+(o-t)*j,n.scaleY=u+(p-u)*j)},g}(h),a.ScaleTimeline=i,j=function(a){function d(b){return a.call(this,b)||this}return __extends(d,a),d.prototype.getPropertyId=function(){return(e.shear<<24)+this.boneIndex},d.prototype.apply=function(a,e,f,g,h,i){var m,n,o,p,q,k=this.frames,l=a.bones[this.boneIndex];if(f<k[0])switch(i){case c.setup:return l.shearX=l.data.shearX,l.shearY=l.data.shearY,void 0;case c.current:l.shearX+=(l.data.shearX-l.shearX)*h,l.shearY+=(l.data.shearY-l.shearY)*h}else m=0,n=0,f>=k[k.length-d.ENTRIES]?(m=k[k.length+d.PREV_X],n=k[k.length+d.PREV_Y]):(o=b.binarySearch(k,f,d.ENTRIES),m=k[o+d.PREV_X],n=k[o+d.PREV_Y],p=k[o],q=this.getCurvePercent(o/d.ENTRIES-1,1-(f-p)/(k[o+d.PREV_TIME]-p)),m+=(k[o+d.X]-m)*q,n+=(k[o+d.Y]-n)*q),i==c.setup?(l.shearX=l.data.shearX+m*h,l.shearY=l.data.shearY+n*h):(l.shearX+=(l.data.shearX+m-l.shearX)*h,l.shearY+=(l.data.shearY+n-l.shearY)*h)},d}(h),a.ShearTimeline=j,k=function(d){function f(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*f.ENTRIES),c}return __extends(f,d),f.prototype.getPropertyId=function(){return(e.color<<24)+this.slotIndex},f.prototype.setFrame=function(a,b,c,d,e,g){a*=f.ENTRIES,this.frames[a]=b,this.frames[a+f.R]=c,this.frames[a+f.G]=d,this.frames[a+f.B]=e,this.frames[a+f.A]=g},f.prototype.apply=function(a,d,e,g,h,i){var m,n,o,p,q,r,s,t,u,v,k=a.slots[this.slotIndex],l=this.frames;if(e<l[0])switch(i){case c.setup:return k.color.setFromColor(k.data.color),void 0;case c.current:m=k.color,n=k.data.color,m.add((n.r-m.r)*h,(n.g-m.g)*h,(n.b-m.b)*h,(n.a-m.a)*h)}else o=0,p=0,q=0,r=0,e>=l[l.length-f.ENTRIES]?(s=l.length,o=l[s+f.PREV_R],p=l[s+f.PREV_G],q=l[s+f.PREV_B],r=l[s+f.PREV_A]):(t=b.binarySearch(l,e,f.ENTRIES),o=l[t+f.PREV_R],p=l[t+f.PREV_G],q=l[t+f.PREV_B],r=l[t+f.PREV_A],u=l[t],v=this.getCurvePercent(t/f.ENTRIES-1,1-(e-u)/(l[t+f.PREV_TIME]-u)),o+=(l[t+f.R]-o)*v,p+=(l[t+f.G]-p)*v,q+=(l[t+f.B]-q)*v,r+=(l[t+f.A]-r)*v),1==h?k.color.set(o,p,q,r):(m=k.color,i==c.setup&&m.setFromColor(k.data.color),m.add((o-m.r)*h,(p-m.g)*h,(q-m.b)*h,(r-m.a)*h))},f}(f),k.ENTRIES=5,k.PREV_TIME=-5,k.PREV_R=-4,k.PREV_G=-3,k.PREV_B=-2,k.PREV_A=-1,k.R=1,k.G=2,k.B=3,k.A=4,a.ColorTimeline=k,l=function(d){function f(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*f.ENTRIES),c}return __extends(f,d),f.prototype.getPropertyId=function(){return(e.twoColor<<24)+this.slotIndex},f.prototype.setFrame=function(a,b,c,d,e,g,h,i,j){a*=f.ENTRIES,this.frames[a]=b,this.frames[a+f.R]=c,this.frames[a+f.G]=d,this.frames[a+f.B]=e,this.frames[a+f.A]=g,this.frames[a+f.R2]=h,this.frames[a+f.G2]=i,this.frames[a+f.B2]=j},f.prototype.apply=function(a,d,e,g,h,i){var m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,k=a.slots[this.slotIndex],l=this.frames;if(e<l[0])switch(i){case c.setup:return k.color.setFromColor(k.data.color),k.darkColor.setFromColor(k.data.darkColor),void 0;case c.current:m=k.color,n=k.darkColor,o=k.data.color,p=k.data.darkColor,m.add((o.r-m.r)*h,(o.g-m.g)*h,(o.b-m.b)*h,(o.a-m.a)*h),n.add((p.r-n.r)*h,(p.g-n.g)*h,(p.b-n.b)*h,0)}else q=0,r=0,s=0,t=0,u=0,v=0,w=0,e>=l[l.length-f.ENTRIES]?(x=l.length,q=l[x+f.PREV_R],r=l[x+f.PREV_G],s=l[x+f.PREV_B],t=l[x+f.PREV_A],u=l[x+f.PREV_R2],v=l[x+f.PREV_G2],w=l[x+f.PREV_B2]):(y=b.binarySearch(l,e,f.ENTRIES),q=l[y+f.PREV_R],r=l[y+f.PREV_G],s=l[y+f.PREV_B],t=l[y+f.PREV_A],u=l[y+f.PREV_R2],v=l[y+f.PREV_G2],w=l[y+f.PREV_B2],z=l[y],A=this.getCurvePercent(y/f.ENTRIES-1,1-(e-z)/(l[y+f.PREV_TIME]-z)),q+=(l[y+f.R]-q)*A,r+=(l[y+f.G]-r)*A,s+=(l[y+f.B]-s)*A,t+=(l[y+f.A]-t)*A,u+=(l[y+f.R2]-u)*A,v+=(l[y+f.G2]-v)*A,w+=(l[y+f.B2]-w)*A),1==h?(k.color.set(q,r,s,t),k.darkColor.set(u,v,w,1)):(m=k.color,n=k.darkColor,i==c.setup&&(m.setFromColor(k.data.color),n.setFromColor(k.data.darkColor)),m.add((q-m.r)*h,(r-m.g)*h,(s-m.b)*h,(t-m.a)*h),n.add((u-n.r)*h,(v-n.g)*h,(w-n.b)*h,0))},f}(f),l.ENTRIES=8,l.PREV_TIME=-8,l.PREV_R=-7,l.PREV_G=-6,l.PREV_B=-5,l.PREV_A=-4,l.PREV_R2=-3,l.PREV_G2=-2,l.PREV_B2=-1,l.R=1,l.G=2,l.B=3,l.A=4,l.R2=5,l.G2=6,l.B2=7,a.TwoColorTimeline=l,m=function(){function f(b){this.frames=a.Utils.newFloatArray(b),this.attachmentNames=new Array(b)}return f.prototype.getPropertyId=function(){return(e.attachment<<24)+this.slotIndex},f.prototype.getFrameCount=function(){return this.frames.length},f.prototype.setFrame=function(a,b,c){this.frames[a]=b,this.attachmentNames[a]=c},f.prototype.apply=function(a,e,f,g,h,i,j){var l,m,n,o,p,k=a.slots[this.slotIndex];return j==d.out&&i==c.setup?(l=k.data.attachmentName,k.setAttachment(null==l?null:a.getAttachment(this.slotIndex,l)),void 0):(m=this.frames,f<m[0]?(i==c.setup&&(n=k.data.attachmentName,k.setAttachment(null==n?null:a.getAttachment(this.slotIndex,n))),void 0):(o=0,o=f>=m[m.length-1]?m.length-1:b.binarySearch(m,f,1)-1,p=this.attachmentNames[o],a.slots[this.slotIndex].setAttachment(null==p?null:a.getAttachment(this.slotIndex,p)),void 0))},f}(),a.AttachmentTimeline=m,n=null,o=function(d){function f(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b),c.frameVertices=new Array(b),null==n&&(n=a.Utils.newFloatArray(64)),c}return __extends(f,d),f.prototype.getPropertyId=function(){return(e.deform<<27)+ +this.attachment.id+this.slotIndex},f.prototype.setFrame=function(a,b,c){this.frames[a]=b,this.frameVertices[a]=c},f.prototype.apply=function(d,e,f,g,h,i){var m,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,k=d.slots[this.slotIndex],l=k.getAttachment();if(l instanceof a.VertexAttachment&&l.applyDeform(this.attachment))if(m=k.attachmentVertices,o=this.frameVertices,p=o[0].length,q=a.Utils.setArraySize(m,p),r=this.frames,f<r[0])switch(s=l,i){case c.setup:return t=void 0,null==s.bones?t=s.vertices:(t=n,t.length<p&&(n=t=a.Utils.newFloatArray(p))),a.Utils.arrayCopy(t,0,q,0,p),void 0;case c.current:if(1==h)break;if(null==s.bones)for(u=s.vertices,v=0;p>v;v++)q[v]+=(u[v]-q[v])*h;else for(h=1-h,w=0;p>w;w++)q[w]*=h}else if(f>=r[r.length-1])if(x=o[r.length-1],1==h)a.Utils.arrayCopy(x,0,q,0,p);else if(i==c.setup)if(s=l,null==s.bones)for(u=s.vertices,y=0;p>y;y++)z=u[y],q[y]=z+(x[y]-z)*h;else for(A=0;p>A;A++)q[A]=x[A]*h;else for(B=0;p>B;B++)q[B]+=(x[B]-q[B])*h;else if(C=b.binarySearch(r,f),D=o[C-1],E=o[C],F=r[C],G=this.getCurvePercent(C-1,1-(f-F)/(r[C-1]-F)),1==h)for(H=0;p>H;H++)I=D[H],q[H]=I+(E[H]-I)*G;else if(i==c.setup)if(s=l,null==s.bones)for(u=s.vertices,J=0;p>J;J++)I=D[J],z=u[J],q[J]=z+(I+(E[J]-I)*G-z)*h;else for(K=0;p>K;K++)I=D[K],q[K]=(I+(E[K]-I)*G)*h;else for(L=0;p>L;L++)I=D[L],q[L]+=(I+(E[L]-I)*G-q[L])*h},f}(f),a.DeformTimeline=o,p=function(){function c(b){this.frames=a.Utils.newFloatArray(b),this.events=new Array(b)}return c.prototype.getPropertyId=function(){return e.event<<24},c.prototype.getFrameCount=function(){return this.frames.length},c.prototype.setFrame=function(a,b){this.frames[a]=b.time,this.events[a]=b},c.prototype.apply=function(a,c,d,e,f,g,h){var i,j,k,l;if(null!=e){if(i=this.frames,j=this.frames.length,c>d)this.apply(a,c,Number.MAX_VALUE,e,f,g,h),c=-1;else if(c>=i[j-1])return;if(!(d<i[0])){if(k=0,c<i[0])k=0;else for(k=b.binarySearch(i,c),l=i[k];k>0&&i[k-1]==l;)k--;for(;j>k&&d>=i[k];k++)e.push(this.events[k])}}},c}(),a.EventTimeline=p,q=function(){function f(b){this.frames=a.Utils.newFloatArray(b),this.drawOrders=new Array(b)}return f.prototype.getPropertyId=function(){return e.drawOrder<<24},f.prototype.getFrameCount=function(){return this.frames.length},f.prototype.setFrame=function(a,b,c){this.frames[a]=b,this.drawOrders[a]=c},f.prototype.apply=function(e,f,g,h,i,j,k){var n,o,p,q,r,l=e.drawOrder,m=e.slots;if(k==d.out&&j==c.setup)return a.Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length),void 0;if(n=this.frames,g<n[0])return j==c.setup&&a.Utils.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length),void 0;if(o=0,o=g>=n[n.length-1]?n.length-1:b.binarySearch(n,g)-1,p=this.drawOrders[o],null==p)a.Utils.arrayCopy(m,0,l,0,m.length);else for(q=0,r=p.length;r>q;q++)l[q]=m[p[q]]},f}(),a.DrawOrderTimeline=q,r=function(f){function g(b){var c=f.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*g.ENTRIES),c}return __extends(g,f),g.prototype.getPropertyId=function(){return(e.ikConstraint<<24)+this.ikConstraintIndex},g.prototype.setFrame=function(a,b,c,d){a*=g.ENTRIES,this.frames[a]=b,this.frames[a+g.MIX]=c,this.frames[a+g.BEND_DIRECTION]=d},g.prototype.apply=function(a,e,f,h,i,j,k){var n,o,p,q,l=this.frames,m=a.ikConstraints[this.ikConstraintIndex];if(f<l[0])switch(j){case c.setup:return m.mix=m.data.mix,m.bendDirection=m.data.bendDirection,void 0;case c.current:m.mix+=(m.data.mix-m.mix)*i,m.bendDirection=m.data.bendDirection}else{if(f>=l[l.length-g.ENTRIES])return j==c.setup?(m.mix=m.data.mix+(l[l.length+g.PREV_MIX]-m.data.mix)*i,m.bendDirection=k==d.out?m.data.bendDirection:l[l.length+g.PREV_BEND_DIRECTION]):(m.mix+=(l[l.length+g.PREV_MIX]-m.mix)*i,k==d.in&&(m.bendDirection=l[l.length+g.PREV_BEND_DIRECTION])),void 0;n=b.binarySearch(l,f,g.ENTRIES),o=l[n+g.PREV_MIX],p=l[n],q=this.getCurvePercent(n/g.ENTRIES-1,1-(f-p)/(l[n+g.PREV_TIME]-p)),j==c.setup?(m.mix=m.data.mix+(o+(l[n+g.MIX]-o)*q-m.data.mix)*i,m.bendDirection=k==d.out?m.data.bendDirection:l[n+g.PREV_BEND_DIRECTION]):(m.mix+=(o+(l[n+g.MIX]-o)*q-m.mix)*i,k==d.in&&(m.bendDirection=l[n+g.PREV_BEND_DIRECTION]))}},g}(f),r.ENTRIES=3,r.PREV_TIME=-3,r.PREV_MIX=-2,r.PREV_BEND_DIRECTION=-1,r.MIX=1,r.BEND_DIRECTION=2,a.IkConstraintTimeline=r,s=function(d){function f(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*f.ENTRIES),c}return __extends(f,d),f.prototype.getPropertyId=function(){return(e.transformConstraint<<24)+this.transformConstraintIndex},f.prototype.setFrame=function(a,b,c,d,e,g){a*=f.ENTRIES,this.frames[a]=b,this.frames[a+f.ROTATE]=c,this.frames[a+f.TRANSLATE]=d,this.frames[a+f.SCALE]=e,this.frames[a+f.SHEAR]=g},f.prototype.apply=function(a,d,e,g,h,i){var m,n,o,p,q,r,s,t,u,k=this.frames,l=a.transformConstraints[this.transformConstraintIndex];if(e<k[0])switch(m=l.data,i){case c.setup:return l.rotateMix=m.rotateMix,l.translateMix=m.translateMix,l.scaleMix=m.scaleMix,l.shearMix=m.shearMix,void 0;case c.current:l.rotateMix+=(m.rotateMix-l.rotateMix)*h,l.translateMix+=(m.translateMix-l.translateMix)*h,l.scaleMix+=(m.scaleMix-l.scaleMix)*h,l.shearMix+=(m.shearMix-l.shearMix)*h}else n=0,o=0,p=0,q=0,e>=k[k.length-f.ENTRIES]?(r=k.length,n=k[r+f.PREV_ROTATE],o=k[r+f.PREV_TRANSLATE],p=k[r+f.PREV_SCALE],q=k[r+f.PREV_SHEAR]):(s=b.binarySearch(k,e,f.ENTRIES),n=k[s+f.PREV_ROTATE],o=k[s+f.PREV_TRANSLATE],p=k[s+f.PREV_SCALE],q=k[s+f.PREV_SHEAR],t=k[s],u=this.getCurvePercent(s/f.ENTRIES-1,1-(e-t)/(k[s+f.PREV_TIME]-t)),n+=(k[s+f.ROTATE]-n)*u,o+=(k[s+f.TRANSLATE]-o)*u,p+=(k[s+f.SCALE]-p)*u,q+=(k[s+f.SHEAR]-q)*u),i==c.setup?(m=l.data,l.rotateMix=m.rotateMix+(n-m.rotateMix)*h,l.translateMix=m.translateMix+(o-m.translateMix)*h,l.scaleMix=m.scaleMix+(p-m.scaleMix)*h,l.shearMix=m.shearMix+(q-m.shearMix)*h):(l.rotateMix+=(n-l.rotateMix)*h,l.translateMix+=(o-l.translateMix)*h,l.scaleMix+=(p-l.scaleMix)*h,l.shearMix+=(q-l.shearMix)*h)},f}(f),s.ENTRIES=5,s.PREV_TIME=-5,s.PREV_ROTATE=-4,s.PREV_TRANSLATE=-3,s.PREV_SCALE=-2,s.PREV_SHEAR=-1,s.ROTATE=1,s.TRANSLATE=2,s.SCALE=3,s.SHEAR=4,a.TransformConstraintTimeline=s,t=function(d){function f(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*f.ENTRIES),c}return __extends(f,d),f.prototype.getPropertyId=function(){return(e.pathConstraintPosition<<24)+this.pathConstraintIndex},f.prototype.setFrame=function(a,b,c){a*=f.ENTRIES,this.frames[a]=b,this.frames[a+f.VALUE]=c},f.prototype.apply=function(a,d,e,g,h,i){var m,n,o,p,k=this.frames,l=a.pathConstraints[this.pathConstraintIndex];if(e<k[0])switch(i){case c.setup:return l.position=l.data.position,void 0;case c.current:l.position+=(l.data.position-l.position)*h}else m=0,e>=k[k.length-f.ENTRIES]?m=k[k.length+f.PREV_VALUE]:(n=b.binarySearch(k,e,f.ENTRIES),m=k[n+f.PREV_VALUE],o=k[n],p=this.getCurvePercent(n/f.ENTRIES-1,1-(e-o)/(k[n+f.PREV_TIME]-o)),m+=(k[n+f.VALUE]-m)*p),i==c.setup?l.position=l.data.position+(m-l.data.position)*h:l.position+=(m-l.position)*h},f}(f),t.ENTRIES=2,t.PREV_TIME=-2,t.PREV_VALUE=-1,t.VALUE=1,a.PathConstraintPositionTimeline=t,u=function(a){function d(b){return a.call(this,b)||this}return __extends(d,a),d.prototype.getPropertyId=function(){return(e.pathConstraintSpacing<<24)+this.pathConstraintIndex},d.prototype.apply=function(a,e,f,g,h,i){var m,n,o,p,k=this.frames,l=a.pathConstraints[this.pathConstraintIndex];if(f<k[0])switch(i){case c.setup:return l.spacing=l.data.spacing,void 0;case c.current:l.spacing+=(l.data.spacing-l.spacing)*h}else m=0,f>=k[k.length-d.ENTRIES]?m=k[k.length+d.PREV_VALUE]:(n=b.binarySearch(k,f,d.ENTRIES),m=k[n+d.PREV_VALUE],o=k[n],p=this.getCurvePercent(n/d.ENTRIES-1,1-(f-o)/(k[n+d.PREV_TIME]-o)),m+=(k[n+d.VALUE]-m)*p),i==c.setup?l.spacing=l.data.spacing+(m-l.data.spacing)*h:l.spacing+=(m-l.spacing)*h},d}(t),a.PathConstraintSpacingTimeline=u,v=function(d){function f(b){var c=d.call(this,b)||this;return c.frames=a.Utils.newFloatArray(b*f.ENTRIES),c}return __extends(f,d),f.prototype.getPropertyId=function(){return(e.pathConstraintMix<<24)+this.pathConstraintIndex},f.prototype.setFrame=function(a,b,c,d){a*=f.ENTRIES,this.frames[a]=b,this.frames[a+f.ROTATE]=c,this.frames[a+f.TRANSLATE]=d},f.prototype.apply=function(a,d,e,g,h,i){var m,n,o,p,q,k=this.frames,l=a.pathConstraints[this.pathConstraintIndex];if(e<k[0])switch(i){case c.setup:return l.rotateMix=l.data.rotateMix,l.translateMix=l.data.translateMix,void 0;case c.current:l.rotateMix+=(l.data.rotateMix-l.rotateMix)*h,l.translateMix+=(l.data.translateMix-l.translateMix)*h}else m=0,n=0,e>=k[k.length-f.ENTRIES]?(m=k[k.length+f.PREV_ROTATE],n=k[k.length+f.PREV_TRANSLATE]):(o=b.binarySearch(k,e,f.ENTRIES),m=k[o+f.PREV_ROTATE],n=k[o+f.PREV_TRANSLATE],p=k[o],q=this.getCurvePercent(o/f.ENTRIES-1,1-(e-p)/(k[o+f.PREV_TIME]-p)),m+=(k[o+f.ROTATE]-m)*q,n+=(k[o+f.TRANSLATE]-n)*q),i==c.setup?(l.rotateMix=l.data.rotateMix+(m-l.data.rotateMix)*h,l.translateMix=l.data.translateMix+(n-l.data.translateMix)*h):(l.rotateMix+=(m-l.rotateMix)*h,l.translateMix+=(n-l.translateMix)*h)},f}(f),v.ENTRIES=3,v.PREV_TIME=-3,v.PREV_ROTATE=-2,v.PREV_TRANSLATE=-1,v.ROTATE=1,v.TRANSLATE=2,a.PathConstraintMixTimeline=v}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var c,d,e,f,b=function(){function b(b){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new d(this),this.propertyIDs=new a.IntSet,this.mixingTo=new Array,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new a.Pool(function(){return new c}),this.data=b}return b.prototype.update=function(a){var b,c,d,e,f,g,h,i;for(a*=this.timeScale,b=this.tracks,c=0,d=b.length;d>c;c++)if(e=b[c],null!=e){if(e.animationLast=e.nextAnimationLast,e.trackLast=e.nextTrackLast,f=a*e.timeScale,e.delay>0){if(e.delay-=f,e.delay>0)continue;f=-e.delay,e.delay=0}if(g=e.next,null!=g){if(h=e.trackLast-g.delay,h>=0){for(g.delay=0,g.trackTime=h+a*g.timeScale,e.trackTime+=f,this.setCurrent(c,g,!0);null!=g.mixingFrom;)g.mixTime+=f,g=g.mixingFrom;continue}}else if(e.trackLast>=e.trackEnd&&null==e.mixingFrom){b[c]=null,this.queue.end(e),this.disposeNext(e);continue}if(null!=e.mixingFrom&&this.updateMixingFrom(e,a))for(i=e.mixingFrom,e.mixingFrom=null;null!=i;)this.queue.end(i),i=i.mixingFrom;e.trackTime+=f}this.queue.drain()},b.prototype.updateMixingFrom=function(a,b){var d,c=a.mixingFrom;return null==c?!0:(d=this.updateMixingFrom(c,b),a.mixTime>0&&(a.mixTime>=a.mixDuration||0==a.timeScale)?(0==c.totalAlpha&&(a.mixingFrom=c.mixingFrom,a.interruptAlpha=c.interruptAlpha,this.queue.end(c)),d):(c.animationLast=c.nextAnimationLast,c.trackLast=c.nextTrackLast,c.trackTime+=b*c.timeScale,a.mixTime+=b*a.timeScale,!1))},b.prototype.apply=function(c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;if(null==c)throw new Error("skeleton cannot be null.");for(this.animationsChanged&&this._animationsChanged(),d=this.events,e=this.tracks,f=!1,g=0,h=e.length;h>g;g++)if(i=e[g],!(null==i||i.delay>0)){if(f=!0,j=0==g?a.MixPose.current:a.MixPose.currentLayered,k=i.alpha,null!=i.mixingFrom?k*=this.applyMixingFrom(i,c,j):i.trackTime>=i.trackEnd&&null==i.next&&(k=0),l=i.animationLast,m=i.getAnimationTime(),n=i.animation.timelines.length,o=i.animation.timelines,1==k)for(p=0;n>p;p++)o[p].apply(c,l,m,d,1,a.MixPose.setup,a.MixDirection.in);else for(q=i.timelineData,r=0==i.timelinesRotation.length,r&&a.Utils.setArraySize(i.timelinesRotation,n<<1,null),s=i.timelinesRotation,p=0;n>p;p++)t=o[p],u=q[p]>=b.FIRST?a.MixPose.setup:j,t instanceof a.RotateTimeline?this.applyRotateTimeline(t,c,m,k,u,s,p<<1,r):t.apply(c,l,m,d,k,u,a.MixDirection.in);this.queueEvents(i,m),d.length=0,i.nextAnimationLast=m,i.nextTrackLast=i.trackTime}return this.queue.drain(),f},b.prototype.applyMixingFrom=function(c,d,e){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,f=c.mixingFrom;for(null!=f.mixingFrom&&this.applyMixingFrom(f,d,e),g=0,0==c.mixDuration?g=1:(g=c.mixTime/c.mixDuration,g>1&&(g=1)),h=g<f.eventThreshold?this.events:null,i=g<f.attachmentThreshold,j=g<f.drawOrderThreshold,k=f.animationLast,l=f.getAnimationTime(),m=f.animation.timelines.length,n=f.animation.timelines,o=f.timelineData,p=f.timelineDipMix,q=0==f.timelinesRotation.length,q&&a.Utils.setArraySize(f.timelinesRotation,m<<1,null),r=f.timelinesRotation,t=f.alpha*c.interruptAlpha,u=t*(1-g),v=0,f.totalAlpha=0,w=0;m>w;w++){switch(x=n[w],o[w]){case b.SUBSEQUENT:if(!i&&x instanceof a.AttachmentTimeline)continue;if(!j&&x instanceof a.DrawOrderTimeline)continue;s=e,v=u;break;case b.FIRST:s=a.MixPose.setup,v=u;break;case b.DIP:s=a.MixPose.setup,v=t;break;default:s=a.MixPose.setup,v=t,y=p[w],v*=Math.max(0,1-y.mixTime/y.mixDuration)}f.totalAlpha+=v,x instanceof a.RotateTimeline?this.applyRotateTimeline(x,d,l,v,s,r,w<<1,q):x.apply(d,k,l,h,v,s,a.MixDirection.out)}return c.mixDuration>0&&this.queueEvents(f,l),this.events.length=0,f.nextAnimationLast=l,f.nextTrackLast=f.trackTime,g},b.prototype.applyRotateTimeline=function(b,c,d,e,f,g,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;return i&&(g[h]=0),1==e?(b.apply(c,0,d,null,1,f,a.MixDirection.in),void 0):(j=b,k=j.frames,l=c.bones[j.boneIndex],d<k[0]?(f==a.MixPose.setup&&(l.rotation=l.data.rotation),void 0):(m=0,d>=k[k.length-a.RotateTimeline.ENTRIES]?m=l.data.rotation+k[k.length+a.RotateTimeline.PREV_ROTATION]:(n=a.Animation.binarySearch(k,d,a.RotateTimeline.ENTRIES),o=k[n+a.RotateTimeline.PREV_ROTATION],p=k[n],q=j.getCurvePercent((n>>1)-1,1-(d-p)/(k[n+a.RotateTimeline.PREV_TIME]-p)),m=k[n+a.RotateTimeline.ROTATION]-o,m-=360*(16384-(0|16384.499999999996-m/360)),m=o+m*q+l.data.rotation,m-=360*(16384-(0|16384.499999999996-m/360))),r=f==a.MixPose.setup?l.data.rotation:l.rotation,s=0,t=m-r,0==t?s=g[h]:(t-=360*(16384-(0|16384.499999999996-t/360)),u=0,v=0,i?(u=0,v=t):(u=g[h],v=g[h+1]),w=t>0,x=u>=0,a.MathUtils.signum(v)!=a.MathUtils.signum(t)&&Math.abs(v)<=90&&(Math.abs(u)>180&&(u+=360*a.MathUtils.signum(u)),x=w),s=t+u-u%360,x!=w&&(s+=360*a.MathUtils.signum(u)),g[h]=s),g[h+1]=t,r+=s*e,l.rotation=r-360*(16384-(0|16384.499999999996-r/360)),void 0))},b.prototype.queueEvents=function(a,b){for(var j,k,c=a.animationStart,d=a.animationEnd,e=d-c,f=a.trackLast%e,g=this.events,h=0,i=g.length;i>h&&(j=g[h],!(j.time<f));h++)j.time>d||this.queue.event(a,j);for((a.loop?f>a.trackTime%e:b>=d&&a.animationLast<d)&&this.queue.complete(a);i>h;h++)k=g[h],k.time<c||this.queue.event(a,g[h])},b.prototype.clearTracks=function(){var b,c,a=this.queue.drainDisabled;for(this.queue.drainDisabled=!0,b=0,c=this.tracks.length;c>b;b++)this.clearTrack(b);this.tracks.length=0,this.queue.drainDisabled=a,this.queue.drain()},b.prototype.clearTrack=function(a){var b,c,d;if(!(a>=this.tracks.length)&&(b=this.tracks[a],null!=b)){for(this.queue.end(b),this.disposeNext(b),c=b;;){if(d=c.mixingFrom,null==d)break;this.queue.end(d),c.mixingFrom=null,c=d}this.tracks[b.trackIndex]=null,this.queue.drain()}},b.prototype.setCurrent=function(a,b,c){var d=this.expandToIndex(a);this.tracks[a]=b,null!=d&&(c&&this.queue.interrupt(d),b.mixingFrom=d,b.mixTime=0,null!=d.mixingFrom&&d.mixDuration>0&&(b.interruptAlpha*=Math.min(1,d.mixTime/d.mixDuration)),d.timelinesRotation.length=0),this.queue.start(b)},b.prototype.setAnimation=function(a,b,c){var d=this.data.skeletonData.findAnimation(b);if(null==d)throw new Error("Animation not found: "+b);return this.setAnimationWith(a,d,c)},b.prototype.setAnimationWith=function(a,b,c){var d,e,f;if(null==b)throw new Error("animation cannot be null.");return d=!0,e=this.expandToIndex(a),null!=e&&(-1==e.nextTrackLast?(this.tracks[a]=e.mixingFrom,this.queue.interrupt(e),this.queue.end(e),this.disposeNext(e),e=e.mixingFrom,d=!1):this.disposeNext(e)),f=this.trackEntry(a,b,c,e),this.setCurrent(a,f,d),this.queue.drain(),f},b.prototype.addAnimation=function(a,b,c,d){var e=this.data.skeletonData.findAnimation(b);if(null==e)throw new Error("Animation not found: "+b);return this.addAnimationWith(a,e,c,d)},b.prototype.addAnimationWith=function(a,b,c,d){var e,f,g;if(null==b)throw new Error("animation cannot be null.");if(e=this.expandToIndex(a),null!=e)for(;null!=e.next;)e=e.next;return f=this.trackEntry(a,b,c,e),null==e?(this.setCurrent(a,f,!0),this.queue.drain()):(e.next=f,0>=d&&(g=e.animationEnd-e.animationStart,0!=g?d+=g*(1+(0|e.trackTime/g))-this.data.getMix(e.animation,b):d=0)),f.delay=d,f},b.prototype.setEmptyAnimation=function(a,c){var d=this.setAnimationWith(a,b.emptyAnimation,!1);return d.mixDuration=c,d.trackEnd=c,d},b.prototype.addEmptyAnimation=function(a,c,d){0>=d&&(d-=c);var e=this.addAnimationWith(a,b.emptyAnimation,!1,d);return e.mixDuration=c,e.trackEnd=c,e},b.prototype.setEmptyAnimations=function(a){var c,d,e,b=this.queue.drainDisabled;for(this.queue.drainDisabled=!0,c=0,d=this.tracks.length;d>c;c++)e=this.tracks[c],null!=e&&this.setEmptyAnimation(e.trackIndex,a);this.queue.drainDisabled=b,this.queue.drain()},b.prototype.expandToIndex=function(b){return b<this.tracks.length?this.tracks[b]:(a.Utils.ensureArrayCapacity(this.tracks,b-this.tracks.length+1,null),this.tracks.length=b+1,null)},b.prototype.trackEntry=function(a,b,c,d){var e=this.trackEntryPool.obtain();return e.trackIndex=a,e.animation=b,e.loop=c,e.eventThreshold=0,e.attachmentThreshold=0,e.drawOrderThreshold=0,e.animationStart=0,e.animationEnd=b.duration,e.animationLast=-1,e.nextAnimationLast=-1,e.delay=0,e.trackTime=0,e.trackLast=-1,e.nextTrackLast=-1,e.trackEnd=Number.MAX_VALUE,e.timeScale=1,e.alpha=1,e.interruptAlpha=1,e.mixTime=0,e.mixDuration=null==d?0:this.data.getMix(d.animation,b),e},b.prototype.disposeNext=function(a){for(var b=a.next;null!=b;)this.queue.dispose(b),b=b.next;a.next=null},b.prototype._animationsChanged=function(){var a,b,d,e,f;for(this.animationsChanged=!1,a=this.propertyIDs,a.clear(),b=this.mixingTo,d=0,e=this.tracks.length;e>d;d++)f=this.tracks[d],null!=f&&f.setTimelineData(null,b,a)},b.prototype.getCurrent=function(a){return a>=this.tracks.length?null:this.tracks[a]},b.prototype.addListener=function(a){if(null==a)throw new Error("listener cannot be null.");this.listeners.push(a)},b.prototype.removeListener=function(a){var b=this.listeners.indexOf(a);b>=0&&this.listeners.splice(b,1)},b.prototype.clearListeners=function(){this.listeners.length=0},b.prototype.clearListenerNotifications=function(){this.queue.clear()},b.prototype.setAnimationByName=function(a,c,d){b.deprecatedWarning1||(b.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(a,c,d)},b.prototype.addAnimationByName=function(a,c,d,e){b.deprecatedWarning2||(b.deprecatedWarning2=!0,console.warn("Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(a,c,d,e)},b.prototype.hasAnimation=function(a){var b=this.data.skeletonData.findAnimation(a);return null!==b},b.prototype.hasAnimationByName=function(a){return b.deprecatedWarning3||(b.deprecatedWarning3=!0,console.warn("Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(a)},b}();b.emptyAnimation=new a.Animation("<empty>",[],0),b.SUBSEQUENT=0,b.FIRST=1,b.DIP=2,b.DIP_MIX=3,b.deprecatedWarning1=!1,b.deprecatedWarning2=!1,b.deprecatedWarning3=!1,a.AnimationState=b,c=function(){function c(){this.timelineData=new Array,this.timelineDipMix=new Array,this.timelinesRotation=new Array}return c.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.animation=null,this.listener=null,this.timelineData.length=0,this.timelineDipMix.length=0,this.timelinesRotation.length=0},c.prototype.setTimelineData=function(c,d,e){var f,g,h,i,j,k,l,m,n,o,p;null!=c&&d.push(c),f=null!=this.mixingFrom?this.mixingFrom.setTimelineData(this,d,e):this,null!=c&&d.pop(),g=d,h=d.length-1,i=this.animation.timelines,j=this.animation.timelines.length,k=a.Utils.setArraySize(this.timelineData,j),this.timelineDipMix.length=0,l=a.Utils.setArraySize(this.timelineDipMix,j);a:for(m=0;j>m;m++)if(n=i[m].getPropertyId(),e.add(n))if(null!=c&&c.hasTimeline(n)){for(o=h;o>=0;o--)if(p=g[o],!p.hasTimeline(n)&&p.mixDuration>0){k[m]=b.DIP_MIX,l[m]=p;continue a}k[m]=b.DIP}else k[m]=b.FIRST;else k[m]=b.SUBSEQUENT;return f},c.prototype.hasTimeline=function(a){var c,d,b=this.animation.timelines;for(c=0,d=b.length;d>c;c++)if(b[c].getPropertyId()==a)return!0;return!1},c.prototype.getAnimationTime=function(){if(this.loop){var a=this.animationEnd-this.animationStart;return 0==a?this.animationStart:this.trackTime%a+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)
},c.prototype.setAnimationLast=function(a){this.animationLast=a,this.nextAnimationLast=a},c.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},c.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(c.prototype,"time",{get:function(){return c.deprecatedWarning1||(c.deprecatedWarning1=!0,console.warn("Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(a){c.deprecatedWarning1||(c.deprecatedWarning1=!0,console.warn("Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"endTime",{get:function(){return c.deprecatedWarning2||(c.deprecatedWarning2=!0,console.warn("Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(a){c.deprecatedWarning2||(c.deprecatedWarning2=!0,console.warn("Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=a},enumerable:!0,configurable:!0}),c.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},c}(),c.deprecatedWarning1=!1,c.deprecatedWarning2=!1,a.TrackEntry=c,d=function(){function b(a){this.objects=[],this.drainDisabled=!1,this.animState=a}return b.prototype.start=function(a){this.objects.push(e.start),this.objects.push(a),this.animState.animationsChanged=!0},b.prototype.interrupt=function(a){this.objects.push(e.interrupt),this.objects.push(a)},b.prototype.end=function(a){this.objects.push(e.end),this.objects.push(a),this.animState.animationsChanged=!0},b.prototype.dispose=function(a){this.objects.push(e.dispose),this.objects.push(a)},b.prototype.complete=function(a){this.objects.push(e.complete),this.objects.push(a)},b.prototype.event=function(a,b){this.objects.push(e.event),this.objects.push(a),this.objects.push(b)},b.prototype.deprecateStuff=function(){return b.deprecatedWarning1||(b.deprecatedWarning1=!0,console.warn("Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},b.prototype.drain=function(){var b,c,d,f,g,h,i,j;if(!this.drainDisabled){for(this.drainDisabled=!0,b=this.objects,c=this.animState.listeners,d=0;d<b.length;d+=2)switch(f=b[d],g=b[d+1],f){case e.start:for(null!=g.listener&&g.listener.start&&g.listener.start(g),h=0;h<c.length;h++)c[h].start&&c[h].start(g);g.onStart&&this.deprecateStuff()&&g.onStart(g.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(g.trackIndex);break;case e.interrupt:for(null!=g.listener&&g.listener.interrupt&&g.listener.interrupt(g),h=0;h<c.length;h++)c[h].interrupt&&c[h].interrupt(g);break;case e.end:for(null!=g.listener&&g.listener.end&&g.listener.end(g),h=0;h<c.length;h++)c[h].end&&c[h].end(g);g.onEnd&&this.deprecateStuff()&&g.onEnd(g.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(g.trackIndex);case e.dispose:for(null!=g.listener&&g.listener.dispose&&g.listener.dispose(g),h=0;h<c.length;h++)c[h].dispose&&c[h].dispose(g);this.animState.trackEntryPool.free(g);break;case e.complete:for(null!=g.listener&&g.listener.complete&&g.listener.complete(g),h=0;h<c.length;h++)c[h].complete&&c[h].complete(g);i=a.MathUtils.toInt(g.loopsCount()),g.onComplete&&this.deprecateStuff()&&g.onComplete(g.trackIndex,i),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(g.trackIndex,i);break;case e.event:for(j=b[d++ +2],null!=g.listener&&g.listener.event&&g.listener.event(g,j),h=0;h<c.length;h++)c[h].event&&c[h].event(g,j);g.onEvent&&this.deprecateStuff()&&g.onEvent(g.trackIndex,j),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(g.trackIndex,j)}this.clear(),this.drainDisabled=!1}},b.prototype.clear=function(){this.objects.length=0},b}(),d.deprecatedWarning1=!1,a.EventQueue=d,function(a){a[a["start"]=0]="start",a[a["interrupt"]=1]="interrupt",a[a["end"]=2]="end",a[a["dispose"]=3]="dispose",a[a["complete"]=4]="complete",a[a["event"]=5]="event"}(e=a.EventType||(a.EventType={})),f=function(){function a(){}return a.prototype.start=function(){},a.prototype.interrupt=function(){},a.prototype.end=function(){},a.prototype.dispose=function(){},a.prototype.complete=function(){},a.prototype.event=function(){},a}(),a.AnimationStateAdapter2=f}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(){function a(a){if(this.animationToMixTime={},this.defaultMix=0,null==a)throw new Error("skeletonData cannot be null.");this.skeletonData=a}return a.prototype.setMix=function(a,b,c){var e,d=this.skeletonData.findAnimation(a);if(null==d)throw new Error("Animation not found: "+a);if(e=this.skeletonData.findAnimation(b),null==e)throw new Error("Animation not found: "+b);this.setMixWith(d,e,c)},a.prototype.setMixByName=function(b,c,d){a.deprecatedWarning1||(a.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(b,c,d)},a.prototype.setMixWith=function(a,b,c){if(null==a)throw new Error("from cannot be null.");if(null==b)throw new Error("to cannot be null.");var d=a.name+b.name;this.animationToMixTime[d]=c},a.prototype.getMix=function(a,b){var c=a.name+b.name,d=this.animationToMixTime[c];return void 0===d?this.defaultMix:d},a}();b.deprecatedWarning1=!1,a.AnimationStateData=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(){function b(a){this.atlas=a}return b.prototype.newRegionAttachment=function(b,c,d){var f,e=this.atlas.findRegion(d);if(null==e)throw new Error("Region not found in atlas: "+d+" (region attachment: "+c+")");return f=new a.RegionAttachment(c),f.region=e,f},b.prototype.newMeshAttachment=function(b,c,d){var f,e=this.atlas.findRegion(d);if(null==e)throw new Error("Region not found in atlas: "+d+" (mesh attachment: "+c+")");return f=new a.MeshAttachment(c),f.region=e,f},b.prototype.newBoundingBoxAttachment=function(b,c){return new a.BoundingBoxAttachment(c)},b.prototype.newPathAttachment=function(b,c){return new a.PathAttachment(c)},b.prototype.newPointAttachment=function(b,c){return new a.PointAttachment(c)},b.prototype.newClippingAttachment=function(b,c){return new a.ClippingAttachment(c)},b}();a.AtlasAttachmentLoader=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var c,b=function(){function a(a){if(null==a)throw new Error("name cannot be null.");this.name=a}return a}();a.Attachment=b,c=function(a){function b(c){var d=a.call(this,c)||this;return d.id=(65535&b.nextID++)<<11,d.worldVerticesLength=0,d}return __extends(b,a),b.prototype.computeWorldVerticesOld=function(a,b){this.computeWorldVertices(a,0,this.worldVerticesLength,b,0,2)},b.prototype.computeWorldVertices=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;if(c=e+(c>>1)*f,g=a.bone.skeleton,h=a.attachmentVertices,i=this.vertices,j=this.bones,null!=j){for(v=0,w=0,x=0;b>x;x+=2)y=j[v],v+=y+1,w+=y;if(z=g.bones,0==h.length)for(s=e,o=3*w;c>s;s+=f){for(A=0,B=0,y=j[v++],y+=v;y>v;v++,o+=3)k=z[j[v]].matrix,t=i[o],u=i[o+1],C=i[o+2],A+=(t*k.a+u*k.c+k.tx)*C,B+=(t*k.b+u*k.d+k.ty)*C;d[s]=A,d[s+1]=B}else for(D=h,s=e,o=3*w,E=w<<1;c>s;s+=f){for(A=0,B=0,y=j[v++],y+=v;y>v;v++,o+=3,E+=2)k=z[j[v]].matrix,t=i[o]+D[E],u=i[o+1]+D[E+1],C=i[o+2],A+=(t*k.a+u*k.c+k.tx)*C,B+=(t*k.b+u*k.d+k.ty)*C;d[s]=A,d[s+1]=B}}else for(h.length>0&&(i=h),k=a.bone.matrix,l=k.tx,m=k.ty,n=k.a,o=k.c,p=k.b,q=k.d,r=b,s=e;c>s;r+=2,s+=f)t=i[r],u=i[r+1],d[s]=t*n+u*o+l,d[s+1]=t*p+u*q+m},b.prototype.applyDeform=function(a){return this==a},b}(b),c.nextID=0,a.VertexAttachment=c}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b;!function(a){a[a["Region"]=0]="Region",a[a["BoundingBox"]=1]="BoundingBox",a[a["Mesh"]=2]="Mesh",a[a["LinkedMesh"]=3]="LinkedMesh",a[a["Path"]=4]="Path",a[a["Point"]=5]="Point"}(b=a.AttachmentType||(a.AttachmentType={}))}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(b){function c(c){var d=b.call(this,c)||this;return d.color=new a.Color(1,1,1,1),d}return __extends(c,b),c}(a.VertexAttachment);a.BoundingBoxAttachment=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(b){function c(c){var d=b.call(this,c)||this;return d.color=new a.Color(.2275,.2275,.8078,1),d}return __extends(c,b),c}(a.VertexAttachment);a.ClippingAttachment=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(b){function c(c){var d=b.call(this,c)||this;return d.color=new a.Color(1,1,1,1),d.inheritDeform=!1,d.tempColor=new a.Color(0,0,0,0),d}return __extends(c,b),c.prototype.updateUVs=function(b,c){var f,g,h,i,j,k,l,m,n,o,p,d=this.regionUVs,e=d.length;if(c&&c.length==e||(c=a.Utils.newFloatArray(e)),null!=b){for(f=b.texture,g=f._uvs,h=b.width,i=b.height,j=b.originalWidth,k=b.originalHeight,l=b.offsetX,m=b.pixiOffsetY,n=0;e>n;n+=2)o=this.regionUVs[n],p=this.regionUVs[n+1],o=(o*j-l)/h,p=(p*k-m)/i,c[n]=(g.x0*(1-o)+g.x1*o)*(1-p)+(g.x3*(1-o)+g.x2*o)*p,c[n+1]=(g.y0*(1-o)+g.y1*o)*(1-p)+(g.y3*(1-o)+g.y2*o)*p;return c}},c.prototype.applyDeform=function(a){return this==a||this.inheritDeform&&this.parentMesh==a},c.prototype.getParentMesh=function(){return this.parentMesh},c.prototype.setParentMesh=function(a){this.parentMesh=a,null!=a&&(this.bones=a.bones,this.vertices=a.vertices,this.worldVerticesLength=a.worldVerticesLength,this.regionUVs=a.regionUVs,this.triangles=a.triangles,this.hullLength=a.hullLength,this.worldVerticesLength=a.worldVerticesLength)},c}(a.VertexAttachment);a.MeshAttachment=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(b){function c(c){var d=b.call(this,c)||this;return d.closed=!1,d.constantSpeed=!1,d.color=new a.Color(1,1,1,1),d}return __extends(c,b),c}(a.VertexAttachment);a.PathAttachment=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(b){function c(c){var d=b.call(this,c)||this;return d.color=new a.Color(.38,.94,0,1),d}return __extends(c,b),c.prototype.computeWorldPosition=function(a,b){var c=a.matrix;return b.x=this.x*c.a+this.y*c.c+a.worldX,b.y=this.x*c.b+this.y*c.d+a.worldY,b},c.prototype.computeWorldRotation=function(b){var c=b.matrix,d=a.MathUtils.cosDeg(this.rotation),e=a.MathUtils.sinDeg(this.rotation),f=d*c.a+e*c.c,g=d*c.b+e*c.d;return Math.atan2(g,f)*a.MathUtils.radDeg},c}(a.VertexAttachment);a.PointAttachment=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(b){function c(c){var d=b.call(this,c)||this;return d.x=0,d.y=0,d.scaleX=1,d.scaleY=1,d.rotation=0,d.width=0,d.height=0,d.color=new a.Color(1,1,1,1),d.offset=a.Utils.newFloatArray(8),d.uvs=a.Utils.newFloatArray(8),d.tempColor=new a.Color(1,1,1,1),d}return __extends(c,b),c.prototype.updateOffset=function(){var a=this.width/this.region.originalWidth*this.scaleX,b=this.height/this.region.originalHeight*this.scaleY,d=-this.width/2*this.scaleX+this.region.offsetX*a,e=-this.height/2*this.scaleY+this.region.offsetY*b,f=d+this.region.width*a,g=e+this.region.height*b,h=this.rotation*Math.PI/180,i=Math.cos(h),j=Math.sin(h),k=d*i+this.x,l=d*j,m=e*i+this.y,n=e*j,o=f*i+this.x,p=f*j,q=g*i+this.y,r=g*j,s=this.offset;s[c.OX1]=k-n,s[c.OY1]=m+l,s[c.OX2]=k-r,s[c.OY2]=q+l,s[c.OX3]=o-r,s[c.OY3]=q+p,s[c.OX4]=o-n,s[c.OY4]=m+p},c.prototype.setRegion=function(a){this.region=a;var b=this.uvs;a.rotate?(b[2]=a.u,b[3]=a.v2,b[4]=a.u,b[5]=a.v,b[6]=a.u2,b[7]=a.v,b[0]=a.u2,b[1]=a.v2):(b[0]=a.u,b[1]=a.v2,b[2]=a.u,b[3]=a.v,b[4]=a.u2,b[5]=a.v,b[6]=a.u2,b[7]=a.v2)},c.prototype.computeWorldVertices=function(a,b,d,e){var f=this.offset,g=a.matrix,h=g.tx,i=g.ty,j=g.a,k=g.c,l=g.b,m=g.d,n=0,o=0;n=f[c.OX1],o=f[c.OY1],b[d]=n*j+o*k+h,b[d+1]=n*l+o*m+i,d+=e,n=f[c.OX2],o=f[c.OY2],b[d]=n*j+o*k+h,b[d+1]=n*l+o*m+i,d+=e,n=f[c.OX3],o=f[c.OY3],b[d]=n*j+o*k+h,b[d+1]=n*l+o*m+i,d+=e,n=f[c.OX4],o=f[c.OY4],b[d]=n*j+o*k+h,b[d+1]=n*l+o*m+i},c}(a.Attachment);b.OX1=0,b.OY1=1,b.OX2=2,b.OY2=3,b.OX3=4,b.OY3=5,b.OX4=6,b.OY4=7,b.X1=0,b.Y1=1,b.C1R=2,b.C1G=3,b.C1B=4,b.C1A=5,b.U1=6,b.V1=7,b.X2=8,b.Y2=9,b.C2R=10,b.C2G=11,b.C2B=12,b.C2A=13,b.U2=14,b.V2=15,b.X3=16,b.Y3=17,b.C3R=18,b.C3G=19,b.C3B=20,b.C3A=21,b.U3=22,b.V3=23,b.X4=24,b.Y4=25,b.C4R=26,b.C4G=27,b.C4B=28,b.C4A=29,b.U4=30,b.V4=31,a.RegionAttachment=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b;!function(a){a[a["Normal"]=0]="Normal",a[a["Additive"]=1]="Additive",a[a["Multiply"]=2]="Multiply",a[a["Screen"]=3]="Screen"}(b=a.BlendMode||(a.BlendMode={}))}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(){function b(a,b,c){if(this.matrix=new PIXI.Matrix,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,null==a)throw new Error("data cannot be null.");if(null==b)throw new Error("skeleton cannot be null.");this.data=a,this.skeleton=b,this.parent=c,this.setToSetupPose()}return Object.defineProperty(b.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!0,configurable:!0}),b.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},b.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},b.prototype.updateWorldTransformWith=function(c,d,e,f,g,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;if(this.ax=c,this.ay=d,this.arotation=e,this.ascaleX=f,this.ascaleY=g,this.ashearX=h,this.ashearY=i,this.appliedValid=!0,j=this.parent,k=this.matrix,null==j)return l=e+90+i,m=a.MathUtils.cosDeg(e+h)*f,n=a.MathUtils.cosDeg(l)*g,o=a.MathUtils.sinDeg(e+h)*f,p=a.MathUtils.sinDeg(l)*g,q=this.skeleton,q.flipX&&(c=-c,m=-m,n=-n),q.flipY!==b.yDown&&(d=-d,o=-o,p=-p),k.a=m,k.c=n,k.b=o,k.d=p,k.tx=c+q.x,k.ty=d+q.y,void 0;switch(r=j.matrix.a,s=j.matrix.c,t=j.matrix.b,u=j.matrix.d,k.tx=r*c+s*d+j.matrix.tx,k.ty=t*c+u*d+j.matrix.ty,this.data.transformMode){case a.TransformMode.Normal:return l=e+90+i,m=a.MathUtils.cosDeg(e+h)*f,n=a.MathUtils.cosDeg(l)*g,o=a.MathUtils.sinDeg(e+h)*f,p=a.MathUtils.sinDeg(l)*g,k.a=r*m+s*o,k.c=r*n+s*p,k.b=t*m+u*o,k.d=t*n+u*p,void 0;case a.TransformMode.OnlyTranslation:l=e+90+i,k.a=a.MathUtils.cosDeg(e+h)*f,k.c=a.MathUtils.cosDeg(l)*g,k.b=a.MathUtils.sinDeg(e+h)*f,k.d=a.MathUtils.sinDeg(l)*g;break;case a.TransformMode.NoRotationOrReflection:v=r*r+t*t,w=0,v>1e-4?(v=Math.abs(r*u-s*t)/v,s=t*v,u=r*v,w=Math.atan2(t,r)*a.MathUtils.radDeg):(r=0,t=0,w=90-Math.atan2(u,s)*a.MathUtils.radDeg),x=e+h-w,y=e+i-w+90,m=a.MathUtils.cosDeg(x)*f,n=a.MathUtils.cosDeg(y)*g,o=a.MathUtils.sinDeg(x)*f,p=a.MathUtils.sinDeg(y)*g,k.a=r*m-s*o,k.c=r*n-s*p,k.b=t*m+u*o,k.d=t*n+u*p;break;case a.TransformMode.NoScale:case a.TransformMode.NoScaleOrReflection:return z=a.MathUtils.cosDeg(e),A=a.MathUtils.sinDeg(e),B=r*z+s*A,C=t*z+u*A,v=Math.sqrt(B*B+C*C),v>1e-5&&(v=1/v),B*=v,C*=v,v=Math.sqrt(B*B+C*C),D=Math.PI/2+Math.atan2(C,B),E=Math.cos(D)*v,F=Math.sin(D)*v,m=a.MathUtils.cosDeg(h)*f,n=a.MathUtils.cosDeg(90+i)*g,o=a.MathUtils.sinDeg(h)*f,p=a.MathUtils.sinDeg(90+i)*g,k.a=B*m+E*o,k.c=B*n+E*p,k.b=C*m+F*o,k.d=C*n+F*p,(this.data.transformMode!=a.TransformMode.NoScaleOrReflection?0>r*u-s*t:this.skeleton.flipX!=this.skeleton.flipY!=b.yDown)&&(k.c=-k.c,k.d=-k.d),void 0}this.skeleton.flipX&&(k.a=-k.a,k.c=-k.c),this.skeleton.flipY!=b.yDown&&(k.b=-k.b,k.d=-k.d)},b.prototype.setToSetupPose=function(){var a=this.data;this.x=a.x,this.y=a.y,this.rotation=a.rotation,this.scaleX=a.scaleX,this.scaleY=a.scaleY,this.shearX=a.shearX,this.shearY=a.shearY},b.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*a.MathUtils.radDeg},b.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*a.MathUtils.radDeg},b.prototype.getWorldScaleX=function(){var a=this.matrix;return Math.sqrt(a.a*a.a+a.c*a.c)},b.prototype.getWorldScaleY=function(){var a=this.matrix;return Math.sqrt(a.b*a.b+a.d*a.d)},b.prototype.updateAppliedTransform=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;return this.appliedValid=!0,b=this.parent,c=this.matrix,null==b?(this.ax=c.tx,this.ay=c.ty,this.arotation=Math.atan2(c.b,c.a)*a.MathUtils.radDeg,this.ascaleX=Math.sqrt(c.a*c.a+c.b*c.b),this.ascaleY=Math.sqrt(c.c*c.c+c.d*c.d),this.ashearX=0,this.ashearY=Math.atan2(c.a*c.c+c.b*c.d,c.a*c.d-c.b*c.c)*a.MathUtils.radDeg,void 0):(d=b.matrix,e=1/(d.a*d.d-d.b*d.c),f=c.tx-d.tx,g=c.ty-d.ty,this.ax=f*d.d*e-g*d.c*e,this.ay=g*d.a*e-f*d.b*e,h=e*d.d,i=e*d.a,j=e*d.c,k=e*d.b,l=h*c.a-j*c.b,m=h*c.c-j*c.d,n=i*c.b-k*c.a,o=i*c.d-k*c.c,this.ashearX=0,this.ascaleX=Math.sqrt(l*l+n*n),this.ascaleX>1e-4?(p=l*o-m*n,this.ascaleY=p/this.ascaleX,this.ashearY=Math.atan2(l*m+n*o,p)*a.MathUtils.radDeg,this.arotation=Math.atan2(n,l)*a.MathUtils.radDeg):(this.ascaleX=0,this.ascaleY=Math.sqrt(m*m+o*o),this.ashearY=0,this.arotation=90-Math.atan2(o,m)*a.MathUtils.radDeg),void 0)},b.prototype.worldToLocal=function(a){var b=this.matrix,c=b.a,d=b.c,e=b.b,f=b.d,g=1/(c*f-d*e),h=a.x-b.tx,i=a.y-b.ty;return a.x=h*f*g-i*d*g,a.y=i*c*g-h*e*g,a},b.prototype.localToWorld=function(a){var b=this.matrix,c=a.x,d=a.y;return a.x=c*b.a+d*b.c+b.tx,a.y=c*b.b+d*b.d+b.ty,a},b.prototype.worldToLocalRotation=function(b){var c=a.MathUtils.sinDeg(b),d=a.MathUtils.cosDeg(b),e=this.matrix;return Math.atan2(e.a*c-e.b*d,e.d*d-e.c*c)*a.MathUtils.radDeg},b.prototype.localToWorldRotation=function(b){var c=a.MathUtils.sinDeg(b),d=a.MathUtils.cosDeg(b),e=this.matrix;return Math.atan2(d*e.b+c*e.d,d*e.a+c*e.c)*a.MathUtils.radDeg},b.prototype.rotateWorld=function(b){var c=this.matrix,d=c.a,e=c.c,f=c.b,g=c.d,h=a.MathUtils.cosDeg(b),i=a.MathUtils.sinDeg(b);c.a=h*d-i*f,c.c=h*e-i*g,c.b=i*d+h*f,c.d=i*e+h*g,this.appliedValid=!1},b}();b.yDown=!1,a.Bone=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var c,b=function(){function a(a,b,d){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=c.Normal,0>a)throw new Error("index must be >= 0.");if(null==b)throw new Error("name cannot be null.");this.index=a,this.name=b,this.parent=d}return a}();a.BoneData=b,function(a){a[a["Normal"]=0]="Normal",a[a["OnlyTranslation"]=1]="OnlyTranslation",a[a["NoRotationOrReflection"]=2]="NoRotationOrReflection",a[a["NoScale"]=3]="NoScale",a[a["NoScaleOrReflection"]=4]="NoScaleOrReflection"}(c=a.TransformMode||(a.TransformMode={}))}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(){function a(a,b){if(null==b)throw new Error("data cannot be null.");this.time=a,this.data=b}return a}();a.Event=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(){function a(a){this.name=a}return a}();a.EventData=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(){function b(a,b){if(this.mix=1,this.bendDirection=0,null==a)throw new Error("data cannot be null.");if(null==b)throw new Error("skeleton cannot be null.");this.data=a,this.mix=a.mix,this.bendDirection=a.bendDirection,this.bones=new Array;for(var c=0;c<a.bones.length;c++)this.bones.push(b.findBone(a.bones[c].name));this.target=b.findBone(a.target.name)}return b.prototype.getOrder=function(){return this.data.order},b.prototype.apply=function(){this.update()},b.prototype.update=function(){var a=this.target,b=this.bones;switch(b.length){case 1:this.apply1(b[0],a.worldX,a.worldY,this.mix);break;case 2:this.apply2(b[0],b[1],a.worldX,a.worldY,this.bendDirection,this.mix)}},b.prototype.apply1=function(b,c,d,e){var f,g,h,i,j,k,l;b.appliedValid||b.updateAppliedTransform(),f=b.parent.matrix,g=1/(f.a*f.d-f.b*f.c),h=c-f.tx,i=d-f.ty,j=(h*f.d-i*f.c)*g-b.ax,k=(i*f.a-h*f.b)*g-b.ay,l=Math.atan2(k,j)*a.MathUtils.radDeg-b.ashearX-b.arotation,b.ascaleX<0&&(l+=180),l>180?l-=360:-180>l&&(l+=360),b.updateWorldTransformWith(b.ax,b.ay,b.arotation+l*e,b.ascaleX,b.ascaleY,b.ashearX,b.ashearY)},b.prototype.apply2=function(b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db;if(0==g)return c.updateWorldTransform(),void 0;b.appliedValid||b.updateAppliedTransform(),c.appliedValid||c.updateAppliedTransform(),h=b.ax,i=b.ay,j=b.ascaleX,k=b.ascaleY,l=c.ascaleX,m=b.matrix,n=0,o=0,p=0,0>j?(j=-j,n=180,p=-1):(n=0,p=1),0>k&&(k=-k,p=-p),0>l?(l=-l,o=180):o=0,q=c.ax,r=0,s=0,t=0,u=m.a,v=m.c,w=m.b,x=m.d,y=Math.abs(j-k)<=1e-4,y?(r=c.ay,s=u*q+v*r+m.tx,t=w*q+x*r+m.ty):(r=0,s=u*q+m.tx,t=w*q+m.ty),z=b.parent.matrix,u=z.a,v=z.c,w=z.b,x=z.d,A=1/(u*x-v*w),B=d-z.tx,C=e-z.ty,D=(B*x-C*v)*A-h,E=(C*u-B*w)*A-i,B=s-z.tx,C=t-z.ty,F=(B*x-C*v)*A-h,G=(C*u-B*w)*A-i,H=Math.sqrt(F*F+G*G),I=c.data.length*l,J=0,K=0;a:if(y)I*=j,L=(D*D+E*E-H*H-I*I)/(2*H*I),-1>L?L=-1:L>1&&(L=1),K=Math.acos(L)*f,u=H+I*L,v=I*Math.sin(K),J=Math.atan2(E*u-D*v,D*u+E*v);else{if(u=j*I,v=k*I,M=u*u,N=v*v,O=D*D+E*E,P=Math.atan2(E,D),w=N*H*H+M*O-M*N,Q=-2*N*H,R=N-M,x=Q*Q-4*R*w,x>=0&&(S=Math.sqrt(x),0>Q&&(S=-S),S=-(Q+S)/2,T=S/R,U=w/S,V=Math.abs(T)<Math.abs(U)?T:U,O>=V*V)){C=Math.sqrt(O-V*V)*f,J=P-Math.atan2(C,V),K=Math.atan2(C/k,(V-H)/j);break a}W=a.MathUtils.PI,X=H-u,Y=X*X,Z=0,$=0,_=H+u,ab=_*_,bb=0,w=-u*H/(M-N),w>=-1&&1>=w&&(w=Math.acos(w),B=u*Math.cos(w)+H,C=v*Math.sin(w),x=B*B+C*C,Y>x&&(W=w,Y=x,X=B,Z=C),x>ab&&($=w,ab=x,_=B,bb=C)),(Y+ab)/2>=O?(J=P-Math.atan2(Z*f,X),K=W*f):(J=P-Math.atan2(bb*f,_),K=$*f)}cb=Math.atan2(r,q)*p,db=b.arotation,J=(J-cb)*a.MathUtils.radDeg+n-db,J>180?J-=360:-180>J&&(J+=360),b.updateWorldTransformWith(h,i,db+J*g,b.ascaleX,b.ascaleY,0,0),db=c.arotation,K=((K+cb)*a.MathUtils.radDeg-c.ashearX)*p+o-db,K>180?K-=360:-180>K&&(K+=360),c.updateWorldTransformWith(q,r,db+K*g,c.ascaleX,c.ascaleY,c.ashearX,c.ashearY)},b}();a.IkConstraint=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(){function a(a){this.order=0,this.bones=new Array,this.bendDirection=1,this.mix=1,this.name=a}return a}();a.IkConstraintData=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(){function b(a,b){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,null==a)throw new Error("data cannot be null.");if(null==b)throw new Error("skeleton cannot be null.");this.data=a,this.bones=new Array;for(var c=0,d=a.bones.length;d>c;c++)this.bones.push(b.findBone(a.bones[c].name));this.target=b.findSlot(a.target.name),this.position=a.position,this.spacing=a.spacing,this.rotateMix=a.rotateMix,this.translateMix=a.translateMix}return b.prototype.apply=function(){this.update()},b.prototype.update=function(){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,b=this.target.getAttachment();if(b instanceof a.PathAttachment&&(c=this.rotateMix,d=this.translateMix,e=d>0,f=c>0,e||f)){if(g=this.data,h=g.spacingMode,i=h==a.SpacingMode.Length,j=g.rotateMode,k=j==a.RotateMode.Tangent,l=j==a.RotateMode.ChainScale,m=this.bones.length,n=k?m:m+1,o=this.bones,p=a.Utils.setArraySize(this.spaces,n),q=null,r=this.spacing,l||i)for(l&&(q=a.Utils.setArraySize(this.lengths,m)),s=0,t=n-1;t>s;)u=o[s],v=u.data.length,w=v*u.matrix.a,x=v*u.matrix.b,y=Math.sqrt(w*w+x*x),l&&(q[s]=y),p[++s]=(i?v+r:r)*y/v;else for(s=1;n>s;s++)p[s]=r;for(z=this.computeWorldPositions(b,n,k,g.positionMode==a.PositionMode.Percent,h==a.SpacingMode.Percent),A=z[0],B=z[1],C=g.offsetRotation,D=!1,0==C?D=j==a.RotateMode.Chain:(D=!1,E=this.target.bone.matrix,C*=E.a*E.d-E.b*E.c>0?a.MathUtils.degRad:-a.MathUtils.degRad),s=0,E=3;m>s;s++,E+=3)u=o[s],F=u.matrix,F.tx+=(A-F.tx)*d,F.ty+=(B-F.ty)*d,w=z[E],x=z[E+1],G=w-A,H=x-B,l&&(I=q[s],0!=I&&(J=(Math.sqrt(G*G+H*H)/I-1)*c+1,F.a*=J,F.b*=J)),A=w,B=x,f&&(K=F.a,L=F.c,M=F.b,N=F.d,O=0,P=0,Q=0,O=k?z[E-1]:0==p[s+1]?z[E+2]:Math.atan2(H,G),O-=Math.atan2(M,K),D?(P=Math.cos(O),Q=Math.sin(O),R=u.data.length,A+=(R*(P*K-Q*M)-G)*c,B+=(R*(Q*K+P*M)-H)*c):O+=C,O>a.MathUtils.PI?O-=a.MathUtils.PI2:O<-a.MathUtils.PI&&(O+=a.MathUtils.PI2),O*=c,P=Math.cos(O),Q=Math.sin(O),F.a=P*K-Q*M,F.c=P*L-Q*N,F.b=Q*K+P*M,F.d=Q*L+P*N),u.appliedValid=!1}},b.prototype.computeWorldPositions=function(c,d,e,f,g){var q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,h=this.target,i=this.position,j=this.spaces,k=a.Utils.setArraySize(this.positions,3*d+2),l=null,m=c.closed,n=c.worldVerticesLength,o=n/6,p=b.NONE;if(!c.constantSpeed){if(q=c.lengths,o-=m?1:2,r=q[o],f&&(i*=r),g)for(s=0;d>s;s++)j[s]*=r;for(l=a.Utils.setArraySize(this.world,8),s=0,t=0,u=0;d>s;s++,t+=3){if(v=j[s],i+=v,w=i,m)w%=r,0>w&&(w+=r),u=0;else{if(0>w){p!=b.BEFORE&&(p=b.BEFORE,c.computeWorldVertices(h,2,4,l,0,2)),this.addBeforePosition(w,l,0,k,t);continue}if(w>r){p!=b.AFTER&&(p=b.AFTER,c.computeWorldVertices(h,n-6,4,l,0,2)),this.addAfterPosition(w-r,l,0,k,t);continue}}for(;;u++)if(x=q[u],!(w>x)){0==u?w/=x:(y=q[u-1],w=(w-y)/(x-y));break}u!=p&&(p=u,m&&u==o?(c.computeWorldVertices(h,n-4,4,l,0,2),c.computeWorldVertices(h,0,4,l,4,2)):c.computeWorldVertices(h,6*u+2,8,l,0,2)),this.addCurvePosition(w,l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],k,t,e||s>0&&0==v)}return k}for(m?(n+=2,l=a.Utils.setArraySize(this.world,n),c.computeWorldVertices(h,2,n-4,l,0,2),c.computeWorldVertices(h,0,2,l,n-4,2),l[n-2]=l[0],l[n-1]=l[1]):(o--,n-=4,l=a.Utils.setArraySize(this.world,n),c.computeWorldVertices(h,2,n,l,0,2)),z=a.Utils.setArraySize(this.curves,o),A=0,B=l[0],C=l[1],D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=0,O=0,P=0,Q=0,s=0,R=2;o>s;s++,R+=6)D=l[R],E=l[R+1],F=l[R+2],G=l[R+3],H=l[R+4],I=l[R+5],J=.1875*(B-2*D+F),K=.1875*(C-2*E+G),L=.09375*(3*(D-F)-B+H),M=.09375*(3*(E-G)-C+I),N=2*J+L,O=2*K+M,P=.75*(D-B)+J+.16666667*L,Q=.75*(E-C)+K+.16666667*M,A+=Math.sqrt(P*P+Q*Q),P+=N,Q+=O,N+=L,O+=M,A+=Math.sqrt(P*P+Q*Q),P+=N,Q+=O,A+=Math.sqrt(P*P+Q*Q),P+=N+L,Q+=O+M,A+=Math.sqrt(P*P+Q*Q),z[s]=A,B=H,C=I;if(f&&(i*=A),g)for(s=0;d>s;s++)j[s]*=A;for(S=this.segments,T=0,s=0,t=0,u=0,U=0;d>s;s++,t+=3){if(v=j[s],i+=v,w=i,m)w%=A,0>w&&(w+=A),u=0;else{if(0>w){this.addBeforePosition(w,l,0,k,t);continue}if(w>A){this.addAfterPosition(w-A,l,n-4,k,t);continue}}for(;;u++)if(V=z[u],!(w>V)){0==u?w/=V:(y=z[u-1],w=(w-y)/(V-y));break}if(u!=p){for(p=u,W=6*u,B=l[W],C=l[W+1],D=l[W+2],E=l[W+3],F=l[W+4],G=l[W+5],H=l[W+6],I=l[W+7],J=.03*(B-2*D+F),K=.03*(C-2*E+G),L=.006*(3*(D-F)-B+H),M=.006*(3*(E-G)-C+I),N=2*J+L,O=2*K+M,P=.3*(D-B)+J+.16666667*L,Q=.3*(E-C)+K+.16666667*M,T=Math.sqrt(P*P+Q*Q),S[0]=T,W=1;8>W;W++)P+=N,Q+=O,N+=L,O+=M,T+=Math.sqrt(P*P+Q*Q),S[W]=T;P+=N,Q+=O,T+=Math.sqrt(P*P+Q*Q),S[8]=T,P+=N+L,Q+=O+M,T+=Math.sqrt(P*P+Q*Q),S[9]=T,U=0}for(w*=T;;U++)if(X=S[U],!(w>X)){0==U?w/=X:(y=S[U-1],w=U+(w-y)/(X-y));break}this.addCurvePosition(.1*w,B,C,D,E,F,G,H,I,k,t,e||s>0&&0==v)}return k},b.prototype.addBeforePosition=function(a,b,c,d,e){var f=b[c],g=b[c+1],h=b[c+2]-f,i=b[c+3]-g,j=Math.atan2(i,h);d[e]=f+a*Math.cos(j),d[e+1]=g+a*Math.sin(j),d[e+2]=j},b.prototype.addAfterPosition=function(a,b,c,d,e){var f=b[c+2],g=b[c+3],h=f-b[c],i=g-b[c+1],j=Math.atan2(i,h);d[e]=f+a*Math.cos(j),d[e+1]=g+a*Math.sin(j),d[e+2]=j},b.prototype.addCurvePosition=function(a,b,c,d,e,f,g,h,i,j,k,l){var m,n,o,p,q,r,s,t,u,v,w;(0==a||isNaN(a))&&(a=1e-4),m=a*a,n=m*a,o=1-a,p=o*o,q=p*o,r=o*a,s=3*r,t=o*s,u=s*a,v=b*q+d*t+f*u+h*n,w=c*q+e*t+g*u+i*n,j[k]=v,j[k+1]=w,l&&(j[k+2]=Math.atan2(w-(c*p+2*e*r+g*m),v-(b*p+2*d*r+f*m)))},b.prototype.getOrder=function(){return this.data.order},b}();b.NONE=-1,b.BEFORE=-2,b.AFTER=-3,a.PathConstraint=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var c,d,e,b=function(){function a(a){this.order=0,this.bones=new Array,this.name=a}return a}();a.PathConstraintData=b,function(a){a[a["Fixed"]=0]="Fixed",a[a["Percent"]=1]="Percent"}(c=a.PositionMode||(a.PositionMode={})),function(a){a[a["Length"]=0]="Length",a[a["Fixed"]=1]="Fixed",a[a["Percent"]=2]="Percent"}(d=a.SpacingMode||(a.SpacingMode={})),function(a){a[a["Tangent"]=0]="Tangent",a[a["Chain"]=1]="Chain",a[a["ChainScale"]=2]="ChainScale"}(e=a.RotateMode||(a.RotateMode={}))}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(){function b(b){var c,d,e,f,g,h,i,j,k;if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.flipX=!1,this.flipY=!1,this.x=0,this.y=0,null==b)throw new Error("data cannot be null.");for(this.data=b,this.bones=new Array,c=0;c<b.bones.length;c++)d=b.bones[c],e=void 0,null==d.parent?e=new a.Bone(d,this,null):(f=this.bones[d.parent.index],e=new a.Bone(d,this,f),f.children.push(e)),this.bones.push(e);for(this.slots=new Array,this.drawOrder=new Array,c=0;c<b.slots.length;c++)g=b.slots[c],e=this.bones[g.boneData.index],h=new a.Slot(g,e),this.slots.push(h),this.drawOrder.push(h);for(this.ikConstraints=new Array,c=0;c<b.ikConstraints.length;c++)i=b.ikConstraints[c],this.ikConstraints.push(new a.IkConstraint(i,this));for(this.transformConstraints=new Array,c=0;c<b.transformConstraints.length;c++)j=b.transformConstraints[c],this.transformConstraints.push(new a.TransformConstraint(j,this));for(this.pathConstraints=new Array,c=0;c<b.pathConstraints.length;c++)k=b.pathConstraints[c],this.pathConstraints.push(new a.PathConstraint(k,this));this.color=new a.Color(1,1,1,1),this.updateCache()}return b.prototype.updateCache=function(){var b,c,d,e,f,g,h,i,j,k,l,m,a=this._updateCache;for(a.length=0,this.updateCacheReset.length=0,b=this.bones,c=0,d=b.length;d>c;c++)b[c].sorted=!1;e=this.ikConstraints,f=this.transformConstraints,g=this.pathConstraints,h=e.length,i=f.length,j=g.length,k=h+i+j;a:for(c=0;k>c;c++){for(l=0;h>l;l++)if(m=e[l],m.data.order==c){this.sortIkConstraint(m);continue a}for(l=0;i>l;l++)if(m=f[l],m.data.order==c){this.sortTransformConstraint(m);continue a}for(l=0;j>l;l++)if(m=g[l],m.data.order==c){this.sortPathConstraint(m);continue a}}for(c=0,d=b.length;d>c;c++)this.sortBone(b[c])},b.prototype.sortIkConstraint=function(a){var c,d,e,b=a.target;this.sortBone(b),c=a.bones,d=c[0],this.sortBone(d),c.length>1&&(e=c[c.length-1],this._updateCache.indexOf(e)>-1||this.updateCacheReset.push(e)),this._updateCache.push(a),this.sortReset(d.children),c[c.length-1].sorted=!0},b.prototype.sortPathConstraint=function(b){var f,g,h,i,j,c=b.target,d=c.data.index,e=c.bone;for(null!=this.skin&&this.sortPathConstraintAttachment(this.skin,d,e),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,d,e),f=0,g=this.data.skins.length;g>f;f++)this.sortPathConstraintAttachment(this.data.skins[f],d,e);for(h=c.getAttachment(),h instanceof a.PathAttachment&&this.sortPathConstraintAttachmentWith(h,e),i=b.bones,j=i.length,f=0;j>f;f++)this.sortBone(i[f]);for(this._updateCache.push(b),f=0;j>f;f++)this.sortReset(i[f].children);for(f=0;j>f;f++)i[f].sorted=!0},b.prototype.sortTransformConstraint=function(a){var b,c,d,e,f;if(this.sortBone(a.target),b=a.bones,c=b.length,a.data.local)for(d=0;c>d;d++)e=b[d],this.sortBone(e.parent),this._updateCache.indexOf(e)>-1||this.updateCacheReset.push(e);else for(d=0;c>d;d++)this.sortBone(b[d]);for(this._updateCache.push(a),f=0;c>f;f++)this.sortReset(b[f].children);for(f=0;c>f;f++)b[f].sorted=!0},b.prototype.sortPathConstraintAttachment=function(a,b,c){var e,d=a.attachments[b];if(d)for(e in d)this.sortPathConstraintAttachmentWith(d[e],c)
},b.prototype.sortPathConstraintAttachmentWith=function(b,c){var d,e,f,g,h,i;if(b instanceof a.PathAttachment)if(d=b.bones,null==d)this.sortBone(c);else for(e=this.bones,f=0;f<d.length;)for(g=d[f++],h=f+g;h>f;f++)i=d[f],this.sortBone(e[i])},b.prototype.sortBone=function(a){if(!a.sorted){var b=a.parent;null!=b&&this.sortBone(b),a.sorted=!0,this._updateCache.push(a)}},b.prototype.sortReset=function(a){var b,c,d;for(b=0,c=a.length;c>b;b++)d=a[b],d.sorted&&this.sortReset(d.children),d.sorted=!1},b.prototype.updateWorldTransform=function(){var b,c,d,e,a=this.updateCacheReset;for(b=0,c=a.length;c>b;b++)d=a[b],d.ax=d.x,d.ay=d.y,d.arotation=d.rotation,d.ascaleX=d.scaleX,d.ascaleY=d.scaleY,d.ashearX=d.shearX,d.ashearY=d.shearY,d.appliedValid=!0;for(e=this._updateCache,b=0,c=e.length;c>b;b++)e[b].update()},b.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},b.prototype.setBonesToSetupPose=function(){var b,c,d,e,f,g,h,a=this.bones;for(b=0,c=a.length;c>b;b++)a[b].setToSetupPose();for(d=this.ikConstraints,b=0,c=d.length;c>b;b++)e=d[b],e.bendDirection=e.data.bendDirection,e.mix=e.data.mix;for(f=this.transformConstraints,b=0,c=f.length;c>b;b++)e=f[b],g=e.data,e.rotateMix=g.rotateMix,e.translateMix=g.translateMix,e.scaleMix=g.scaleMix,e.shearMix=g.shearMix;for(h=this.pathConstraints,b=0,c=h.length;c>b;b++)e=h[b],g=e.data,e.position=g.position,e.spacing=g.spacing,e.rotateMix=g.rotateMix,e.translateMix=g.translateMix},b.prototype.setSlotsToSetupPose=function(){var c,d,b=this.slots;for(a.Utils.arrayCopy(b,0,this.drawOrder,0,b.length),c=0,d=b.length;d>c;c++)b[c].setToSetupPose()},b.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},b.prototype.findBone=function(a){var b,c,d,e;if(null==a)throw new Error("boneName cannot be null.");for(b=this.bones,c=0,d=b.length;d>c;c++)if(e=b[c],e.data.name==a)return e;return null},b.prototype.findBoneIndex=function(a){var b,c,d;if(null==a)throw new Error("boneName cannot be null.");for(b=this.bones,c=0,d=b.length;d>c;c++)if(b[c].data.name==a)return c;return-1},b.prototype.findSlot=function(a){var b,c,d,e;if(null==a)throw new Error("slotName cannot be null.");for(b=this.slots,c=0,d=b.length;d>c;c++)if(e=b[c],e.data.name==a)return e;return null},b.prototype.findSlotIndex=function(a){var b,c,d;if(null==a)throw new Error("slotName cannot be null.");for(b=this.slots,c=0,d=b.length;d>c;c++)if(b[c].data.name==a)return c;return-1},b.prototype.setSkinByName=function(a){var b=this.data.findSkin(a);if(null==b)throw new Error("Skin not found: "+a);this.setSkin(b)},b.prototype.setSkin=function(a){var b,c,d,e,f,g;if(null!=a)if(null!=this.skin)a.attachAll(this,this.skin);else for(b=this.slots,c=0,d=b.length;d>c;c++)e=b[c],f=e.data.attachmentName,null!=f&&(g=a.getAttachment(c,f),null!=g&&e.setAttachment(g));this.skin=a},b.prototype.getAttachmentByName=function(a,b){return this.getAttachment(this.data.findSlotIndex(a),b)},b.prototype.getAttachment=function(a,b){if(null==b)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var c=this.skin.getAttachment(a,b);if(null!=c)return c}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(a,b):null},b.prototype.setAttachment=function(a,b){var c,d,e,f,g;if(null==a)throw new Error("slotName cannot be null.");for(c=this.slots,d=0,e=c.length;e>d;d++)if(f=c[d],f.data.name==a){if(g=null,null!=b&&(g=this.getAttachment(d,b),null==g))throw new Error("Attachment not found: "+b+", for slot: "+a);return f.setAttachment(g),void 0}throw new Error("Slot not found: "+a)},b.prototype.findIkConstraint=function(a){var b,c,d,e;if(null==a)throw new Error("constraintName cannot be null.");for(b=this.ikConstraints,c=0,d=b.length;d>c;c++)if(e=b[c],e.data.name==a)return e;return null},b.prototype.findTransformConstraint=function(a){var b,c,d,e;if(null==a)throw new Error("constraintName cannot be null.");for(b=this.transformConstraints,c=0,d=b.length;d>c;c++)if(e=b[c],e.data.name==a)return e;return null},b.prototype.findPathConstraint=function(a){var b,c,d,e;if(null==a)throw new Error("constraintName cannot be null.");for(b=this.pathConstraints,c=0,d=b.length;d>c;c++)if(e=b[c],e.data.name==a)return e;return null},b.prototype.getBounds=function(b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;if(null==b)throw new Error("offset cannot be null.");if(null==c)throw new Error("size cannot be null.");for(e=this.drawOrder,f=Number.POSITIVE_INFINITY,g=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,j=0,k=e.length;k>j;j++)if(l=e[j],m=0,n=null,o=l.getAttachment(),o instanceof a.RegionAttachment?(m=8,n=a.Utils.setArraySize(d,m,0),o.computeWorldVertices(l.bone,n,0,2)):o instanceof a.MeshAttachment&&(p=o,m=p.worldVerticesLength,n=a.Utils.setArraySize(d,m,0),p.computeWorldVertices(l,0,m,n,0,2)),null!=n)for(q=0,r=n.length;r>q;q+=2)s=n[q],t=n[q+1],f=Math.min(f,s),g=Math.min(g,t),h=Math.max(h,s),i=Math.max(i,t);b.set(f,g),c.set(h-f,i-g)},b.prototype.update=function(a){this.time+=a},b}();a.Skeleton=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(){function b(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new a.Pool(function(){return a.Utils.newFloatArray(16)})}return b.prototype.update=function(b,c){var d,e,f,g,h,i,j,k,l,m;if(null==b)throw new Error("skeleton cannot be null.");for(d=this.boundingBoxes,e=this.polygons,f=this.polygonPool,g=b.slots,h=g.length,d.length=0,f.freeAll(e),e.length=0,i=0;h>i;i++)j=g[i],k=j.getAttachment(),k instanceof a.BoundingBoxAttachment&&(l=k,d.push(l),m=f.obtain(),m.length!=l.worldVerticesLength&&(m=a.Utils.newFloatArray(l.worldVerticesLength)),e.push(m),l.computeWorldVertices(j,0,l.worldVerticesLength,m,0,2));c?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},b.prototype.aabbCompute=function(){var f,g,h,i,j,k,l,m,a=Number.POSITIVE_INFINITY,b=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,d=Number.NEGATIVE_INFINITY,e=this.polygons;for(f=0,g=e.length;g>f;f++)for(h=e[f],i=h,j=0,k=h.length;k>j;j+=2)l=i[j],m=i[j+1],a=Math.min(a,l),b=Math.min(b,m),c=Math.max(c,l),d=Math.max(d,m);this.minX=a,this.minY=b,this.maxX=c,this.maxY=d},b.prototype.aabbContainsPoint=function(a,b){return a>=this.minX&&a<=this.maxX&&b>=this.minY&&b<=this.maxY},b.prototype.aabbIntersectsSegment=function(a,b,c,d){var i,j,k,e=this.minX,f=this.minY,g=this.maxX,h=this.maxY;return e>=a&&e>=c||f>=b&&f>=d||a>=g&&c>=g||b>=h&&d>=h?!1:(i=(d-b)/(c-a),j=i*(e-a)+b,j>f&&h>j?!0:(j=i*(g-a)+b,j>f&&h>j?!0:(k=(f-b)/i+a,k>e&&g>k?!0:(k=(h-b)/i+a,k>e&&g>k?!0:!1))))},b.prototype.aabbIntersectsSkeleton=function(a){return this.minX<a.maxX&&this.maxX>a.minX&&this.minY<a.maxY&&this.maxY>a.minY},b.prototype.containsPoint=function(a,b){var d,e,c=this.polygons;for(d=0,e=c.length;e>d;d++)if(this.containsPointPolygon(c[d],a,b))return this.boundingBoxes[d];return null},b.prototype.containsPointPolygon=function(a,b,c){var h,i,j,k,d=a,e=a.length,f=e-2,g=!1;for(h=0;e>h;h+=2)i=d[h+1],j=d[f+1],(c>i&&j>=c||c>j&&i>=c)&&(k=d[h],k+(c-i)/(j-i)*(d[f]-k)<b&&(g=!g)),f=h;return g},b.prototype.intersectsSegment=function(a,b,c,d){var f,g,e=this.polygons;for(f=0,g=e.length;g>f;f++)if(this.intersectsSegmentPolygon(e[f],a,b,c,d))return this.boundingBoxes[f];return null},b.prototype.intersectsSegmentPolygon=function(a,b,c,d,e){var m,n,o,p,q,r,s,t,u,f=a,g=a.length,h=b-d,i=c-e,j=b*e-c*d,k=f[g-2],l=f[g-1];for(m=0;g>m;m+=2){if(n=f[m],o=f[m+1],p=k*o-l*n,q=k-n,r=l-o,s=h*r-i*q,t=(j*q-h*p)/s,(t>=k&&n>=t||t>=n&&k>=t)&&(t>=b&&d>=t||t>=d&&b>=t)&&(u=(j*r-i*p)/s,(u>=l&&o>=u||u>=o&&l>=u)&&(u>=c&&e>=u||u>=e&&c>=u)))return!0;k=n,l=o}return!1},b.prototype.getPolygon=function(a){if(null==a)throw new Error("boundingBox cannot be null.");var b=this.boundingBoxes.indexOf(a);return-1==b?null:this.polygons[b]},b.prototype.getWidth=function(){return this.maxX-this.minX},b.prototype.getHeight=function(){return this.maxY-this.minY},b}();a.SkeletonBounds=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(){function b(){this.triangulator=new a.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}return b.prototype.clipStart=function(c,d){var e,f,g,h,i,j,k;if(null!=this.clipAttachment)return 0;for(this.clipAttachment=d,e=d.worldVerticesLength,f=a.Utils.setArraySize(this.clippingPolygon,e),d.computeWorldVertices(c,0,e,f,0,2),g=this.clippingPolygon,b.makeClockwise(g),h=this.clippingPolygons=this.triangulator.decompose(g,this.triangulator.triangulate(g)),i=0,j=h.length;j>i;i++)k=h[i],b.makeClockwise(k),k.push(k[0]),k.push(k[1]);return h.length},b.prototype.clipEndWithSlot=function(a){null!=this.clipAttachment&&this.clipAttachment.endSlot==a.data&&this.clipEnd()},b.prototype.clipEnd=function(){null!=this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},b.prototype.isClipping=function(){return null!=this.clipAttachment},b.prototype.clipTriangles=function(b,c,d,e,f,g,h,i){var q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,j=this.clipOutput,k=this.clippedVertices,l=this.clippedTriangles,m=this.clippingPolygons,n=this.clippingPolygons.length,o=i?12:8,p=0;k.length=0,l.length=0;a:for(q=0;e>q;q+=3)for(r=d[q]<<1,s=b[r],t=b[r+1],u=f[r],v=f[r+1],r=d[q+1]<<1,w=b[r],x=b[r+1],y=f[r],z=f[r+1],r=d[q+2]<<1,A=b[r],B=b[r+1],C=f[r],D=f[r+1],E=0;n>E;E++){if(F=k.length,!this.clip(s,t,w,x,A,B,m[E],j)){O=a.Utils.setArraySize(k,F+3*o),O[F]=s,O[F+1]=t,O[F+2]=g.r,O[F+3]=g.g,O[F+4]=g.b,O[F+5]=g.a,i?(O[F+6]=u,O[F+7]=v,O[F+8]=h.r,O[F+9]=h.g,O[F+10]=h.b,O[F+11]=h.a,O[F+12]=w,O[F+13]=x,O[F+14]=g.r,O[F+15]=g.g,O[F+16]=g.b,O[F+17]=g.a,O[F+18]=y,O[F+19]=z,O[F+20]=h.r,O[F+21]=h.g,O[F+22]=h.b,O[F+23]=h.a,O[F+24]=A,O[F+25]=B,O[F+26]=g.r,O[F+27]=g.g,O[F+28]=g.b,O[F+29]=g.a,O[F+30]=C,O[F+31]=D,O[F+32]=h.r,O[F+33]=h.g,O[F+34]=h.b,O[F+35]=h.a):(O[F+6]=u,O[F+7]=v,O[F+8]=w,O[F+9]=x,O[F+10]=g.r,O[F+11]=g.g,O[F+12]=g.b,O[F+13]=g.a,O[F+14]=y,O[F+15]=z,O[F+16]=A,O[F+17]=B,O[F+18]=g.r,O[F+19]=g.g,O[F+20]=g.b,O[F+21]=g.a,O[F+22]=C,O[F+23]=D),F=l.length,X=a.Utils.setArraySize(l,F+3),X[F]=p,X[F+1]=p+1,X[F+2]=p+2,p+=3;continue a}if(G=j.length,0!=G){for(H=x-B,I=A-w,J=s-A,K=B-t,L=1/(H*J+I*(t-B)),M=G>>1,N=this.clipOutput,O=a.Utils.setArraySize(k,F+M*o),P=0;G>P;P+=2)Q=N[P],R=N[P+1],O[F]=Q,O[F+1]=R,O[F+2]=g.r,O[F+3]=g.g,O[F+4]=g.b,O[F+5]=g.a,S=Q-A,T=R-B,U=(H*S+I*T)*L,V=(K*S+J*T)*L,W=1-U-V,O[F+6]=u*U+y*V+C*W,O[F+7]=v*U+z*V+D*W,i&&(O[F+8]=h.r,O[F+9]=h.g,O[F+10]=h.b,O[F+11]=h.a),F+=o;for(F=l.length,X=a.Utils.setArraySize(l,F+3*(M-2)),M--,P=1;M>P;P++)X[F]=p,X[F+1]=p+P,X[F+2]=p+P+1,F+=3;p+=M+1}}},b.prototype.clip=function(a,b,c,d,e,f,g,h){var l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,i=h,j=!1,k=null;for(g.length%4>=2?(k=h,h=this.scratch):k=this.scratch,k.length=0,k.push(a),k.push(b),k.push(c),k.push(d),k.push(e),k.push(f),k.push(a),k.push(b),h.length=0,l=g,m=g.length-4,n=0;;n+=2){for(o=l[n],p=l[n+1],q=l[n+2],r=l[n+3],s=o-q,t=p-r,u=k,v=k.length-2,w=h.length,x=0;v>x;x+=2){if(y=u[x],z=u[x+1],A=u[x+2],B=u[x+3],C=s*(B-r)-t*(A-q)>0,s*(z-r)-t*(y-q)>0){if(C){h.push(A),h.push(B);continue}D=B-z,E=A-y,F=(E*(p-z)-D*(o-y))/(D*(q-o)-E*(r-p)),h.push(o+(q-o)*F),h.push(p+(r-p)*F)}else C&&(D=B-z,E=A-y,F=(E*(p-z)-D*(o-y))/(D*(q-o)-E*(r-p)),h.push(o+(q-o)*F),h.push(p+(r-p)*F),h.push(A),h.push(B));j=!0}if(w==h.length)return i.length=0,!0;if(h.push(h[0]),h.push(h[1]),n==m)break;G=h,h=k,h.length=0,k=G}if(i!=h)for(i.length=0,n=0,H=h.length-2;H>n;n++)i[n]=h[n];else i.length=i.length-2;return j},b.makeClockwise=function(a){var i,j,k,l,m,n,b=a,c=a.length,d=b[c-2]*b[1]-b[0]*b[c-1],e=0,f=0,g=0,h=0;for(i=0,j=c-3;j>i;i+=2)e=b[i],f=b[i+1],g=b[i+2],h=b[i+3],d+=e*h-g*f;if(!(0>d))for(i=0,k=c-2,j=c>>1;j>i;i+=2)l=b[i],m=b[i+1],n=k-i,b[i]=b[n],b[i+1]=b[n+1],b[n]=l,b[n+1]=m},b}();a.SkeletonClipping=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(){function a(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return a.prototype.findBone=function(a){var b,c,d,e;if(null==a)throw new Error("boneName cannot be null.");for(b=this.bones,c=0,d=b.length;d>c;c++)if(e=b[c],e.name==a)return e;return null},a.prototype.findBoneIndex=function(a){var b,c,d;if(null==a)throw new Error("boneName cannot be null.");for(b=this.bones,c=0,d=b.length;d>c;c++)if(b[c].name==a)return c;return-1},a.prototype.findSlot=function(a){var b,c,d,e;if(null==a)throw new Error("slotName cannot be null.");for(b=this.slots,c=0,d=b.length;d>c;c++)if(e=b[c],e.name==a)return e;return null},a.prototype.findSlotIndex=function(a){var b,c,d;if(null==a)throw new Error("slotName cannot be null.");for(b=this.slots,c=0,d=b.length;d>c;c++)if(b[c].name==a)return c;return-1},a.prototype.findSkin=function(a){var b,c,d,e;if(null==a)throw new Error("skinName cannot be null.");for(b=this.skins,c=0,d=b.length;d>c;c++)if(e=b[c],e.name==a)return e;return null},a.prototype.findEvent=function(a){var b,c,d,e;if(null==a)throw new Error("eventDataName cannot be null.");for(b=this.events,c=0,d=b.length;d>c;c++)if(e=b[c],e.name==a)return e;return null},a.prototype.findAnimation=function(a){var b,c,d,e;if(null==a)throw new Error("animationName cannot be null.");for(b=this.animations,c=0,d=b.length;d>c;c++)if(e=b[c],e.name==a)return e;return null},a.prototype.findIkConstraint=function(a){var b,c,d,e;if(null==a)throw new Error("constraintName cannot be null.");for(b=this.ikConstraints,c=0,d=b.length;d>c;c++)if(e=b[c],e.name==a)return e;return null},a.prototype.findTransformConstraint=function(a){var b,c,d,e;if(null==a)throw new Error("constraintName cannot be null.");for(b=this.transformConstraints,c=0,d=b.length;d>c;c++)if(e=b[c],e.name==a)return e;return null},a.prototype.findPathConstraint=function(a){var b,c,d,e;if(null==a)throw new Error("constraintName cannot be null.");for(b=this.pathConstraints,c=0,d=b.length;d>c;c++)if(e=b[c],e.name==a)return e;return null},a.prototype.findPathConstraintIndex=function(a){var b,c,d;if(null==a)throw new Error("pathConstraintName cannot be null.");for(b=this.pathConstraints,c=0,d=b.length;d>c;c++)if(b[c].name==a)return c;return-1},a}();a.SkeletonData=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var c,b=function(){function b(a){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=a}return b.prototype.readSkeletonData=function(c){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,d=this.scale,e=new a.SkeletonData,f="string"==typeof c?JSON.parse(c):c,g=f.skeleton;if(null!=g&&(e.hash=g.hash,e.version=g.spine,e.width=g.width,e.height=g.height,e.fps=g.fps,e.imagesPath=g.images),f.bones)for(h=0;h<f.bones.length;h++){if(i=f.bones[h],j=null,k=this.getValue(i,"parent",null),null!=k&&(j=e.findBone(k),null==j))throw new Error("Parent bone not found: "+k);l=new a.BoneData(e.bones.length,i.name,j),l.length=this.getValue(i,"length",0)*d,l.x=this.getValue(i,"x",0)*d,l.y=this.getValue(i,"y",0)*d,l.rotation=this.getValue(i,"rotation",0),l.scaleX=this.getValue(i,"scaleX",1),l.scaleY=this.getValue(i,"scaleY",1),l.shearX=this.getValue(i,"shearX",0),l.shearY=this.getValue(i,"shearY",0),l.transformMode=b.transformModeFromString(this.getValue(i,"transform","normal")),e.bones.push(l)}if(f.slots)for(h=0;h<f.slots.length;h++){if(m=f.slots[h],n=m.name,o=m.bone,p=e.findBone(o),null==p)throw new Error("Slot bone not found: "+o);l=new a.SlotData(e.slots.length,n,p),q=this.getValue(m,"color",null),null!=q&&l.color.setFromString(q),r=this.getValue(m,"dark",null),null!=r&&(l.darkColor=new a.Color(1,1,1,1),l.darkColor.setFromString(r)),l.attachmentName=this.getValue(m,"attachment",null),l.blendMode=b.blendModeFromString(this.getValue(m,"blend","normal")),e.slots.push(l)}if(f.ik)for(h=0;h<f.ik.length;h++){for(s=f.ik[h],l=new a.IkConstraintData(s.name),l.order=this.getValue(s,"order",0),t=0;t<s.bones.length;t++){if(o=s.bones[t],u=e.findBone(o),null==u)throw new Error("IK bone not found: "+o);l.bones.push(u)}if(v=s.target,l.target=e.findBone(v),null==l.target)throw new Error("IK target bone not found: "+v);l.bendDirection=this.getValue(s,"bendPositive",!0)?1:-1,l.mix=this.getValue(s,"mix",1),e.ikConstraints.push(l)}if(f.transform)for(h=0;h<f.transform.length;h++){for(s=f.transform[h],l=new a.TransformConstraintData(s.name),l.order=this.getValue(s,"order",0),t=0;t<s.bones.length;t++){if(o=s.bones[t],u=e.findBone(o),null==u)throw new Error("Transform constraint bone not found: "+o);l.bones.push(u)}if(v=s.target,l.target=e.findBone(v),null==l.target)throw new Error("Transform constraint target bone not found: "+v);l.local=this.getValue(s,"local",!1),l.relative=this.getValue(s,"relative",!1),l.offsetRotation=this.getValue(s,"rotation",0),l.offsetX=this.getValue(s,"x",0)*d,l.offsetY=this.getValue(s,"y",0)*d,l.offsetScaleX=this.getValue(s,"scaleX",0),l.offsetScaleY=this.getValue(s,"scaleY",0),l.offsetShearY=this.getValue(s,"shearY",0),l.rotateMix=this.getValue(s,"rotateMix",1),l.translateMix=this.getValue(s,"translateMix",1),l.scaleMix=this.getValue(s,"scaleMix",1),l.shearMix=this.getValue(s,"shearMix",1),e.transformConstraints.push(l)}if(f.path)for(h=0;h<f.path.length;h++){for(s=f.path[h],l=new a.PathConstraintData(s.name),l.order=this.getValue(s,"order",0),t=0;t<s.bones.length;t++){if(o=s.bones[t],u=e.findBone(o),null==u)throw new Error("Transform constraint bone not found: "+o);l.bones.push(u)}if(v=s.target,l.target=e.findSlot(v),null==l.target)throw new Error("Path target slot not found: "+v);l.positionMode=b.positionModeFromString(this.getValue(s,"positionMode","percent")),l.spacingMode=b.spacingModeFromString(this.getValue(s,"spacingMode","length")),l.rotateMode=b.rotateModeFromString(this.getValue(s,"rotateMode","tangent")),l.offsetRotation=this.getValue(s,"rotation",0),l.position=this.getValue(s,"position",0),l.positionMode==a.PositionMode.Fixed&&(l.position*=d),l.spacing=this.getValue(s,"spacing",0),(l.spacingMode==a.SpacingMode.Length||l.spacingMode==a.SpacingMode.Fixed)&&(l.spacing*=d),l.rotateMix=this.getValue(s,"rotateMix",1),l.translateMix=this.getValue(s,"translateMix",1),e.pathConstraints.push(l)}if(f.skins)for(w in f.skins){x=f.skins[w],y=new a.Skin(w);for(n in x){if(z=e.findSlotIndex(n),-1==z)throw new Error("Slot not found: "+n);m=x[n];for(A in m)B=this.readAttachment(m[A],y,z,A,e),null!=B&&y.addAttachment(z,A,B)}e.skins.push(y),"default"==y.name&&(e.defaultSkin=y)}for(h=0,C=this.linkedMeshes.length;C>h;h++){if(D=this.linkedMeshes[h],y=null==D.skin?e.defaultSkin:e.findSkin(D.skin),null==y)throw new Error("Skin not found: "+D.skin);if(E=y.getAttachment(D.slotIndex,D.parent),null==E)throw new Error("Parent mesh not found: "+D.parent);D.mesh.setParentMesh(E)}if(this.linkedMeshes.length=0,f.events)for(F in f.events)G=f.events[F],l=new a.EventData(F),l.intValue=this.getValue(G,"int",0),l.floatValue=this.getValue(G,"float",0),l.stringValue=this.getValue(G,"string",""),e.events.push(l);if(f.animations)for(H in f.animations)I=f.animations[H],this.readAnimation(I,H,e);return e},b.prototype.readAttachment=function(b,d,e,f,g){var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,h=this.scale;switch(f=this.getValue(b,"name",f),i=this.getValue(b,"type","region")){case"region":return j=this.getValue(b,"path",f),k=this.attachmentLoader.newRegionAttachment(d,f,j),null==k?null:(k.path=j,k.x=this.getValue(b,"x",0)*h,k.y=this.getValue(b,"y",0)*h,k.scaleX=this.getValue(b,"scaleX",1),k.scaleY=this.getValue(b,"scaleY",1),k.rotation=this.getValue(b,"rotation",0),k.width=b.width*h,k.height=b.height*h,l=this.getValue(b,"color",null),null!=l&&k.color.setFromString(l),k);case"boundingbox":return m=this.attachmentLoader.newBoundingBoxAttachment(d,f),null==m?null:(this.readVertices(b,m,b.vertexCount<<1),l=this.getValue(b,"color",null),null!=l&&m.color.setFromString(l),m);case"mesh":case"linkedmesh":return j=this.getValue(b,"path",f),n=this.attachmentLoader.newMeshAttachment(d,f,j),null==n?null:(n.path=j,l=this.getValue(b,"color",null),null!=l&&n.color.setFromString(l),o=this.getValue(b,"parent",null),null!=o?(n.inheritDeform=this.getValue(b,"deform",!0),this.linkedMeshes.push(new c(n,this.getValue(b,"skin",null),e,o)),n):(p=b.uvs,this.readVertices(b,n,p.length),n.triangles=b.triangles,n.regionUVs=p,n.hullLength=2*this.getValue(b,"hull",0),n));case"path":if(j=this.attachmentLoader.newPathAttachment(d,f),null==j)return null;for(j.closed=this.getValue(b,"closed",!1),j.constantSpeed=this.getValue(b,"constantSpeed",!0),q=b.vertexCount,this.readVertices(b,j,q<<1),r=a.Utils.newArray(q/3,0),s=0;s<b.lengths.length;s++)r[s]=b.lengths[s]*h;return j.lengths=r,l=this.getValue(b,"color",null),null!=l&&j.color.setFromString(l),j;case"point":return t=this.attachmentLoader.newPointAttachment(d,f),null==t?null:(t.x=this.getValue(b,"x",0)*h,t.y=this.getValue(b,"y",0)*h,t.rotation=this.getValue(b,"rotation",0),l=this.getValue(b,"color",null),null!=l&&t.color.setFromString(l),t);case"clipping":if(u=this.attachmentLoader.newClippingAttachment(d,f),null==u)return null;if(v=this.getValue(b,"end",null),null!=v){if(w=g.findSlot(v),null==w)throw new Error("Clipping end slot not found: "+v);u.endSlot=w}return q=b.vertexCount,this.readVertices(b,u,q<<1),l=this.getValue(b,"color",null),null!=l&&u.color.setFromString(l),u}return null},b.prototype.readVertices=function(b,c,d){var f,g,h,i,j,k,l,m,e=this.scale;if(c.worldVerticesLength=d,f=b.vertices,d==f.length){if(g=a.Utils.toFloatArray(f),1!=e)for(h=0,i=f.length;i>h;h++)g[h]*=e;return c.vertices=g,void 0}for(j=new Array,k=new Array,h=0,i=f.length;i>h;)for(l=f[h++],k.push(l),m=h+4*l;m>h;h+=4)k.push(f[h]),j.push(f[h+1]*e),j.push(f[h+2]*e),j.push(f[h+3]);c.bones=k,c.vertices=a.Utils.toFloatArray(j)},b.prototype.readAnimation=function(b,c,d){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,e=this.scale,f=new Array,g=0;if(b.slots)for(h in b.slots){if(i=b.slots[h],j=d.findSlotIndex(h),-1==j)throw new Error("Slot not found: "+h);for(k in i)if(l=i[k],"attachment"==k){for(m=new a.AttachmentTimeline(l.length),m.slotIndex=j,n=0,o=0;o<l.length;o++)p=l[o],m.setFrame(n++,p.time,p.name);f.push(m),g=Math.max(g,m.frames[m.getFrameCount()-1])}else if("color"==k){for(m=new a.ColorTimeline(l.length),m.slotIndex=j,n=0,o=0;o<l.length;o++)p=l[o],q=new a.Color,q.setFromString(p.color),m.setFrame(n,p.time,q.r,q.g,q.b,q.a),this.readCurve(p,m,n),n++;f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.ColorTimeline.ENTRIES])}else{if("twoColor"!=k)throw new Error("Invalid timeline type for a slot: "+k+" ("+h+")");for(m=new a.TwoColorTimeline(l.length),m.slotIndex=j,n=0,o=0;o<l.length;o++)p=l[o],r=new a.Color,s=new a.Color,r.setFromString(p.light),s.setFromString(p.dark),m.setFrame(n,p.time,r.r,r.g,r.b,r.a,s.r,s.g,s.b),this.readCurve(p,m,n),n++;f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.TwoColorTimeline.ENTRIES])}}if(b.bones)for(t in b.bones){if(u=b.bones[t],v=d.findBoneIndex(t),-1==v)throw new Error("Bone not found: "+t);for(k in u)if(l=u[k],"rotate"===k){for(m=new a.RotateTimeline(l.length),m.boneIndex=v,n=0,o=0;o<l.length;o++)p=l[o],m.setFrame(n,p.time,p.angle),this.readCurve(p,m,n),n++;f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.RotateTimeline.ENTRIES])}else{if("translate"!==k&&"scale"!==k&&"shear"!==k)throw new Error("Invalid timeline type for a bone: "+k+" ("+t+")");for(m=null,w=1,"scale"===k?m=new a.ScaleTimeline(l.length):"shear"===k?m=new a.ShearTimeline(l.length):(m=new a.TranslateTimeline(l.length),w=e),m.boneIndex=v,n=0,o=0;o<l.length;o++)p=l[o],x=this.getValue(p,"x",0),y=this.getValue(p,"y",0),m.setFrame(n,p.time,x*w,y*w),this.readCurve(p,m,n),n++;f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.TranslateTimeline.ENTRIES])}}if(b.ik)for(z in b.ik){for(A=b.ik[z],B=d.findIkConstraint(z),m=new a.IkConstraintTimeline(A.length),m.ikConstraintIndex=d.ikConstraints.indexOf(B),n=0,o=0;o<A.length;o++)p=A[o],m.setFrame(n,p.time,this.getValue(p,"mix",1),this.getValue(p,"bendPositive",!0)?1:-1),this.readCurve(p,m,n),n++;f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.IkConstraintTimeline.ENTRIES])}if(b.transform)for(z in b.transform){for(A=b.transform[z],B=d.findTransformConstraint(z),m=new a.TransformConstraintTimeline(A.length),m.transformConstraintIndex=d.transformConstraints.indexOf(B),n=0,o=0;o<A.length;o++)p=A[o],m.setFrame(n,p.time,this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1),this.getValue(p,"scaleMix",1),this.getValue(p,"shearMix",1)),this.readCurve(p,m,n),n++;f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.TransformConstraintTimeline.ENTRIES])}if(b.paths)for(z in b.paths){if(A=b.paths[z],C=d.findPathConstraintIndex(z),-1==C)throw new Error("Path constraint not found: "+z);D=d.pathConstraints[C];for(k in A)if(l=A[k],"position"===k||"spacing"===k){for(m=null,w=1,"spacing"===k?(m=new a.PathConstraintSpacingTimeline(l.length),(D.spacingMode==a.SpacingMode.Length||D.spacingMode==a.SpacingMode.Fixed)&&(w=e)):(m=new a.PathConstraintPositionTimeline(l.length),D.positionMode==a.PositionMode.Fixed&&(w=e)),m.pathConstraintIndex=C,n=0,o=0;o<l.length;o++)p=l[o],m.setFrame(n,p.time,this.getValue(p,k,0)*w),this.readCurve(p,m,n),n++;f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===k){for(m=new a.PathConstraintMixTimeline(l.length),m.pathConstraintIndex=C,n=0,o=0;o<l.length;o++)p=l[o],m.setFrame(n,p.time,this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1)),this.readCurve(p,m,n),n++;f.push(m),g=Math.max(g,m.frames[(m.getFrameCount()-1)*a.PathConstraintMixTimeline.ENTRIES])}}if(b.deform)for(E in b.deform){if(F=b.deform[E],G=d.findSkin(E),null==G)throw new Error("Skin not found: "+E);for(h in F){if(i=F[h],j=d.findSlotIndex(h),-1==j)throw new Error("Slot not found: "+i.name);for(k in i){if(l=i[k],H=G.getAttachment(j,k),null==H)throw new Error("Deform attachment not found: "+l.name);for(I=null!=H.bones,J=H.vertices,K=I?2*(J.length/3):J.length,m=new a.DeformTimeline(l.length),m.slotIndex=j,m.attachment=H,n=0,L=0;L<l.length;L++){if(p=l[L],M=void 0,N=this.getValue(p,"vertices",null),null==N)M=I?a.Utils.newFloatArray(K):J;else{if(M=a.Utils.newFloatArray(K),O=this.getValue(p,"offset",0),a.Utils.arrayCopy(N,0,M,O,N.length),1!=e)for(o=O,P=o+N.length;P>o;o++)M[o]*=e;if(!I)for(o=0;K>o;o++)M[o]+=J[o]}m.setFrame(n,p.time,M),this.readCurve(p,m,n),n++}f.push(m),g=Math.max(g,m.frames[m.getFrameCount()-1])}}}if(Q=b.drawOrder,null==Q&&(Q=b.draworder),null!=Q){for(m=new a.DrawOrderTimeline(Q.length),R=d.slots.length,n=0,L=0;L<Q.length;L++){if(S=Q[L],T=null,U=this.getValue(S,"offsets",null),null!=U){for(T=a.Utils.newArray(R,-1),V=a.Utils.newArray(R-U.length,0),W=0,X=0,o=0;o<U.length;o++){if(Y=U[o],j=d.findSlotIndex(Y.slot),-1==j)throw new Error("Slot not found: "+Y.slot);for(;W!=j;)V[X++]=W++;T[W+Y.offset]=W++}for(;R>W;)V[X++]=W++;for(o=R-1;o>=0;o--)-1==T[o]&&(T[o]=V[--X])}m.setFrame(n++,S.time,T)}f.push(m),g=Math.max(g,m.frames[m.getFrameCount()-1])}if(b.events){for(m=new a.EventTimeline(b.events.length),n=0,o=0;o<b.events.length;o++){if(Z=b.events[o],$=d.findEvent(Z.name),null==$)throw new Error("Event not found: "+Z.name);_=new a.Event(a.Utils.toSinglePrecision(Z.time),$),_.intValue=this.getValue(Z,"int",$.intValue),_.floatValue=this.getValue(Z,"float",$.floatValue),_.stringValue=this.getValue(Z,"string",$.stringValue),m.setFrame(n++,_)}f.push(m),g=Math.max(g,m.frames[m.getFrameCount()-1])}if(isNaN(g))throw new Error("Error while parsing animation, duration is NaN");d.animations.push(new a.Animation(c,f,g))},b.prototype.readCurve=function(a,b,c){if(a.curve)if("stepped"===a.curve)b.setStepped(c);else if("[object Array]"===Object.prototype.toString.call(a.curve)){var d=a.curve;b.setCurve(c,d[0],d[1],d[2],d[3])}},b.prototype.getValue=function(a,b,c){return void 0!==a[b]?a[b]:c},b.blendModeFromString=function(b){if(b=b.toLowerCase(),"normal"==b)return a.BlendMode.Normal;if("additive"==b)return a.BlendMode.Additive;if("multiply"==b)return a.BlendMode.Multiply;if("screen"==b)return a.BlendMode.Screen;throw new Error("Unknown blend mode: "+b)},b.positionModeFromString=function(b){if(b=b.toLowerCase(),"fixed"==b)return a.PositionMode.Fixed;if("percent"==b)return a.PositionMode.Percent;throw new Error("Unknown position mode: "+b)},b.spacingModeFromString=function(b){if(b=b.toLowerCase(),"length"==b)return a.SpacingMode.Length;if("fixed"==b)return a.SpacingMode.Fixed;if("percent"==b)return a.SpacingMode.Percent;throw new Error("Unknown position mode: "+b)},b.rotateModeFromString=function(b){if(b=b.toLowerCase(),"tangent"==b)return a.RotateMode.Tangent;if("chain"==b)return a.RotateMode.Chain;if("chainscale"==b)return a.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+b)},b.transformModeFromString=function(b){if(b=b.toLowerCase(),"normal"==b)return a.TransformMode.Normal;if("onlytranslation"==b)return a.TransformMode.OnlyTranslation;if("norotationorreflection"==b)return a.TransformMode.NoRotationOrReflection;if("noscale"==b)return a.TransformMode.NoScale;if("noscaleorreflection"==b)return a.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+b)},b}();a.SkeletonJson=b,c=function(){function a(a,b,c,d){this.mesh=a,this.skin=b,this.slotIndex=c,this.parent=d}return a}()}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(){function a(a){if(this.attachments=new Array,null==a)throw new Error("name cannot be null.");this.name=a}return a.prototype.addAttachment=function(a,b,c){if(null==c)throw new Error("attachment cannot be null.");var d=this.attachments;a>=d.length&&(d.length=a+1),d[a]||(d[a]={}),d[a][b]=c},a.prototype.getAttachment=function(a,b){var c=this.attachments[a];return c?c[b]:null},a.prototype.attachAll=function(a,b){var d,e,f,g,h,i,j,c=0;for(d=0;d<a.slots.length;d++){if(e=a.slots[d],f=e.getAttachment(),f&&c<b.attachments.length){g=b.attachments[c];for(h in g)if(i=g[h],f==i){j=this.getAttachment(c,name),null!=j&&e.setAttachment(j);break}}c++}},a}();a.Skin=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(){function b(b,c){if(this.attachmentVertices=new Array,null==b)throw new Error("data cannot be null.");if(null==c)throw new Error("bone cannot be null.");this.data=b,this.bone=c,this.color=new a.Color,this.darkColor=null==b.darkColor?null:new a.Color,this.setToSetupPose(),this.blendMode=this.data.blendMode}return b.prototype.getAttachment=function(){return this.attachment},b.prototype.setAttachment=function(a){this.attachment!=a&&(this.attachment=a,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},b.prototype.setAttachmentTime=function(a){this.attachmentTime=this.bone.skeleton.time-a},b.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},b.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},b}();a.Slot=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(){function b(b,c,d){if(this.color=new a.Color(1,1,1,1),0>b)throw new Error("index must be >= 0.");if(null==c)throw new Error("name cannot be null.");if(null==d)throw new Error("boneData cannot be null.");this.index=b,this.name=c,this.boneData=d}return b}();a.SlotData=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;
!function(a){var c,d,e,b=function(){function a(a){this._image=a}return a.prototype.getImage=function(){return this._image},a.filterFromString=function(a){switch(a.toLowerCase()){case"nearest":return c.Nearest;case"linear":return c.Linear;case"mipmap":return c.MipMap;case"mipmapnearestnearest":return c.MipMapNearestNearest;case"mipmaplinearnearest":return c.MipMapLinearNearest;case"mipmapnearestlinear":return c.MipMapNearestLinear;case"mipmaplinearlinear":return c.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+a)}},a.wrapFromString=function(a){switch(a.toLowerCase()){case"mirroredtepeat":return d.MirroredRepeat;case"clamptoedge":return d.ClampToEdge;case"repeat":return d.Repeat;default:throw new Error("Unknown texture wrap "+a)}},a}();a.Texture=b,function(a){a[a["Nearest"]=9728]="Nearest",a[a["Linear"]=9729]="Linear",a[a["MipMap"]=9987]="MipMap",a[a["MipMapNearestNearest"]=9984]="MipMapNearestNearest",a[a["MipMapLinearNearest"]=9985]="MipMapLinearNearest",a[a["MipMapNearestLinear"]=9986]="MipMapNearestLinear",a[a["MipMapLinearLinear"]=9987]="MipMapLinearLinear"}(c=a.TextureFilter||(a.TextureFilter={})),function(a){a[a["MirroredRepeat"]=33648]="MirroredRepeat",a[a["ClampToEdge"]=33071]="ClampToEdge",a[a["Repeat"]=10497]="Repeat"}(d=a.TextureWrap||(a.TextureWrap={})),e=function(){function a(){this.size=null}return Object.defineProperty(a.prototype,"width",{get:function(){var a=this.texture;return"3"==PIXI.VERSION[0]?a.crop.width:a.trim?a.trim.width:a.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){var a=this.texture;return"3"==PIXI.VERSION[0]?a.crop.height:a.trim?a.trim.height:a.orig.height},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"offsetX",{get:function(){var a=this.texture;return a.trim?a.trim.x:0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"offsetY",{get:function(){return console.warn("Deprecation Warning: @Hackerham: I guess, if you are using PIXI-SPINE ATLAS region.offsetY, you want a texture, right? Use region.texture from now on."),this.spineOffsetY},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"pixiOffsetY",{get:function(){var a=this.texture;return a.trim?a.trim.y:0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"spineOffsetY",{get:function(){var a=this.texture;return this.originalHeight-this.height-(a.trim?a.trim.y:0)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"originalWidth",{get:function(){var a=this.texture;return"3"==PIXI.VERSION[0]?a.trim?a.trim.width:a.crop.width:a.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"originalHeight",{get:function(){var a=this.texture;return"3"==PIXI.VERSION[0]?a.trim?a.trim.height:a.crop.height:a.orig.height},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"rotate",{get:function(){return 0!==this.texture.rotate},enumerable:!0,configurable:!0}),a}(),a.TextureRegion=e}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var c,d,e,b=function(){function b(a,b,c){this.pages=new Array,this.regions=new Array,a&&this.addSpineAtlas(a,b,c)}return b.prototype.addTexture=function(b,c){var h,i,j,f=this.pages,g=null;for(h=0;h<f.length;h++)if(f[h].baseTexture===c.baseTexture){g=f[h];break}return null===g&&(g=new d,g.name="texturePage",i=c.baseTexture,g.width=i.realWidth,g.height=i.realHeight,g.baseTexture=i,g.minFilter=g.magFilter=a.TextureFilter.Nearest,g.uWrap=a.TextureWrap.ClampToEdge,g.vWrap=a.TextureWrap.ClampToEdge,f.push(g)),j=new e,j.name=b,j.page=g,j.texture=c,j.index=-1,this.regions.push(j),j},b.prototype.addTextureHash=function(a,b){for(var c in a)a.hasOwnProperty(c)&&this.addTexture(b&&-1!==c.indexOf(".")?c.substr(0,c.lastIndexOf(".")):c,a[c])},b.prototype.addSpineAtlas=function(a,b,c){return this.load(a,b,c)},b.prototype.load=function(b,f,g){var i,j,k,l,h=this;if(null==f)throw new Error("textureLoader cannot be null.");i=new c(b),j=new Array(4),k=null,l=function(){for(var b,c,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;;){if(b=i.readLine(),null==b)return g&&g(h);if(b=b.trim(),0==b.length)k=null;else{if(!k){k=new d,k.name=b,2==i.readTuple(j)&&(k.width=parseInt(j[0]),k.height=parseInt(j[1]),i.readTuple(j)),i.readTuple(j),k.minFilter=a.Texture.filterFromString(j[0]),k.magFilter=a.Texture.filterFromString(j[1]),c=i.readValue(),k.uWrap=a.TextureWrap.ClampToEdge,k.vWrap=a.TextureWrap.ClampToEdge,"x"==c?k.uWrap=a.TextureWrap.Repeat:"y"==c?k.vWrap=a.TextureWrap.Repeat:"xy"==c&&(k.uWrap=k.vWrap=a.TextureWrap.Repeat),f(b,function(a){k.baseTexture=a,a.hasLoaded||(a.width=k.width,a.height=k.height),h.pages.push(k),k.setFilters(),k.width&&k.height||(k.width=a.realWidth,k.height=a.realHeight,k.width&&k.height||console.log("ERROR spine atlas page "+k.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),l()}),h.pages.push(k);break}m=new e,m.name=b,m.page=k,n="true"==i.readValue()?6:0,i.readTuple(j),o=parseInt(j[0]),p=parseInt(j[1]),i.readTuple(j),q=parseInt(j[0]),r=parseInt(j[1]),s=k.baseTexture.resolution,o/=s,p/=s,q/=s,r/=s,t=new PIXI.Rectangle(o,p,n?r:q,n?q:r),4==i.readTuple(j)&&4==i.readTuple(j)&&i.readTuple(j),u=parseInt(j[0])/s,v=parseInt(j[1])/s,i.readTuple(j),w=parseInt(j[0])/s,x=parseInt(j[1])/s,y=new PIXI.Rectangle(0,0,u,v),z=new PIXI.Rectangle(w,v-r-x,q,r),"3"!=PIXI.VERSION[0]?m.texture=new PIXI.Texture(m.page.baseTexture,t,y,z,n):(A=new PIXI.Rectangle(o,p,q,r),B=A.clone(),z.width=u,z.height=v,m.texture=new PIXI.Texture(m.page.baseTexture,A,B,z,n)),m.index=parseInt(i.readValue()),m.texture._updateUvs(),h.regions.push(m)}}},l()},b.prototype.findRegion=function(a){for(var b=0;b<this.regions.length;b++)if(this.regions[b].name==a)return this.regions[b];return null},b.prototype.dispose=function(){for(var a=0;a<this.pages.length;a++)this.pages[a].baseTexture.dispose()},b}();a.TextureAtlas=b,c=function(){function a(a){this.index=0,this.lines=a.split(/\r\n|\r|\n/)}return a.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},a.prototype.readValue=function(){var a=this.readLine(),b=a.indexOf(":");if(-1==b)throw new Error("Invalid line: "+a);return a.substring(b+1).trim()},a.prototype.readTuple=function(a){var d,e,f,b=this.readLine(),c=b.indexOf(":");if(-1==c)throw new Error("Invalid line: "+b);for(d=0,e=c+1;3>d&&(f=b.indexOf(",",e),-1!=f);d++)a[d]=b.substr(e,f-e).trim(),e=f+1;return a[d]=b.substring(e).trim(),d+1},a}(),d=function(){function b(){}return b.prototype.setFilters=function(){var b=this.baseTexture,c=this.minFilter;c==a.TextureFilter.Linear?b.scaleMode=PIXI.SCALE_MODES.LINEAR:this.minFilter==a.TextureFilter.Nearest?b.scaleMode=PIXI.SCALE_MODES.NEAREST:(b.mipmap=!0,b.scaleMode=c==a.TextureFilter.MipMapNearestNearest?PIXI.SCALE_MODES.NEAREST:PIXI.SCALE_MODES.LINEAR)},b}(),a.TextureAtlasPage=d,e=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return __extends(b,a),b}(a.TextureRegion),a.TextureAtlasRegion=e}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(){function b(b,c){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new a.Vector2,null==b)throw new Error("data cannot be null.");if(null==c)throw new Error("skeleton cannot be null.");this.data=b,this.rotateMix=b.rotateMix,this.translateMix=b.translateMix,this.scaleMix=b.scaleMix,this.shearMix=b.shearMix,this.bones=new Array;for(var d=0;d<b.bones.length;d++)this.bones.push(c.findBone(b.bones[d].name));this.target=c.findBone(b.target.name)}return b.prototype.apply=function(){this.update()},b.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},b.prototype.applyAbsoluteWorld=function(){var p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,b=this.rotateMix,c=this.translateMix,d=this.scaleMix,e=this.shearMix,f=this.target,g=f.matrix,h=g.a,i=g.c,j=g.b,k=g.d,l=h*k-i*j>0?a.MathUtils.degRad:-a.MathUtils.degRad,m=this.data.offsetRotation*l,n=this.data.offsetShearY*l,o=this.bones;for(p=0,q=o.length;q>p;p++)r=o[p],s=!1,t=r.matrix,0!=b&&(u=t.a,v=t.c,w=t.b,x=t.d,y=Math.atan2(j,h)-Math.atan2(w,u)+m,y>a.MathUtils.PI?y-=a.MathUtils.PI2:y<-a.MathUtils.PI&&(y+=a.MathUtils.PI2),y*=b,z=Math.cos(y),A=Math.sin(y),t.a=z*u-A*w,t.c=z*v-A*x,t.b=A*u+z*w,t.d=A*v+z*x,s=!0),0!=c&&(B=this.temp,f.localToWorld(B.set(this.data.offsetX,this.data.offsetY)),t.tx+=(B.x-t.tx)*c,t.ty+=(B.y-t.ty)*c,s=!0),d>0&&(C=Math.sqrt(t.a*t.a+t.b*t.b),D=Math.sqrt(h*h+j*j),C>1e-5&&(C=(C+(D-C+this.data.offsetScaleX)*d)/C),t.a*=C,t.b*=C,C=Math.sqrt(t.c*t.c+t.d*t.d),D=Math.sqrt(i*i+k*k),C>1e-5&&(C=(C+(D-C+this.data.offsetScaleY)*d)/C),t.c*=C,t.d*=C,s=!0),e>0&&(v=t.c,x=t.d,E=Math.atan2(x,v),y=Math.atan2(k,i)-Math.atan2(j,h)-(E-Math.atan2(t.b,t.a)),y>a.MathUtils.PI?y-=a.MathUtils.PI2:y<-a.MathUtils.PI&&(y+=a.MathUtils.PI2),y=E+(y+n)*e,C=Math.sqrt(v*v+x*x),t.c=Math.cos(y)*C,t.d=Math.sin(y)*C,s=!0),s&&(r.appliedValid=!1)},b.prototype.applyRelativeWorld=function(){var p,q,r,s,t,u,v,w,x,y,z,A,B,C,b=this.rotateMix,c=this.translateMix,d=this.scaleMix,e=this.shearMix,f=this.target,g=f.matrix,h=g.a,i=g.c,j=g.b,k=g.d,l=h*k-i*j>0?a.MathUtils.degRad:-a.MathUtils.degRad,m=this.data.offsetRotation*l,n=this.data.offsetShearY*l,o=this.bones;for(p=0,q=o.length;q>p;p++)r=o[p],s=!1,t=r.matrix,0!=b&&(u=t.a,v=t.c,w=t.b,x=t.d,y=Math.atan2(j,h)+m,y>a.MathUtils.PI?y-=a.MathUtils.PI2:y<-a.MathUtils.PI&&(y+=a.MathUtils.PI2),y*=b,z=Math.cos(y),A=Math.sin(y),t.a=z*u-A*w,t.c=z*v-A*x,t.b=A*u+z*w,t.d=A*v+z*x,s=!0),0!=c&&(B=this.temp,f.localToWorld(B.set(this.data.offsetX,this.data.offsetY)),t.tx+=B.x*c,t.ty+=B.y*c,s=!0),d>0&&(C=(Math.sqrt(h*h+j*j)-1+this.data.offsetScaleX)*d+1,t.a*=C,t.b*=C,C=(Math.sqrt(i*i+k*k)-1+this.data.offsetScaleY)*d+1,t.c*=C,t.d*=C,s=!0),e>0&&(y=Math.atan2(k,i)-Math.atan2(j,h),y>a.MathUtils.PI?y-=a.MathUtils.PI2:y<-a.MathUtils.PI&&(y+=a.MathUtils.PI2),v=t.c,x=t.d,y=Math.atan2(x,v)+(y-a.MathUtils.PI/2+n)*e,C=Math.sqrt(v*v+x*x),t.c=Math.cos(y)*C,t.d=Math.sin(y)*C,s=!0),s&&(r.appliedValid=!1)},b.prototype.applyAbsoluteLocal=function(){var f,g,h,i,j,k,l,m,n,o,p,a=this.rotateMix,b=this.translateMix,c=this.scaleMix,d=this.shearMix,e=this.target;for(e.appliedValid||e.updateAppliedTransform(),f=this.bones,g=0,h=f.length;h>g;g++)i=f[g],i.appliedValid||i.updateAppliedTransform(),j=i.arotation,0!=a&&(k=e.arotation-j+this.data.offsetRotation,k-=360*(16384-(0|16384.499999999996-k/360)),j+=k*a),l=i.ax,m=i.ay,0!=b&&(l+=(e.ax-l+this.data.offsetX)*b,m+=(e.ay-m+this.data.offsetY)*b),n=i.ascaleX,o=i.ascaleY,c>0&&(n>1e-5&&(n=(n+(e.ascaleX-n+this.data.offsetScaleX)*c)/n),o>1e-5&&(o=(o+(e.ascaleY-o+this.data.offsetScaleY)*c)/o)),p=i.ashearY,d>0&&(k=e.ashearY-p+this.data.offsetShearY,k-=360*(16384-(0|16384.499999999996-k/360)),i.shearY+=k*d),i.updateWorldTransformWith(l,m,j,n,o,i.ashearX,p)},b.prototype.applyRelativeLocal=function(){var f,g,h,i,j,k,l,m,n,o,a=this.rotateMix,b=this.translateMix,c=this.scaleMix,d=this.shearMix,e=this.target;for(e.appliedValid||e.updateAppliedTransform(),f=this.bones,g=0,h=f.length;h>g;g++)i=f[g],i.appliedValid||i.updateAppliedTransform(),j=i.arotation,0!=a&&(j+=(e.arotation+this.data.offsetRotation)*a),k=i.ax,l=i.ay,0!=b&&(k+=(e.ax+this.data.offsetX)*b,l+=(e.ay+this.data.offsetY)*b),m=i.ascaleX,n=i.ascaleY,c>0&&(m>1e-5&&(m*=(e.ascaleX-1+this.data.offsetScaleX)*c+1),n>1e-5&&(n*=(e.ascaleY-1+this.data.offsetScaleY)*c+1)),o=i.ashearY,d>0&&(o+=(e.ashearY+this.data.offsetShearY)*d),i.updateWorldTransformWith(k,l,j,m,n,i.ashearX,o)},b.prototype.getOrder=function(){return this.data.order},b}();a.TransformConstraint=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(){function a(a){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,null==a)throw new Error("name cannot be null.");this.name=a}return a}();a.TransformConstraintData=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(){function b(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new a.Pool(function(){return new Array}),this.polygonIndicesPool=new a.Pool(function(){return new Array})}return b.prototype.triangulate=function(a){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,c=a,d=a.length>>1,e=this.indicesArray;for(e.length=0,f=0;d>f;f++)e[f]=f;for(g=this.isConcaveArray,g.length=0,f=0,h=d;h>f;++f)g[f]=b.isConcave(f,d,c,e);for(i=this.triangles,i.length=0;d>3;){for(j=d-1,f=0,k=1;;){a:if(!g[f]){for(l=e[j]<<1,m=e[f]<<1,n=e[k]<<1,o=c[l],p=c[l+1],q=c[m],r=c[m+1],s=c[n],t=c[n+1],u=(k+1)%d;u!=j;u=(u+1)%d)if(g[u]&&(v=e[u]<<1,w=c[v],x=c[v+1],b.positiveArea(s,t,o,p,w,x)&&b.positiveArea(o,p,q,r,w,x)&&b.positiveArea(q,r,s,t,w,x)))break a;break}if(0==k){do{if(!g[f])break;f--}while(f>0);break}j=f,f=k,k=(k+1)%d}i.push(e[(d+f-1)%d]),i.push(e[f]),i.push(e[(f+1)%d]),e.splice(f,1),g.splice(f,1),d--,y=(d+f-1)%d,z=f==d?0:f,g[y]=b.isConcave(y,d,c,e),g[z]=b.isConcave(z,d,c,e)}return 3==d&&(i.push(e[2]),i.push(e[0]),i.push(e[1])),i},b.prototype.decompose=function(a,c){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,d=a,e=this.convexPolygons;for(this.polygonPool.freeAll(e),e.length=0,f=this.convexPolygonsIndices,this.polygonIndicesPool.freeAll(f),f.length=0,g=this.polygonIndicesPool.obtain(),g.length=0,h=this.polygonPool.obtain(),h.length=0,i=-1,j=0,k=0,l=c.length;l>k;k+=3)m=c[k]<<1,n=c[k+1]<<1,o=c[k+2]<<1,p=d[m],q=d[m+1],r=d[n],s=d[n+1],t=d[o],u=d[o+1],v=!1,i==m&&(w=h.length-4,x=b.winding(h[w],h[w+1],h[w+2],h[w+3],t,u),y=b.winding(t,u,h[0],h[1],h[2],h[3]),x==j&&y==j&&(h.push(t),h.push(u),g.push(o),v=!0)),v||(h.length>0?(e.push(h),f.push(g)):(this.polygonPool.free(h),this.polygonIndicesPool.free(g)),h=this.polygonPool.obtain(),h.length=0,h.push(p),h.push(q),h.push(r),h.push(s),h.push(t),h.push(u),g=this.polygonIndicesPool.obtain(),g.length=0,g.push(m),g.push(n),g.push(o),j=b.winding(p,q,r,s,t,u),i=m);for(h.length>0&&(e.push(h),f.push(g)),k=0,l=e.length;l>k;k++)if(g=f[k],0!=g.length)for(z=g[0],A=g[g.length-1],h=e[k],w=h.length-4,B=h[w],C=h[w+1],D=h[w+2],E=h[w+3],F=h[0],G=h[1],H=h[2],I=h[3],J=b.winding(B,C,D,E,F,G),K=0;l>K;K++)K!=k&&(L=f[K],3==L.length&&(M=L[0],N=L[1],O=L[2],P=e[K],t=P[P.length-2],u=P[P.length-1],M==z&&N==A&&(x=b.winding(B,C,D,E,t,u),y=b.winding(t,u,F,G,H,I),x==J&&y==J&&(P.length=0,L.length=0,h.push(t),h.push(u),g.push(O),B=D,C=E,D=t,E=u,K=0))));for(k=e.length-1;k>=0;k--)h=e[k],0==h.length&&(e.splice(k,1),this.polygonPool.free(h),g=f[k],f.splice(k,1),this.polygonIndicesPool.free(g));return e},b.isConcave=function(a,b,c,d){var e=d[(b+a-1)%b]<<1,f=d[a]<<1,g=d[(a+1)%b]<<1;return!this.positiveArea(c[e],c[e+1],c[f],c[f+1],c[g],c[g+1])},b.positiveArea=function(a,b,c,d,e,f){return a*(f-d)+c*(b-f)+e*(d-b)>=0},b.winding=function(a,b,c,d,e,f){var g=c-a,h=d-b;return e*h-f*g+g*b-a*h>=0?1:-1},b}();a.Triangulator=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var c,d,e,f,g,h,i,j,k,l,m,b=function(){function a(){this.array=new Array}return a.prototype.add=function(a){var b=this.contains(a);return this.array[0|a]=0|a,!b},a.prototype.contains=function(a){return void 0!=this.array[0|a]},a.prototype.remove=function(a){this.array[0|a]=void 0},a.prototype.clear=function(){this.array.length=0},a}();a.IntSet=b,c=function(){function a(a,b,c,d){void 0===a&&(a=0),void 0===b&&(b=0),void 0===c&&(c=0),void 0===d&&(d=0),this.r=a,this.g=b,this.b=c,this.a=d}return a.prototype.set=function(a,b,c,d){return this.r=a,this.g=b,this.b=c,this.a=d,this.clamp(),this},a.prototype.setFromColor=function(a){return this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a,this},a.prototype.setFromString=function(a){return a="#"==a.charAt(0)?a.substr(1):a,this.r=parseInt(a.substr(0,2),16)/255,this.g=parseInt(a.substr(2,2),16)/255,this.b=parseInt(a.substr(4,2),16)/255,this.a=(8!=a.length?255:parseInt(a.substr(6,2),16))/255,this},a.prototype.add=function(a,b,c,d){return this.r+=a,this.g+=b,this.b+=c,this.a+=d,this.clamp(),this},a.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},a}(),c.WHITE=new c(1,1,1,1),c.RED=new c(1,0,0,1),c.GREEN=new c(0,1,0,1),c.BLUE=new c(0,0,1,1),c.MAGENTA=new c(1,0,1,1),a.Color=c,d=function(){function a(){}return a.clamp=function(a,b,c){return b>a?b:a>c?c:a},a.cosDeg=function(b){return Math.cos(b*a.degRad)},a.sinDeg=function(b){return Math.sin(b*a.degRad)},a.signum=function(a){return a>0?1:0>a?-1:0},a.toInt=function(a){return a>0?Math.floor(a):Math.ceil(a)},a.cbrt=function(a){var b=Math.pow(Math.abs(a),1/3);return 0>a?-b:b},a.randomTriangular=function(b,c){return a.randomTriangularWith(b,c,.5*(b+c))},a.randomTriangularWith=function(a,b,c){var d=Math.random(),e=b-a;return(c-a)/e>=d?a+Math.sqrt(d*e*(c-a)):b-Math.sqrt((1-d)*e*(b-c))},a}(),d.PI=3.1415927,d.PI2=2*d.PI,d.radiansToDegrees=180/d.PI,d.radDeg=d.radiansToDegrees,d.degreesToRadians=d.PI/180,d.degRad=d.degreesToRadians,a.MathUtils=d,e=function(){function a(){}return a.prototype.apply=function(a,b,c){return a+(b-a)*this.applyInternal(c)},a}(),a.Interpolation=e,f=function(a){function b(b){var c=a.call(this)||this;return c.power=2,c.power=b,c}return __extends(b,a),b.prototype.applyInternal=function(a){return.5>=a?Math.pow(2*a,this.power)/2:Math.pow(2*(a-1),this.power)/(0==this.power%2?-2:2)+1},b}(e),a.Pow=f,g=function(a){function b(b){return a.call(this,b)||this}return __extends(b,a),b.prototype.applyInternal=function(a){return Math.pow(a-1,this.power)*(0==this.power%2?-1:1)+1},b}(f),a.PowOut=g,h=function(){function a(){}return a.arrayCopy=function(a,b,c,d,e){for(var f=b,g=d;b+e>f;f++,g++)c[g]=a[f]},a.setArraySize=function(a,b,c){var d,e;if(void 0===c&&(c=0),d=a.length,d==b)return a;if(a.length=b,b>d)for(e=d;b>e;e++)a[e]=c;return a},a.ensureArrayCapacity=function(b,c,d){return void 0===d&&(d=0),b.length>=c?b:a.setArraySize(b,c,d)},a.newArray=function(a,b){var d,c=new Array(a);for(d=0;a>d;d++)c[d]=b;return c},a.newFloatArray=function(b){var c,d;if(a.SUPPORTS_TYPED_ARRAYS)return new Float32Array(b);for(c=new Array(b),d=0;d<c.length;d++)c[d]=0;return c},a.newShortArray=function(b){var c,d;if(a.SUPPORTS_TYPED_ARRAYS)return new Int16Array(b);for(c=new Array(b),d=0;d<c.length;d++)c[d]=0;return c},a.toFloatArray=function(b){return a.SUPPORTS_TYPED_ARRAYS?new Float32Array(b):b},a.toSinglePrecision=function(b){return a.SUPPORTS_TYPED_ARRAYS?Math.fround(b):b},a}(),h.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,a.Utils=h,i=function(){function a(){}return a.logBones=function(a){var b,c,d;for(b=0;b<a.bones.length;b++)c=a.bones[b],d=c.matrix,console.log(c.data.name+", "+d.a+", "+d.b+", "+d.c+", "+d.d+", "+d.tx+", "+d.ty)},a}(),a.DebugUtils=i,j=function(){function a(a){this.items=new Array,this.instantiator=a}return a.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},a.prototype.free=function(a){a.reset&&a.reset(),this.items.push(a)},a.prototype.freeAll=function(a){for(var b=0;b<a.length;b++)a[b].reset&&a[b].reset(),this.items[b]=a[b]},a.prototype.clear=function(){this.items.length=0},a}(),a.Pool=j,k=function(){function a(a,b){void 0===a&&(a=0),void 0===b&&(b=0),this.x=a,this.y=b}return a.prototype.set=function(a,b){return this.x=a,this.y=b,this},a.prototype.length=function(){var a=this.x,b=this.y;return Math.sqrt(a*a+b*b)},a.prototype.normalize=function(){var a=this.length();return 0!=a&&(this.x/=a,this.y/=a),this},a}(),a.Vector2=k,l=function(){function a(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return a.prototype.update=function(){var a=Date.now()/1e3;this.delta=a-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=a,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},a}(),a.TimeKeeper=l,m=function(){function a(a){void 0===a&&(a=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(a)}return a.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},a.prototype.addValue=function(a){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=a,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},a.prototype.getMean=function(){var a,b;if(this.hasEnoughData()){if(this.dirty){for(a=0,b=0;b<this.values.length;b++)a+=this.values[b];this.mean=a/this.values.length,this.dirty=!1}return this.mean}return 0},a}(),a.WindowedMean=m}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(){function b(a,b){this.jitterX=0,this.jitterY=0,this.jitterX=a,this.jitterY=b}return b.prototype.begin=function(){},b.prototype.transform=function(b){b.x+=a.MathUtils.randomTriangular(-this.jitterX,this.jitterY),b.y+=a.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},b.prototype.end=function(){},b}();a.JitterEffect=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){var b;!function(a){var b=function(){function b(a){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=a}return b.prototype.begin=function(a){this.worldX=a.x+this.centerX,this.worldY=a.y+this.centerY},b.prototype.transform=function(c){var k,l,m,g=this.angle*a.MathUtils.degreesToRadians,h=c.x-this.worldX,i=c.y-this.worldY,j=Math.sqrt(h*h+i*i);j<this.radius&&(k=b.interpolation.apply(0,g,(this.radius-j)/this.radius),l=Math.cos(k),m=Math.sin(k),c.x=l*h-m*i+this.worldX,c.y=m*h+l*i+this.worldY)},b.prototype.end=function(){},b}();b.interpolation=new a.PowOut(2),a.SwirlEffect=b}(b=a.core||(a.core={}))}(pixi_spine||(pixi_spine={})),function(a){function b(a){var b=PIXI.loaders.Resource.TYPE;return b?a.type===b.JSON:a.isJson}function c(){return function(c,e){var g,h,i,j,k,l,m,n,o,p,q;return c.data&&b(c)&&c.data.bones?(g=c.metadata||{},h=g?c.metadata.spineSkeletonScale:null,i=g?c.metadata.spineAtlas:null,i===!1?e():i&&i.pages?(j=new a.core.SkeletonJson(new a.core.AtlasAttachmentLoader(i)),k=j.readSkeletonData(c.data),c.spineData=k,c.spineAtlas=i,e()):(l=g.spineAtlasSuffix||".atlas",m=c.url.substr(0,c.url.lastIndexOf("."))+l,m=m.replace(this.baseUrl,""),n={crossOrigin:c.crossOrigin,xhrType:PIXI.loaders.Resource.XHR_RESPONSE_TYPE.TEXT,metadata:g.spineMetadata||null,parentResource:c},o={crossOrigin:c.crossOrigin,metadata:g.imageMetadata||null,parentResource:c},p=c.url.substr(0,c.url.lastIndexOf("/")+1),p=p.replace(this.baseUrl,""),q=g.images?f(g.images):g.image?f({"default":g.image}):g.imageLoader?g.imageLoader(this,c.name+"_atlas_page_",p,o):d(this,c.name+"_atlas_page_",p,o),this.add(c.name+"_atlas",m,n,function(b){new a.core.TextureAtlas(b.xhr.responseText,q,function(b){var d=new a.core.SkeletonJson(new a.core.AtlasAttachmentLoader(b));h&&(d.scale=h),c.spineData=d.readSkeletonData(c.data),c.spineAtlas=b,e()})}),void 0)):e()}}function d(a,b,c,d){return c&&c.lastIndexOf("/")!==c.length-1&&(c+="/"),function(e,f){var g=b+e,h=c+e;a.add(g,h,d,function(a){f(a.texture.baseTexture)})}}function e(a,b){return a&&a.lastIndexOf("/")!==a.length-1&&(a+="/"),function(a,c){c(PIXI.BaseTexture.fromImage(a,b))}}function f(a){return function(b,c){var d=a[b]||a["default"];d&&d.baseTexture?c(d.baseTexture):c(d)}}a.atlasParser=c,a.imageLoaderAdapter=d,a.syncImageLoaderAdapter=e,a.staticImageLoader=f,PIXI.loaders.Loader.addPixiMiddleware(c),PIXI.loader.use(c())}(pixi_spine||(pixi_spine={})),function(){Math.fround||(Math.fround=Math.fround=function(a){return function(b){return a[0]=b,a[0]}}(new Float32Array(1)))}(),function(a){function f(){var a=this.parent.worldTransform,b=this.worldTransform,c=this.localTransform;b.a=c.a*a.a+c.b*a.c,b.b=c.a*a.b+c.b*a.d,b.c=c.c*a.a+c.d*a.c,b.d=c.c*a.b+c.d*a.d,b.tx=c.tx*a.a+c.ty*a.c+a.tx,b.ty=c.tx*a.b+c.ty*a.d+a.ty,this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null}var b,c,d,e;a.core.Bone.yDown=!0,b=[0,0,0],c=function(a){function b(b){return a.call(this,b)||this}return __extends(b,a),b}(PIXI.Sprite),a.SpineSprite=c,d=function(a){function b(b,c,d,e,f){return a.call(this,b,c,d,e,f)||this}return __extends(b,a),b}(PIXI.mesh.Mesh),a.SpineMesh=d,e=function(e){function g(b){var d,f,g,h,i,j,k,l,c=e.call(this)||this;if(c.hackTextureBySlotName=function(a,b,c){void 0===b&&(b=null),void 0===c&&(c=null);var d=this.skeleton.findSlotIndex(a);return-1==d?!1:this.hackTextureBySlotIndex(d,b,c)},!b)throw new Error("The spineData param is required.");if("string"==typeof b)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');for(c.spineData=b,c.skeleton=new a.core.Skeleton(b),c.skeleton.updateWorldTransform(),c.stateData=new a.core.AnimationStateData(b),c.state=new a.core.AnimationState(c.stateData),c.slotContainers=[],c.tempClipContainers=[],d=0,f=c.skeleton.slots.length;f>d;d++)if(g=c.skeleton.slots[d],h=g.attachment,i=new PIXI.Container,c.slotContainers.push(i),c.addChild(i),c.tempClipContainers.push(null),h instanceof a.core.RegionAttachment)j=h.region.name,k=c.createSprite(g,h,j),g.currentSprite=k,g.currentSpriteName=j,i.addChild(k);else if(h instanceof a.core.MeshAttachment)l=c.createMesh(g,h),g.currentMesh=l,g.currentMeshName=h.name,i.addChild(l);else{if(!(h instanceof a.core.ClippingAttachment))continue;c.createGraphics(g,h),i.addChild(g.clippingContainer),i.addChild(g.currentGraphics)}return c.autoUpdate=!0,c.tintRgb=new Float32Array([1,1,1]),c}return __extends(g,e),Object.defineProperty(g.prototype,"autoUpdate",{get:function(){return this.updateTransform===g.prototype.autoUpdateTransform},set:function(a){this.updateTransform=a?g.prototype.autoUpdateTransform:PIXI.Container.prototype.updateTransform},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"tint",{get:function(){return PIXI.utils.rgb2hex(this.tintRgb)},set:function(a){this.tintRgb=PIXI.utils.hex2rgb(a,this.tintRgb)},enumerable:!0,configurable:!0}),g.prototype.update=function(c){var d,e,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;for(this.state.update(c),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform(),d=this.skeleton.slots,e=this.tintRgb[0],g=this.tintRgb[1],h=this.tintRgb[2],i=0,j=d.length;j>i;i++)if(k=d[i],l=k.attachment,m=this.slotContainers[i],l){if(n=l.color,l instanceof a.core.RegionAttachment)o=l.region,o&&(k.currentMesh&&(k.currentMesh.visible=!1,k.currentMesh=null,k.currentMeshName=void 0),p=o,k.currentSpriteName&&k.currentSpriteName===p.name||(q=p.name,k.currentSprite&&(k.currentSprite.visible=!1),k.sprites=k.sprites||{},void 0!==k.sprites[q]?k.sprites[q].visible=!0:(r=this.createSprite(k,l,q),m.addChild(r)),k.currentSprite=k.sprites[q],k.currentSpriteName=q)),m.transform?(s=m.transform,t=s,u=null,t.matrix2d?(u=t.matrix2d,t._dirtyVersion++,t.version=t._dirtyVersion,t.isStatic=!0,t.operMode=0):PIXI.TransformBase?(t.position&&(s=new PIXI.TransformBase,m.transform=s),u=s.localTransform):t.setFromMatrix(k.bone.matrix),u&&k.bone.matrix.copy(u)):(u=m.localTransform||new PIXI.Matrix,k.bone.matrix.copy(u),m.localTransform=u,m.displayObjectUpdateTransform=f),b[0]=e*k.color.r*n.r,b[1]=g*k.color.g*n.g,b[2]=h*k.color.b*n.b,k.currentSprite.tint=PIXI.utils.rgb2hex(b),k.currentSprite.blendMode=k.blendMode;else if(l instanceof a.core.MeshAttachment)k.currentSprite&&(k.currentSprite.visible=!1,k.currentSprite=null,k.currentSpriteName=void 0,m.transform?m.transform=new PIXI.TransformStatic:(m.localTransform=new PIXI.Matrix,m.displayObjectUpdateTransform=PIXI.DisplayObject.prototype.updateTransform)),k.currentMeshName&&k.currentMeshName===l.name||(v=l.name,k.currentMesh&&(k.currentMesh.visible=!1),k.meshes=k.meshes||{},void 0!==k.meshes[v]?k.meshes[v].visible=!0:(w=this.createMesh(k,l),m.addChild(w)),k.currentMesh=k.meshes[v],k.currentMeshName=v),l.computeWorldVerticesOld(k,k.currentMesh.vertices),"3"!==PIXI.VERSION[0]&&(x=k.currentMesh.tintRgb,x[0]=e*k.color.r*n.r,x[1]=g*k.color.g*n.g,x[2]=h*k.color.b*n.b),k.currentMesh.blendMode=k.blendMode;else{if(!(l instanceof a.core.ClippingAttachment)){m.visible=!1;continue}k.currentGraphics||(this.createGraphics(k,l),m.addChild(k.clippingContainer),m.addChild(k.currentGraphics)),this.updateGraphics(k,l)}m.visible=!0,m.alpha=k.color.a}else m.visible=!1;for(y=this.skeleton.drawOrder,z=null,A=null,i=0,j=y.length;j>i;i++)k=d[y[i].data.index],m=this.slotContainers[y[i].data.index],A||m.parent!==this&&(m.parent.removeChild(m),m.parent=this),k.currentGraphics&&k.attachment?(A=k.clippingContainer,z=k.attachment,A.children.length=0,this.children[i]=m,z.endSlot==k.data&&(A.renderable=!1,A=null,z=null)):A?(B=this.tempClipContainers[i],B||(B=this.tempClipContainers[i]=new PIXI.Container,B.visible=!1),this.children[i]=B,m.parent=null,A.addChild(m),z.endSlot==k.data&&(A.renderable=!0,A=null,z=null)):this.children[i]=m},g.prototype.setSpriteRegion=function(a,b,c){b.region=c,b.texture=c.texture,c.size?(b.scale.x=c.size.width/c.originalWidth,b.scale.y=-c.size.height/c.originalHeight):(b.scale.x=a.scaleX*a.width/c.originalWidth,b.scale.y=-a.scaleY*a.height/c.originalHeight)},g.prototype.setMeshRegion=function(a,b,c){b.region=c,b.texture=c.texture,a.updateUVs(c,b.uvs),b.dirty++},g.prototype.autoUpdateTransform=function(){if(g.globalAutoUpdate){this.lastTime=this.lastTime||Date.now();var a=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.update(a)}else this.lastTime=0;PIXI.Container.prototype.updateTransform.call(this)},g.prototype.createSprite=function(b,d,e){var g,h,f=d.region;return b.tempAttachment===d&&(f=b.tempRegion,b.tempAttachment=null,b.tempRegion=null),g=f.texture,h=new c(g),h.rotation=d.rotation*a.core.MathUtils.degRad,h.anchor.x=.5,h.anchor.y=.5,h.position.x=d.x,h.position.y=d.y,h.alpha=d.color.a,h.region=d.region,this.setSpriteRegion(d,h,d.region),b.sprites=b.sprites||{},b.sprites[e]=h,h},g.prototype.createMesh=function(a,b){var e,c=b.region;return a.tempAttachment===b&&(c=a.tempRegion,a.tempAttachment=null,a.tempRegion=null),e=new d(c.texture,new Float32Array(b.regionUVs.length),new Float32Array(b.regionUVs.length),new Uint16Array(b.triangles),PIXI.mesh.Mesh.DRAW_MODES.TRIANGLES),e.canvasPadding=1.5,e.alpha=b.color.a,e.region=b.region,this.setMeshRegion(b,e,c),a.meshes=a.meshes||{},a.meshes[b.name]=e,e},g.prototype.createGraphics=function(a){var c=new PIXI.Graphics,d=new PIXI.Polygon([]);return c.clear(),c.beginFill(16777215,1),c.drawPolygon(d),c.renderable=!1,a.currentGraphics=c,a.clippingContainer=new PIXI.Container,a.clippingContainer.mask=a.currentGraphics,c},g.prototype.updateGraphics=function(a,b){var c=a.currentGraphics.graphicsData[0].shape.points,d=b.worldVerticesLength;c.length=d,b.computeWorldVertices(a,0,d,c,0,2),a.currentGraphics.dirty++,a.currentGraphics.clearDirty++
},g.prototype.hackTextureBySlotIndex=function(b,c,d){var e,f,g;return void 0===c&&(c=null),void 0===d&&(d=null),(e=this.skeleton.slots[b])?(f=e.attachment,g=f.region,c&&(g=new a.core.TextureRegion,g.texture=c,g.size=d),e.currentSprite&&e.currentSprite.region!=g?(this.setSpriteRegion(f,e.currentSprite,g),e.currentSprite.region=g):e.currentMesh&&e.currentMesh.region!=g?this.setMeshRegion(f,e.currentMesh,g):(e.tempRegion=g,e.tempAttachment=f),!0):!1},g}(PIXI.Container),e.globalAutoUpdate=!0,e.clippingPolygon=[],a.Spine=e}(pixi_spine||(pixi_spine={})),PIXI.spine=pixi_spine;
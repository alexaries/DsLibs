!function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var t={};n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="./js/app/",n(n.s=121)}([function(module,exports){eval("// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_global.js\n// module id = 0\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_global.js?")},function(module,exports){eval("var core = module.exports = { version: '2.5.1' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_core.js\n// module id = 1\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_core.js?")},function(module,exports){eval("var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_has.js\n// module id = 2\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_has.js?")},function(module,exports,__webpack_require__){eval("var anObject = __webpack_require__(13);\nvar IE8_DOM_DEFINE = __webpack_require__(33);\nvar toPrimitive = __webpack_require__(22);\nvar dP = Object.defineProperty;\n\nexports.f = __webpack_require__(4) ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_object-dp.js\n// module id = 3\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_object-dp.js?")},function(module,exports,__webpack_require__){eval("// Thank's IE8 for his funny defineProperty\nmodule.exports = !__webpack_require__(11)(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_descriptors.js\n// module id = 4\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_descriptors.js?")},function(module,exports,__webpack_require__){"use strict";eval('\n\nexports.__esModule = true;\n\nvar _iterator = __webpack_require__(50);\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = __webpack_require__(49);\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === "function" && typeof _iterator2.default === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === "function" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? "symbol" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === "function" && _typeof(_iterator2.default) === "symbol" ? function (obj) {\n  return typeof obj === "undefined" ? "undefined" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === "function" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof(obj);\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/typeof.js\n// module id = 5\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/typeof.js?')},function(module,exports,__webpack_require__){eval("var dP = __webpack_require__(3);\nvar createDesc = __webpack_require__(15);\nmodule.exports = __webpack_require__(4) ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_hide.js\n// module id = 6\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_hide.js?")},function(module,exports,__webpack_require__){eval("// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = __webpack_require__(48);\nvar defined = __webpack_require__(20);\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_to-iobject.js\n// module id = 7\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_to-iobject.js?")},function(module,exports,__webpack_require__){eval("var store = __webpack_require__(25)('wks');\nvar uid = __webpack_require__(16);\nvar Symbol = __webpack_require__(0).Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_wks.js\n// module id = 8\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_wks.js?")},function(module,exports,__webpack_require__){eval("var global = __webpack_require__(0);\nvar core = __webpack_require__(1);\nvar ctx = __webpack_require__(40);\nvar hide = __webpack_require__(6);\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && key in exports) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_export.js\n// module id = 9\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_export.js?")},function(module,exports){eval('var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function("return this")() || (1,eval)("this");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === "object")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it\'s\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 10\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///(webpack)/buildin/global.js?')},function(module,exports){eval("module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_fails.js\n// module id = 11\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_fails.js?")},function(module,exports){eval("// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/node_modules/_process@0.11.10@process/browser.js\n// module id = 12\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///(webpack)/node_modules/_process@0.11.10@process/browser.js?")},function(module,exports,__webpack_require__){eval("var isObject = __webpack_require__(14);\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_an-object.js\n// module id = 13\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_an-object.js?")},function(module,exports){eval("module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_is-object.js\n// module id = 14\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_is-object.js?")},function(module,exports){eval("module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_property-desc.js\n// module id = 15\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_property-desc.js?")},function(module,exports){eval("var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_uid.js\n// module id = 16\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_uid.js?")},function(module,exports,__webpack_require__){eval("// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = __webpack_require__(36);\nvar enumBugKeys = __webpack_require__(26);\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_object-keys.js\n// module id = 17\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_object-keys.js?")},function(module,exports){eval("exports.f = {}.propertyIsEnumerable;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_object-pie.js\n// module id = 18\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_object-pie.js?")},function(module,exports){eval("// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_to-integer.js\n// module id = 19\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_to-integer.js?")},function(module,exports){eval('// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError("Can\'t call method on  " + it);\n  return it;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_defined.js\n// module id = 20\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_defined.js?')},function(module,exports){eval("module.exports = true;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_library.js\n// module id = 21\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_library.js?")},function(module,exports,__webpack_require__){eval("// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = __webpack_require__(14);\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_to-primitive.js\n// module id = 22\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_to-primitive.js?")},function(module,exports){eval("module.exports = {};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_iterators.js\n// module id = 23\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_iterators.js?")},function(module,exports,__webpack_require__){eval("var shared = __webpack_require__(25)('keys');\nvar uid = __webpack_require__(16);\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_shared-key.js\n// module id = 24\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_shared-key.js?")},function(module,exports,__webpack_require__){eval("var global = __webpack_require__(0);\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function (key) {\n  return store[key] || (store[key] = {});\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_shared.js\n// module id = 25\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_shared.js?")},function(module,exports){eval("// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_enum-bug-keys.js\n// module id = 26\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_enum-bug-keys.js?")},function(module,exports,__webpack_require__){eval("var def = __webpack_require__(3).f;\nvar has = __webpack_require__(2);\nvar TAG = __webpack_require__(8)('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_set-to-string-tag.js\n// module id = 27\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_set-to-string-tag.js?")},function(module,exports,__webpack_require__){eval("exports.f = __webpack_require__(8);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_wks-ext.js\n// module id = 28\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_wks-ext.js?")},function(module,exports,__webpack_require__){eval("var global = __webpack_require__(0);\nvar core = __webpack_require__(1);\nvar LIBRARY = __webpack_require__(21);\nvar wksExt = __webpack_require__(28);\nvar defineProperty = __webpack_require__(3).f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_wks-define.js\n// module id = 29\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_wks-define.js?")},function(module,exports,__webpack_require__){eval("// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = __webpack_require__(13);\nvar dPs = __webpack_require__(56);\nvar enumBugKeys = __webpack_require__(26);\nvar IE_PROTO = __webpack_require__(24)('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = __webpack_require__(34)('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  __webpack_require__(60).appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_object-create.js\n// module id = 30\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_object-create.js?")},function(module,exports){eval("exports.f = Object.getOwnPropertySymbols;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_object-gops.js\n// module id = 31\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_object-gops.js?")},function(module,exports,__webpack_require__){"use strict";eval("\nvar LIBRARY = __webpack_require__(21);\nvar $export = __webpack_require__(9);\nvar redefine = __webpack_require__(35);\nvar hide = __webpack_require__(6);\nvar has = __webpack_require__(2);\nvar Iterators = __webpack_require__(23);\nvar $iterCreate = __webpack_require__(55);\nvar setToStringTag = __webpack_require__(27);\nvar getPrototypeOf = __webpack_require__(41);\nvar ITERATOR = __webpack_require__(8)('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_iter-define.js\n// module id = 32\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_iter-define.js?")},function(module,exports,__webpack_require__){eval("module.exports = !__webpack_require__(4) && !__webpack_require__(11)(function () {\n  return Object.defineProperty(__webpack_require__(34)('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_ie8-dom-define.js\n// module id = 33\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_ie8-dom-define.js?")},function(module,exports,__webpack_require__){eval("var isObject = __webpack_require__(14);\nvar document = __webpack_require__(0).document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_dom-create.js\n// module id = 34\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_dom-create.js?")},function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(6);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_redefine.js\n// module id = 35\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_redefine.js?")},function(module,exports,__webpack_require__){eval("var has = __webpack_require__(2);\nvar toIObject = __webpack_require__(7);\nvar arrayIndexOf = __webpack_require__(57)(false);\nvar IE_PROTO = __webpack_require__(24)('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_object-keys-internal.js\n// module id = 36\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_object-keys-internal.js?")},function(module,exports){eval("var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_cof.js\n// module id = 37\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_cof.js?")},function(module,exports,__webpack_require__){eval("// 7.1.13 ToObject(argument)\nvar defined = __webpack_require__(20);\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_to-object.js\n// module id = 38\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_to-object.js?")},function(module,exports,__webpack_require__){eval("// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = __webpack_require__(36);\nvar hiddenKeys = __webpack_require__(26).concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_object-gopn.js\n// module id = 39\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_object-gopn.js?")},function(module,exports,__webpack_require__){eval("// optional / simple context binding\nvar aFunction = __webpack_require__(54);\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_ctx.js\n// module id = 40\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_ctx.js?")},function(module,exports,__webpack_require__){eval("// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = __webpack_require__(2);\nvar toObject = __webpack_require__(38);\nvar IE_PROTO = __webpack_require__(24)('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_object-gpo.js\n// module id = 41\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_object-gpo.js?")},function(module,exports,__webpack_require__){eval("var pIE = __webpack_require__(18);\nvar createDesc = __webpack_require__(15);\nvar toIObject = __webpack_require__(7);\nvar toPrimitive = __webpack_require__(22);\nvar has = __webpack_require__(2);\nvar IE8_DOM_DEFINE = __webpack_require__(33);\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = __webpack_require__(4) ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_object-gopd.js\n// module id = 42\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_object-gopd.js?")},function(module,exports,__webpack_require__){"use strict";eval('\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError("Cannot call a class as a function");\n  }\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/classCallCheck.js\n// module id = 43\n// module chunks = 0 1 2 3 4 5 6\n\n//# sourceURL=webpack:///../node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/classCallCheck.js?')},function(module,exports,__webpack_require__){"use strict";eval('\n\nexports.__esModule = true;\n\nvar _defineProperty = __webpack_require__(78);\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if ("value" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/createClass.js\n// module id = 44\n// module chunks = 0 1 2 3 4 5 6\n\n//# sourceURL=webpack:///../node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/createClass.js?')},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(75), __esModule: true };\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/get-prototype-of.js\n// module id = 45\n// module chunks = 0 1 2 3 4 5 6\n\n//# sourceURL=webpack:///../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/get-prototype-of.js?')},function(module,exports,__webpack_require__){"use strict";eval('\n\nexports.__esModule = true;\n\nvar _typeof2 = __webpack_require__(5);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");\n  }\n\n  return call && ((typeof call === "undefined" ? "undefined" : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/possibleConstructorReturn.js\n// module id = 46\n// module chunks = 0 1 2 3 4 5 6\n\n//# sourceURL=webpack:///../node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/possibleConstructorReturn.js?')},function(module,exports,__webpack_require__){"use strict";eval('\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = __webpack_require__(81);\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = __webpack_require__(85);\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = __webpack_require__(5);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== "function" && superClass !== null) {\n    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/inherits.js\n// module id = 47\n// module chunks = 0 1 2 3 4 5 6\n\n//# sourceURL=webpack:///../node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/inherits.js?')},function(module,exports,__webpack_require__){eval("// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = __webpack_require__(37);\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_iobject.js\n// module id = 48\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_iobject.js?")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(65), __esModule: true };\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/symbol.js\n// module id = 49\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/symbol.js?')},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(51), __esModule: true };\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/symbol/iterator.js\n// module id = 50\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/symbol/iterator.js?')},function(module,exports,__webpack_require__){eval("__webpack_require__(52);\n__webpack_require__(61);\nmodule.exports = __webpack_require__(28).f('iterator');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/fn/symbol/iterator.js\n// module id = 51\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/fn/symbol/iterator.js?")},function(module,exports,__webpack_require__){"use strict";eval("\nvar $at = __webpack_require__(53)(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\n__webpack_require__(32)(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/es6.string.iterator.js\n// module id = 52\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/es6.string.iterator.js?")},function(module,exports,__webpack_require__){eval("var toInteger = __webpack_require__(19);\nvar defined = __webpack_require__(20);\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_string-at.js\n// module id = 53\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_string-at.js?")},function(module,exports){eval("module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_a-function.js\n// module id = 54\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_a-function.js?")},function(module,exports,__webpack_require__){"use strict";eval("\nvar create = __webpack_require__(30);\nvar descriptor = __webpack_require__(15);\nvar setToStringTag = __webpack_require__(27);\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n__webpack_require__(6)(IteratorPrototype, __webpack_require__(8)('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_iter-create.js\n// module id = 55\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_iter-create.js?")},function(module,exports,__webpack_require__){eval("var dP = __webpack_require__(3);\nvar anObject = __webpack_require__(13);\nvar getKeys = __webpack_require__(17);\n\nmodule.exports = __webpack_require__(4) ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_object-dps.js\n// module id = 56\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_object-dps.js?")},function(module,exports,__webpack_require__){eval("// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = __webpack_require__(7);\nvar toLength = __webpack_require__(58);\nvar toAbsoluteIndex = __webpack_require__(59);\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_array-includes.js\n// module id = 57\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_array-includes.js?")},function(module,exports,__webpack_require__){eval("// 7.1.15 ToLength\nvar toInteger = __webpack_require__(19);\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_to-length.js\n// module id = 58\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_to-length.js?")},function(module,exports,__webpack_require__){eval("var toInteger = __webpack_require__(19);\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_to-absolute-index.js\n// module id = 59\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_to-absolute-index.js?")},function(module,exports,__webpack_require__){eval("var document = __webpack_require__(0).document;\nmodule.exports = document && document.documentElement;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_html.js\n// module id = 60\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_html.js?")},function(module,exports,__webpack_require__){eval("__webpack_require__(62);\nvar global = __webpack_require__(0);\nvar hide = __webpack_require__(6);\nvar Iterators = __webpack_require__(23);\nvar TO_STRING_TAG = __webpack_require__(8)('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/web.dom.iterable.js\n// module id = 61\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/web.dom.iterable.js?")},function(module,exports,__webpack_require__){"use strict";eval("\nvar addToUnscopables = __webpack_require__(63);\nvar step = __webpack_require__(64);\nvar Iterators = __webpack_require__(23);\nvar toIObject = __webpack_require__(7);\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = __webpack_require__(32)(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/es6.array.iterator.js\n// module id = 62\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/es6.array.iterator.js?")},function(module,exports){eval("module.exports = function () { /* empty */ };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_add-to-unscopables.js\n// module id = 63\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_add-to-unscopables.js?")},function(module,exports){eval("module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_iter-step.js\n// module id = 64\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_iter-step.js?")},function(module,exports,__webpack_require__){eval("__webpack_require__(66);\n__webpack_require__(71);\n__webpack_require__(72);\n__webpack_require__(73);\nmodule.exports = __webpack_require__(1).Symbol;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/fn/symbol/index.js\n// module id = 65\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/fn/symbol/index.js?")},function(module,exports,__webpack_require__){"use strict";eval("\n// ECMAScript 6 symbols shim\nvar global = __webpack_require__(0);\nvar has = __webpack_require__(2);\nvar DESCRIPTORS = __webpack_require__(4);\nvar $export = __webpack_require__(9);\nvar redefine = __webpack_require__(35);\nvar META = __webpack_require__(67).KEY;\nvar $fails = __webpack_require__(11);\nvar shared = __webpack_require__(25);\nvar setToStringTag = __webpack_require__(27);\nvar uid = __webpack_require__(16);\nvar wks = __webpack_require__(8);\nvar wksExt = __webpack_require__(28);\nvar wksDefine = __webpack_require__(29);\nvar enumKeys = __webpack_require__(68);\nvar isArray = __webpack_require__(69);\nvar anObject = __webpack_require__(13);\nvar toIObject = __webpack_require__(7);\nvar toPrimitive = __webpack_require__(22);\nvar createDesc = __webpack_require__(15);\nvar _create = __webpack_require__(30);\nvar gOPNExt = __webpack_require__(70);\nvar $GOPD = __webpack_require__(42);\nvar $DP = __webpack_require__(3);\nvar $keys = __webpack_require__(17);\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  __webpack_require__(39).f = gOPNExt.f = $getOwnPropertyNames;\n  __webpack_require__(18).f = $propertyIsEnumerable;\n  __webpack_require__(31).f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !__webpack_require__(21)) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    if (it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    replacer = args[1];\n    if (typeof replacer == 'function') $replacer = replacer;\n    if ($replacer || !isArray(replacer)) replacer = function (key, value) {\n      if ($replacer) value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || __webpack_require__(6)($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/es6.symbol.js\n// module id = 66\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/es6.symbol.js?")},function(module,exports,__webpack_require__){eval("var META = __webpack_require__(16)('meta');\nvar isObject = __webpack_require__(14);\nvar has = __webpack_require__(2);\nvar setDesc = __webpack_require__(3).f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !__webpack_require__(11)(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_meta.js\n// module id = 67\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_meta.js?")},function(module,exports,__webpack_require__){eval("// all enumerable object keys, includes symbols\nvar getKeys = __webpack_require__(17);\nvar gOPS = __webpack_require__(31);\nvar pIE = __webpack_require__(18);\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_enum-keys.js\n// module id = 68\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_enum-keys.js?")},function(module,exports,__webpack_require__){eval("// 7.2.2 IsArray(argument)\nvar cof = __webpack_require__(37);\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_is-array.js\n// module id = 69\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_is-array.js?")},function(module,exports,__webpack_require__){eval("// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = __webpack_require__(7);\nvar gOPN = __webpack_require__(39).f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_object-gopn-ext.js\n// module id = 70\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_object-gopn-ext.js?")},function(module,exports){eval("\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/es6.object.to-string.js\n// module id = 71\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/es6.object.to-string.js?")},function(module,exports,__webpack_require__){eval("__webpack_require__(29)('asyncIterator');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/es7.symbol.async-iterator.js\n// module id = 72\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/es7.symbol.async-iterator.js?")},function(module,exports,__webpack_require__){eval("__webpack_require__(29)('observable');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/es7.symbol.observable.js\n// module id = 73\n// module chunks = 0 1 2 3 4 5 6 7 8\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/es7.symbol.observable.js?")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof2 = __webpack_require__(5);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//这个类使用老js方法，有可能直接插入html标签内使用\n!function (factory) {\n\n    var root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : this;\n\n    if (true) {\n\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (exports) {\n\n            module.exports = factory(root, exports);\n        }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof exports !== 'undefined') {\n\n        module.exports = factory(root, exports);\n    } else {\n\n        factory(root);\n    }\n}(function (root, model) {\n\n    /**\n     * 事件机制类\n     * @class ds.core.EventDispatcher\n     * @classdesc 实现js下的事件派发机制，为复杂的互动交互提供事件派发功能。\n     * @example\n     *\n     * //一只猫的类，拥有事件机制\n     * //ES6继承写法\n     * import EventDispatcher from  'ds/core/EventDispatcher';\n     * export default class CatClass extends EventDispatcher\n     * {\n     *\n     * }\n     *\n     * //老版本js继承写法\n     * function CatClass(){\n     *\n     *     ds.core.EventDispatcher.extend(this);\n     *\n     * };\n     *\n     */\n    function EventDispatcher() {\n\n        /**\n         * 添加监听事件\n         * @method ds.core.EventDispatcher.prototype.addEventListener\n         * @function\n         * @param {string} type 事件标识\n         * @param {function} listener 事件执行函数\n         * @param {*} [context=this]  监听方法内的this上下文关系\n         */\n        this.addEventListener = function (type, listener, context) {\n\n            if (this._listeners === undefined) this._listeners = {};\n\n            var _listeners = this._listeners;\n\n            if (_listeners[type] === undefined) {\n\n                _listeners[type] = [];\n            }\n\n            if (_listeners[type].indexOf(listener) === -1) {\n\n                if (context !== undefined) listener._ds_context = context;\n\n                _listeners[type].push(listener);\n            }\n        };\n\n        /**\n         * 添加监听事件\n         * @method ds.core.EventDispatcher.prototype.on\n         * @function\n         * @see {@link ds.core.EventDispatcher#addEventListener}\n         */\n        this.on = this.addEventListener;\n\n        /**\n         * 添加监听事件,执行一次就销毁\n         * @method ds.core.EventDispatcher.prototype.once\n         * @param {string} type 事件标识\n         * @param {function} listener 事件执行函数\n         * @param {*} [context=this]  监听方法内的this上下文关系\n         */\n        this.once = function (type, listener, context) {\n\n            listener.once = true;\n            this.addEventListener(type, listener, context);\n        };\n\n        /**\n         * 判断是否监听指定事件\n         * @function\n         * @method ds.core.EventDispatcher.prototype.hasEventListener\n         * @param {string } type  事件标识\n         * @param {function} listener 事件执行函数\n         * @returns {boolean}\n         */\n        this.hasEventListener = function (type, listener) {\n\n            if (this._listeners === undefined) return false;\n\n            var _listeners = this._listeners;\n\n            return _listeners[type] !== undefined && _listeners[type].indexOf(listener) !== -1;\n        };\n        /**\n         * 判断是否监听指定事件\n         * @method ds.core.EventDispatcher.prototype.hs\n         * @see {@link ds.core.EventDispatcher#addEventListener}\n         */\n        this.hs = this.hasEventListener;\n\n        /**\n         * 删除监听事件\n         * @method ds.core.EventDispatcher.prototype.removeEventListener\n         * @param type 事件标识\n         * @param listener  时间执行函数\n         */\n        this.removeEventListener = function (type, listener) {\n\n            if (this._listeners === undefined) return;\n\n            var _listeners = this._listeners;\n            var _listenerArray = _listeners[type];\n\n            if (_listenerArray !== undefined) {\n\n                var _index = _listenerArray.indexOf(listener);\n\n                if (_index !== -1) {\n\n                    _listenerArray.splice(_index, 1);\n                }\n            }\n        };\n\n        /**\n         * 删除监听事件\n         * @method ds.core.EventDispatcher.prototype.off\n         * @see {@link ds.core.EventDispatcher#removeEventListener}\n         */\n        this.off = this.removeEventListener;\n\n        /**\n         * 派发事件\n         * @method ds.core.EventDispatcher.prototype.dispatchEvent\n         * @param {string | object} event 可以是事件标识名的字符串、或者带事件标识名的对象。\n         * @param {string } event.type 事件标识名\n         * @param {*} [event.*] 派发事件对象可带任意对象参数\n         */\n        this.dispatchEvent = function (event) {\n\n            if (this._listeners === undefined) return;\n\n            if (typeof event === 'string') event = { type: event };\n\n            var _listeners = this._listeners;\n            var _listenerArray = _listeners[event.type];\n\n            if (_listenerArray !== undefined) {\n\n                event.target = this;\n\n                var _array = _listenerArray.slice(0);\n\n                for (var i = 0, l = _array.length; i < l; i++) {\n\n                    // console.log('---\x3e_array[i]:',_array[i],i,_array[i].call);\n                    // console.log(_array[i]._ds_context,this);\n\n                    if (_array[i]._ds_context) _array[i].call(_array[i]._ds_context, event);else _array[i].call(this, event);\n\n                    if (_array[i].once) {\n                        this.removeEventListener(event.type, _array[i]);\n                    }\n                }\n            }\n        };\n\n        /**\n         * 派发事件\n         * @method ds.core.EventDispatcher.prototype.emit\n         * @see {@link ds.core.EventDispatcher#dispatchEvent}\n         */\n        this.emit = this.dispatchEvent;\n\n        /**\n         * 派发事件\n         * @method ds.core.EventDispatcher.prototype.trigger\n         * @see {@link ds.core.EventDispatcher#dispatchEvent}\n         */\n        this.trigger = this.dispatchEvent;\n\n        /**\n         * 派发事件\n         * @method ds.core.EventDispatcher.prototype.ds\n         * @see {@link ds.core.EventDispatcher#dispatchEvent}\n         */\n        this.ds = this.dispatchEvent;\n\n        /**\n         * 删除所有的事件监听\n         * @method ds.core.EventDispatcher.prototype.removeAllEventListeners\n         */\n        this.removeAllEventListeners = function () {\n\n            this._listeners = {};\n        };\n    }\n\n    function keys(obj) {\n\n        var keys = [];\n        for (var key in obj) {\n\n            keys.push(key);\n        }\n\n        return keys;\n    }\n\n    function extend(obj) {\n\n        var length = arguments.length;\n\n        if (length < 2 || obj === null) return obj;\n\n        for (var index = 1; index < length; index++) {\n\n            var source = arguments[index],\n                ks = keys(source),\n                l = ks.length;\n\n            for (var i = 0; i < l; i++) {\n\n                var key = ks[i];\n                obj[key] = source[key];\n            }\n        }\n\n        return obj;\n    }\n\n    /**\n     * 一个对象通过copy一个EventDispatcher对象方法成员来进行继承事件派发机制\n     * @method  ds.core.EventDispatcher.extend\n     * @function\n     * @static\n     * @param {class} source 需要继承事件派发机制的对象\n     * @example\n     *\n     * require('ds/core/EventDispatcher');\n     * //创建一个猫的类，继承事件派发机制。\n     * function CatClass(){\n     *\n     *    //这个猫继承了事件派发机制\n     *    ds.EventDispatcher.extend(this);\n     *\n     *    //猫有一个行走的方法\n     *    this.startRun=function(){\n     *\n     *        //发出行走事件 `run`\n     *        this.ds('run');\n     *\n     *    }\n     *\n     * }\n     *\n     * //创建一个类的实例\n     * var cat = new CatClass();\n     *\n     * //开始监听猫的 run 行为\n     * cat.on('run',function(){\n     *      console.log('cat run');\n     * });\n     *\n     * //执行猫开始行走，之前监听就会接受到相关事件\n     * cat.startRun();\n     *\n     */\n    EventDispatcher.extend = function (source) {\n\n        extend(source, new EventDispatcher());\n    };\n\n    var ds = root.ds = root.ds || {};\n    ds.core = ds.core || {};\n    ds.core.EventDispatcher = EventDispatcher;\n    /**\n     * 事件机制类\n     * @class ds.EventDispatcher\n     * @classdesc 实现js下的事件派发机制，为复杂的互动交互提供事件派发功能。\n     * @see ds.EventDispatcher 实际等同于 {@link ds.core.EventDispatcher}\n     */\n    ds.EventDispatcher = EventDispatcher;\n\n    return ds.core.EventDispatcher;\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(12), __webpack_require__(10)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/ds/core/EventDispatcher.js\n// module id = 74\n// module chunks = 1 2 3 4 5 6 7\n\n//# sourceURL=webpack:///./source/ds/core/EventDispatcher.js?")},function(module,exports,__webpack_require__){eval("__webpack_require__(76);\nmodule.exports = __webpack_require__(1).Object.getPrototypeOf;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/fn/object/get-prototype-of.js\n// module id = 75\n// module chunks = 0 1 2 3 4 5 6\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/fn/object/get-prototype-of.js?")},function(module,exports,__webpack_require__){eval("// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = __webpack_require__(38);\nvar $getPrototypeOf = __webpack_require__(41);\n\n__webpack_require__(77)('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/es6.object.get-prototype-of.js\n// module id = 76\n// module chunks = 0 1 2 3 4 5 6\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/es6.object.get-prototype-of.js?")},function(module,exports,__webpack_require__){eval("// most Object methods by ES6 should accept primitives\nvar $export = __webpack_require__(9);\nvar core = __webpack_require__(1);\nvar fails = __webpack_require__(11);\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_object-sap.js\n// module id = 77\n// module chunks = 0 1 2 3 4 5 6\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_object-sap.js?")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(79), __esModule: true };\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/define-property.js\n// module id = 78\n// module chunks = 0 1 2 3 4 5 6\n\n//# sourceURL=webpack:///../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/define-property.js?')},function(module,exports,__webpack_require__){eval("__webpack_require__(80);\nvar $Object = __webpack_require__(1).Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/fn/object/define-property.js\n// module id = 79\n// module chunks = 0 1 2 3 4 5 6\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/fn/object/define-property.js?")},function(module,exports,__webpack_require__){eval("var $export = __webpack_require__(9);\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !__webpack_require__(4), 'Object', { defineProperty: __webpack_require__(3).f });\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/es6.object.define-property.js\n// module id = 80\n// module chunks = 0 1 2 3 4 5 6\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/es6.object.define-property.js?")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(82), __esModule: true };\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/set-prototype-of.js\n// module id = 81\n// module chunks = 0 1 2 3 4 5 6\n\n//# sourceURL=webpack:///../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/set-prototype-of.js?')},function(module,exports,__webpack_require__){eval("__webpack_require__(83);\nmodule.exports = __webpack_require__(1).Object.setPrototypeOf;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/fn/object/set-prototype-of.js\n// module id = 82\n// module chunks = 0 1 2 3 4 5 6\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/fn/object/set-prototype-of.js?")},function(module,exports,__webpack_require__){eval("// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = __webpack_require__(9);\n$export($export.S, 'Object', { setPrototypeOf: __webpack_require__(84).set });\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/es6.object.set-prototype-of.js\n// module id = 83\n// module chunks = 0 1 2 3 4 5 6\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/es6.object.set-prototype-of.js?")},function(module,exports,__webpack_require__){eval("// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = __webpack_require__(14);\nvar anObject = __webpack_require__(13);\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = __webpack_require__(40)(Function.call, __webpack_require__(42).f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/_set-proto.js\n// module id = 84\n// module chunks = 0 1 2 3 4 5 6\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/_set-proto.js?")},function(module,exports,__webpack_require__){eval('module.exports = { "default": __webpack_require__(86), __esModule: true };\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/create.js\n// module id = 85\n// module chunks = 0 1 2 3 4 5 6\n\n//# sourceURL=webpack:///../node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/create.js?')},function(module,exports,__webpack_require__){eval("__webpack_require__(87);\nvar $Object = __webpack_require__(1).Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/fn/object/create.js\n// module id = 86\n// module chunks = 0 1 2 3 4 5 6\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/fn/object/create.js?")},function(module,exports,__webpack_require__){eval("var $export = __webpack_require__(9);\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: __webpack_require__(30) });\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_core-js@2.5.1@core-js/library/modules/es6.object.create.js\n// module id = 87\n// module chunks = 0 1 2 3 4 5 6\n\n//# sourceURL=webpack:///../node_modules/_core-js@2.5.1@core-js/library/modules/es6.object.create.js?")},,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(5);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getPrototypeOf = __webpack_require__(45);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(43);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(44);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(46);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(47);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _EventDispatcher2 = __webpack_require__(74);\n\nvar _EventDispatcher3 = _interopRequireDefault(_EventDispatcher2);\n\nvar _Mixin = __webpack_require__(102);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n *  序列帧播放器，带交互触发器\n *  @class\n *  @memberof ds.media\n */\nvar FramesPlayer = function (_EventDispatcher) {\n    (0, _inherits3.default)(FramesPlayer, _EventDispatcher);\n\n    /**\n     *\n     * @param url\n     * @param opts\n     * @param {number} opts.fps=12  刷新率\n     * @param {number} opts.start=0  序列帧开始值\n     * @param {number} opts.end=0  序列帧结束值\n     * @param {number} opts.formatLength=3  格式化补0位，默认是3位。\n     * @param {string} opts.prefixes=''  图像序列前缀\n     * @param {string} opts.suffix='.jpg'  图像序列后缀\n     * @param {boolean} opts.drawType=true 是否帧触发渲染\n     * @param {number} opts.bufferedTime=2 缓冲加载播放  默认2秒才能播放\n     * @param {boolean} opts.loop=false 是否可以循环播放\n     * @param {boolean} opts.autoload=false 是否自动加载\n     * @param {boolean} opts.autoplay=false 是否自动播放\n     * @param {number} opts.width=640 渲染器宽\n     * @param {number} opts.height=1040 渲染器高\n     * @param {boolean} opts.hasAudio `mpg` `fs`类型播放器是否需要音频\n     * @param {string} opts.audio 对应音频地址 等同opts.mp3\n     * @param {string} opts.mp3 对应音频地址 等同opts.audio\n     * @param {array} opts.images 已经加载完成图片序列帧 如果使用已经加载完成图片序列，那就会直接显示加载完成\n     *\n     * @param {HTMLElement} opts.el=undefined  捆绑dom元素\n     * @param {HTMLElement|string} opts.append=undefined  添加到dom容器节点\n     * @param {object} opts.css=undefined  播放器样式\n     *\n     * @param {function} opts.onload  加载完成\n     * @param {function} opts.onprogress  加载进度\n     * @param {function} opts.oncanPlay  第一个画面可见 可以播放时候\n     * @param {function} opts.onupdate  播放刷新\n     * @param {function} opts.onplay  开始播放\n     * @param {function} opts.onpause 播放暂停\n     * @param {function} opts.onplayend  播放完成\n     */\n    function FramesPlayer(url, opts) {\n        (0, _classCallCheck3.default)(this, FramesPlayer);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (FramesPlayer.__proto__ || (0, _getPrototypeOf2.default)(FramesPlayer)).call(this));\n\n        opts = opts || {};\n\n        var _self = _this;\n\n        var _url = url;\n        if (_url.lastIndexOf('/') !== _url.length - 1) _url = _url + '/';\n        //加载图片路径\n        _this._path = _url;\n\n        var _hasAudio = (0, _Mixin.getDefault)(opts.hasAudio, false);\n        if (_hasAudio) {\n            if (!opts.mp3 && !opts.audio) {\n                var _mp3Url = _url.slice(0, _url.lastIndexOf('/')) + '.mp3';\n                opts.mp3 = _mp3Url;\n            }\n        }\n\n        //声音是否暂停\n        _this._audioPause = true;\n        //是否暂停\n        _this._pause = true;\n        //是否可以开始播放\n        _this._canPlayBool = false;\n\n        //刷新率\n        _this._fps = (0, _Mixin.getDefault)(opts.fps, 12);\n        //记录刷新时间\n        _this._fpsTime = 1000 / _this._fps;\n\n        //前缀\n        _this._prefixes = (0, _Mixin.getDefault)(opts.prefixes, '');\n        //后缀\n        _this._suffix = (0, _Mixin.getDefault)(opts.suffix, '.jpg');\n        //是否缓冲中\n        // this._buffered = true;\n        //图片是否加载完成\n        _this._imagesLoadEnd = false;\n        //当前缓冲到时间点\n        _this._bufferTime = 0;\n        //全部缓冲完成总时间\n        _this._bufferAllTime = 0;\n        //缓冲暂停时间\n        _this._pauseTime;\n        //缓冲播放时间\n        _this._playTime;\n        //渲染方式 是否依靠帧渲染\n        _this._drawByFrame = (0, _Mixin.getDefault)(opts.drawType, true);\n\n        //是否已经开始加载\n        _this._isStarload = false;\n\n        //图片列表\n        _this._imagesList = [];\n        //加载第几帧\n        _this._imagesLoadIndex = 0;\n        //当前帧\n        _this._currentFrame = 0;\n        //当前时间 提供时间渲染时候使用\n        _this._currentTime = 0;\n        //总时间  提供时间渲染时候使用\n        _this._totalTime = 0;\n\n        //判断是否是在目前是缓冲状态\n        _this._isBufferPlay = true;\n        //缓冲多少秒才开始播放\n        _this._bufferedSpeedTime = (0, _Mixin.getDefault)(opts.bufferedTime, 2);\n        //缓冲完成\n        _this._bufferedEndToPlay = false;\n\n        //是否循环\n        _this._loop = (0, _Mixin.getDefault)(opts.loop, false);\n\n        //记录视频是否播放完成\n        _this._videoPlayEnd = false;\n\n        _this._videoCuePointList = [];\n\n        //是否自动加载\n        _this._autoload = (0, _Mixin.getDefault)(opts.autoload, false);\n        //是否自动播放\n        var _autoplay = (0, _Mixin.getDefault)(opts.autoplay, false);\n        _this._autoplay = _autoplay;\n\n        var _canvas = void 0;\n        if (opts.el !== undefined) _canvas = $(opts.el)[0];else _canvas = document.createElement('canvas');\n        _this._canvas = _canvas;\n\n        if (opts.append) $(opts.append).append(_canvas);\n\n        var _css = void 0;\n        if (opts.css) _css = opts.css;else {\n            _css = {\n                position: 'absolute',\n                left: 0,\n                top: 0,\n                width: opts.width || 640,\n                height: opts.height || 1040\n            };\n        }\n        $(_canvas).css(opts.css);\n\n        if (opts.width && opts.height) _this._resizeCavans(opts.width, opts.height);else if (_css.width && _css.height) _this._resizeCavans(_css.width, _css.height);else _this._resizeCavans(640, 1040);\n\n        _this._cxt = _canvas.getContext(\"2d\");\n\n        //音频对象\n        _this._audio = null;\n\n        var _audio = null;\n        var _audioUrl = (0, _Mixin.getDefault)(opts.audio, '');\n        _audioUrl = (0, _Mixin.getDefault)(opts.mp3, _audioUrl);\n\n        if (_audioUrl !== '') {\n\n            console.log('_audioUrl:', _audioUrl);\n            _audio = new Audio();\n            _this._audio = _audio;\n            _audio.autoplay = false;\n            _audio.src = _audioUrl;\n            _audio.load();\n            //客户端开始请求数据\n            _audio.addEventListener('loadstart', function () {\n                console.log('_audio loadstart');\n            });\n            //客户端开始请求数据\n            _audio.addEventListener('abort', function () {\n                console.log('_audio abort');\n            });\n            //等待数据，并非错误\n            _audio.addEventListener('waiting', function () {});\n            //播放结束\n            _audio.addEventListener('ended', function () {\n                _self._audioPause = true;\n                _self._pause = true;\n            });\n            //加载完成 其实不是\n            _audio.addEventListener('loadedmetadata', function () {});\n            //客户端正在请求数据\n            _audio.addEventListener('progress', function () {});\n            //延迟下载\n            _audio.addEventListener('suspend', function () {});\n            //play()和autoplay开始播放时触发\n            _audio.addEventListener('play', function () {\n                _self._audioPause = false;\n                _self._pause = false;\n                _self._videoPlayEvent();\n                _self.ds('play');\n            });\n            //pause()触发\n            _audio.addEventListener('pause', function () {\n                _self._audioPause = true;\n                _self._pause = true;\n                _self._videoPauseEvent();\n                _self.ds('pause');\n            });\n            //可以播放\n            _audio.addEventListener('canplaythrough', function () {\n                _self._audioCanplay();\n            });\n            _audio.addEventListener('error', function () {\n                _self._audioError();\n            });\n\n            //更加配置判断是否通过touch触发声音播放\n            if (opts.hasTouchstart) document.body.addEventListener('touchstart', _audioInBrowserHandler);\n        }\n\n        function _audioInBrowserHandler() {\n            // console.log('_audioInBrowserHandler');\n            document.body.removeEventListener('touchstart', _audioInBrowserHandler);\n            _self._audioOnDocumentTouchstart();\n        }\n\n        _this._config = opts;\n\n        _this.on('play', function () {\n            if (this._config.onplay) this._config.onplay();\n        }, _this);\n\n        _this.on('pause', function () {\n            if (this._config.onpause) this._config.onpause();\n        }, _this);\n\n        _this._fpsTimer = setTimeout(function () {\n            _this._update();\n        }, _this._fpsTime);\n\n        _this._listStart = (0, _Mixin.getDefault)(opts.start, 0);\n        _this._listEnd = (0, _Mixin.getDefault)(opts.end, 0);\n        _this._formatLength = (0, _Mixin.getDefault)(opts.formatLength, 3);\n        if (!opts.images && _this._listEnd <= 0) {\n            console.error('序列帧播放器没设置结束帧数');\n        }\n\n        if (opts.images) {} else {\n            _this.initImageList();\n        }\n\n        return _this;\n    }\n\n    (0, _createClass3.default)(FramesPlayer, [{\n        key: 'initImageList',\n        value: function initImageList() {\n            console.log('initImageList:', this._listStart, this._listEnd);\n            var _self = this;\n            this._imagesList = [];\n            var _img = void 0;\n            for (var i = this._listStart; i <= this._listEnd; i++) {\n                _img = new Image();\n                _img.loaded = false;\n                _img.url = _getAbsoluteUrl(this._formatUrl(i));\n                // console.log('img.url:',_img.url);\n                this._imagesList.push(_img);\n            }\n            _img = new Image();\n            _img.src = this._imagesList[0].url;\n\n            this._bufferAllTime = this._imagesList.length / this._fps;\n\n            this._totalTime = this._imagesList.length / this._fps;\n\n            this._imagesLoadIndex = -1;\n\n            _img.onload = function () {\n                _self._cxt.drawImage(_img, 0, 0, _self._canvas.width, _self._canvas.height);\n                if (_self._config.oncanPlay) _self._config.oncanPlay();\n            };\n\n            if (this._autoload && !this._audio) {\n                this.load();\n                if (this._autoplay) this.play();\n            }\n        }\n\n        /**\n         * 格式\n         * @param value\n         * @return {string}\n         * @private\n         */\n\n    }, {\n        key: '_formatUrl',\n        value: function _formatUrl(value) {\n            var _path = this._path;\n            var _url = '' + value;\n            var _fill = this._formatLength - _url.length;\n            if (_fill === 4) _url = '0000' + _url;\n            if (_fill === 3) _url = '000' + _url;\n            if (_fill === 2) _url = '00' + _url;\n            if (_fill === 1) _url = '0' + _url;\n            _url = _path + this._prefixes + _url + this._suffix;\n            return _url;\n        }\n\n        /**\n         * 开始加载\n         */\n\n    }, {\n        key: 'load',\n        value: function load() {\n            if (this._isStarload) return;\n            this._isStarload = true;\n            console.warn('序列帧开始加载');\n            this._loadImages();\n        }\n    }, {\n        key: '_loadImages',\n        value: function _loadImages() {\n\n            var _self = this;\n\n            this._imagesLoadIndex += 1;\n            var _index = this._imagesLoadIndex;\n            var _imagesList = this._imagesList;\n\n            // console.log(_index, _imagesList);\n            var _progress = _index / _imagesList.length;\n            if (this._config.onprogress) this._config.onprogress(_progress);\n            /**\n             * 加载进度\n             * @event ds.media.FramesPlayer#progress\n             */\n            this.ds({ type: 'progress', progress: _progress });\n            // console.log('progress:', _progress);\n\n            if (_index >= _imagesList.length) {\n                this._imagesLoadIndex = _imagesList.length - 1;\n                this._videoLoadEndEvent();\n                // console.log('complete');\n                this._imagesLoadEnd = true;\n                if (this._config.onload) this._config.onload();\n                /**\n                 * 加载完成\n                 * @event ds.media.FramesPlayer#loadEnd\n                 */\n                _self.ds('loadEnd');\n                return;\n            }\n\n            var _img = _imagesList[_index];\n            _img.src = _img.url;\n            _img.onload = function () {\n                _self._videoBuffereEvent();\n                _self._loadImages();\n                _img.loaded = true;\n            };\n            _img.onerror = function () {\n                _self._videoBuffereEvent();\n                _self._loadImages();\n            };\n        }\n    }, {\n        key: '_update',\n        value: function _update() {\n            var _this2 = this;\n\n            // console.log('_update');\n            clearTimeout(this._fpsTimer);\n\n            this._drawUpdate();\n\n            this._fpsTimer = setTimeout(function () {\n                _this2._update();\n            }, this._fpsTime);\n        }\n    }, {\n        key: '_drawUpdate',\n        value: function _drawUpdate() {\n\n            if (this._audio) {\n\n                //缓冲状态\n                if (this._isBufferPlay) {\n                    //0\n                    if (this._audio.currentTime < this._bufferTime - this._bufferedSpeedTime) {\n                        //缓冲时间已经有余退出缓冲\n                        console.log('缓冲时间已经有余退出缓冲1');\n                        this._videoBuffereOutEvent();\n                    } else if (this._bufferTime >= this.duration || this._bufferTime >= this._bufferAllTime) {\n                        console.log('缓冲时间已经有余退出缓冲2');\n                        this._videoBuffereOutEvent();\n                    }\n                }\n                if (!this._isBufferPlay) {\n                    //非缓存状态下 播放视频的帧不足，需要进入到缓冲部分\n                    if (this._bufferTime >= this._bufferAllTime) {} else if (this._audio.currentTime >= this._bufferTime) {\n                        this._videoBuffereInEvent();\n                        //缓冲时候声音暂停，\n                        this._audio.pause();\n                        //同时视频也要暂停\n                        this._pause = true;\n                        this._bufferedEndToPlay = true;\n                        this.ds('pause');\n                    }\n                }\n                this._currentFrame = this._audio.currentTime * this._fps >> 0;\n                if (this._currentFrame >= this.totalFrames - 1) this._currentFrame = this.totalFrames - 1;\n                if (this._currentFrame <= 0) this._currentFrame = 0;\n                this._currentTime = this._audio.currentTime;\n            } else {\n\n                if (!this._pause) {\n                    //使用帧渲染\n                    if (this._drawByFrame) {\n                        this._currentFrame += 1;\n                        if (this._currentFrame >= this.totalFrames - 1) this._currentFrame = this.totalFrames - 1;\n                        this._currentTime = this._currentFrame / this._fps;\n                        if (this._currentTime >= this._totalTime) this._currentTime = this._totalTime;\n                    }\n                    //使用时间进行渲染\n                    else {\n                            var _time = (new Date().getTime() - this._playTime) / 1000;\n                            this._currentTime = this._currentTime + _time;\n                            if (this._currentTime >= this._totalTime) {\n                                this._currentTime = this._totalTime;\n                                this._currentFrame = this.totalFrames - 1;\n                            } else {\n                                this._currentFrame = this._currentTime * fps >> 0;\n                            }\n                        }\n                }\n\n                //缓冲状态\n                if (this._isBufferPlay) {\n                    //0\n                    if (this._currentTime < this._bufferTime - this._bufferedSpeedTime) {\n                        //缓冲时间已经有余退出缓冲\n                        this._videoBuffereOutEvent();\n                    } else if (this._bufferTime >= this._bufferAllTime) {\n                        this._videoBuffereOutEvent();\n                    }\n                }\n                if (!this._isBufferPlay) {\n                    //非缓存状态下 播放视频的帧不足，需要进入到缓冲部分\n                    if (this._bufferTime >= this._bufferedSpeedTime) {} else if (this._currentTime >= this._bufferTime) {\n                        this._videoBuffereInEvent();\n                        //同时视频也要暂停\n                        this._pause = true;\n                        this._bufferedEndToPlay = true;\n                        this.ds('pause');\n                    }\n                }\n            }\n            //渲染\n            if (!this._pause) {\n                // console.log(drawNum);\n                if (this._currentFrame >= this.totalFrames - 1) {\n                    this._currentFrame = this.totalFrames - 1;\n                    this.pause();\n                }\n                if (this._currentFrame <= 0) this._currentFrame = 0;\n                var _img = this._imagesList[this._currentFrame];\n                if (_img && _img.loaded) {\n                    this._cxt.clearRect(0, 0, this._canvas.width, this._canvas.height);\n                    this._cxt.drawImage(_img, 0, 0, this._canvas.width, this._canvas.height);\n                }\n\n                if (this._config.update) this._config.update();\n                /**\n                 * 刷新事件\n                 * @event ds.media.FramesPlayer#update\n                 */\n                this.ds('update');\n\n                this._timeUpDate();\n\n                // console.log(drawNum,imagesList.length)\n                if (this._currentFrame >= this._imagesList.length - 1) {\n                    if (this._videoPlayEnd) return;\n                    this._videoPlayEnd = true;\n                    if (this._config.onplayend) this._config.onplayend();\n                    this.ds('playEnd');\n                    if (this._loop) this.seekToTime(0, true);\n                }\n            }\n        }\n\n        /**\n         * 视频播放\n         * @private\n         */\n\n    }, {\n        key: '_videoPlayEvent',\n        value: function _videoPlayEvent() {}\n\n        /**\n         * 视频暂停\n         * @private\n         */\n\n    }, {\n        key: '_videoPauseEvent',\n        value: function _videoPauseEvent() {}\n\n        /**\n         * 视频加载完成\n         * @private\n         */\n\n    }, {\n        key: '_videoLoadEndEvent',\n        value: function _videoLoadEndEvent() {\n            this._bufferTime = this._bufferAllTime;\n            this._imagesLoadEnd = true;\n        }\n\n        /**\n         * 加载缓存\n         * @private\n         */\n\n    }, {\n        key: '_videoBuffereEvent',\n        value: function _videoBuffereEvent() {\n            this._bufferTime = this._imagesLoadIndex / this._fps;\n            this._imagesLoadEnd = false;\n        }\n    }, {\n        key: '_videoBuffereInEvent',\n        value: function _videoBuffereInEvent() {\n            this._pauseTime = new Date().getTime();\n            this._pause = true;\n            this._isBufferPlay = true;\n        }\n    }, {\n        key: '_videoBuffereOutEvent',\n        value: function _videoBuffereOutEvent() {\n            this._isBufferPlay = false;\n            if (this._bufferedEndToPlay) {\n                this._bufferedEndToPlay = false;\n                this._pause = false;\n                if (this._audio && this._audio.paused) this._audio.play();\n                this._playTime = new Date().getTime();\n\n                this.ds('play');\n            }\n            this.ds('canplaythrough');\n        }\n    }, {\n        key: '_audioCanplay',\n        value: function _audioCanplay() {\n            // console.log('_audioCanplay _autoplay:', this._autoplay);\n            if (this._autoload) this.load();\n            if (this._autoplay) this.play();\n        }\n    }, {\n        key: '_audioError',\n        value: function _audioError() {\n            console.warn('声音加载错误');\n        }\n    }, {\n        key: '_audioOnDocumentTouchstart',\n        value: function _audioOnDocumentTouchstart() {\n            if (this._audio) {\n                this._audio.play();\n                this._audio.pause();\n            }\n        }\n\n        /**\n         * 设置画布大小\n         * @param width\n         * @param height\n         * @private\n         */\n\n    }, {\n        key: '_resizeCavans',\n        value: function _resizeCavans(width, height) {\n\n            this._canvas.setAttribute('width', width);\n            this._canvas.setAttribute('height', height);\n            $(this._canvas).css({\n                \"width\": width + 'px',\n                \"height\": height + 'px'\n            });\n        }\n\n        /**\n         * 互动时间点监听\n         * @private\n         */\n\n    }, {\n        key: '_timeUpDate',\n        value: function _timeUpDate() {\n\n            var _currentTime = 0;\n            _currentTime = this.currentTime;\n            var _videoCuePointList = this._videoCuePointList;\n\n            for (var i = 0; i < _videoCuePointList.length; i++) {\n\n                var _td = _videoCuePointList[i];\n\n                if (_td.time && _currentTime >= _td.time && !_td.bool) {\n\n                    _td.bool = true;\n                    _td.runNum += 1;\n                    var _eventData = {\n                        type: 'cuePoint',\n                        data: _td,\n                        time: _currentTime\n                    };\n\n                    if (_td.fun) _td.fun(_eventData);\n                    /**\n                     * 交互提示点\n                     * @event ds.media.VideoInteractivePlayer#cuePoint\n                     * @property {object} data - 交互时间点数据\n                     * @property {number} time - 当前触发时间\n                     */\n                    this.ds(_eventData);\n                }\n            }\n        }\n\n        /**\n         * 添加交互的时间节点\n         * @param {object} cd 时间节点事件数据设置\n         * @param {string} cd.name 这个时间点的名称\n         * @param {number} cd.time 时间,秒数\n         * @param {function} cd.fun  时间点执行的时间函数\n         * @return {object} cd 设置时间节点数据 cd.runNum执行多少次 cd.bool是否被执行过\n         *\n         */\n\n    }, {\n        key: 'addCuePoint',\n        value: function addCuePoint(cd) {\n            cd = cd || {};\n            if (!cd.time) return;\n            if (!cd.name) cd.name = 'time_' + cd.time;\n            cd.runNum = 0;\n            cd.bool = false;\n            this._videoCuePointList.push(cd);\n        }\n\n        /**\n         * 重置所有时间交互点\n         */\n\n    }, {\n        key: 'resetCuePoints',\n        value: function resetCuePoints() {\n\n            var _videoCuePointList = this._videoCuePointList;\n            for (var i = 0; i < _videoCuePointList.length; i++) {\n                var _pd = _videoCuePointList[i];\n                _pd.runNum = 0;\n                _pd.bool = false;\n            }\n        }\n\n        /**\n         * 重置制定时间交互点\n         * @param {string} name 需要重置指定时间点名称\n         */\n\n    }, {\n        key: 'resetCuePointByName',\n        value: function resetCuePointByName(name) {\n\n            var _videoCuePointList = this._videoCuePointList;\n            for (var i = 0; i < _videoCuePointList.length; i++) {\n                var _pd = _videoCuePointList[i];\n                if (_pd.name === name) {\n                    _pd.bool = false;\n                    _pd.runNum = 0;\n                }\n            }\n        }\n\n        /**\n         * 清空清除所有的交互节点\n         */\n\n    }, {\n        key: 'clearCuePoints',\n        value: function clearCuePoints() {\n            this._videoCuePointList = [];\n        }\n\n        /**\n         * 播放\n         */\n\n    }, {\n        key: 'play',\n        value: function play() {\n            if (!this._isStarload) {\n                console.error('序列图片还未开始执行加载');\n                return;\n            }\n            this._totalTime = this._imagesList.length / this._fps;\n            //设置当前是播放状态\n            this._pause = false;\n            //退出缓冲判断\n            this._bufferedEndToPlay = false;\n            this._videoBuffereOutEvent();\n            if (this._audio) this._audio.play();\n            this._playTime = new Date().getTime();\n            /**\n             * 视频播放\n             * @event ds.media.FramesPlayer#play\n             */\n            this.ds('play');\n        }\n\n        /**\n         * 暂停\n         */\n\n    }, {\n        key: 'pause',\n        value: function pause() {\n\n            this._totalTime = this._imagesList.length / this._fps;\n            //设置当前是播放状态\n            this._pause = true;\n            //退出缓冲判断\n            this._bufferedEndToPlay = false;\n            this._videoBuffereOutEvent();\n            if (this._audio) this._audio.pause();\n            this._pauseTime = new Date().getTime();\n            /**\n             * 视频暂停\n             * @event ds.media.FramesPlayer#pause\n             */\n            this.ds('pause');\n        }\n\n        /**\n         * 跳转到制定帧,如果有音频会转换成时间跳转\n         * @param {number} value 帧数\n         * @param {boolean} bool 设置是否播放true播放  false暂停  不设置按当前状态\n         */\n\n    }, {\n        key: 'seekToFrame',\n        value: function seekToFrame(value, bool) {\n\n            this._totalTime = this._imagesList.length / this._fps;\n\n            if (value >= this.totalFrames - 1) value = this.totalFrames - 1;\n            if (value <= 0) value = 0;\n\n            var _time = value / this._fps;\n            if (this._audio) {\n                this.seekToTime(_time, bool);\n            } else {\n\n                if (bool !== undefined) {\n                    if (bool) this.play();else this.pause();\n                }\n\n                if (this._drawByFrame) {\n                    this._currentFrame = value - 1;\n                } else {\n                    this._playTime = new Date().getTime();\n                    this._currentTime = _time;\n                }\n                this._update();\n            }\n        }\n    }, {\n        key: 'seekToTime',\n\n\n        /**\n         * 设置播放时间\n         * @param {number} value  时间 秒数\n         * @param {boolean} bool 设置是否播放true播放  false暂停  不设置按当前状态\n         */\n        value: function seekToTime(value, bool) {\n            if (bool !== undefined) {\n                if (bool) this.play();else this.pause();\n            }\n            this.currentTime = value;\n        }\n\n        /**\n         * 设置获取是否循环播放\n         * @param {boolean} value\n         */\n\n    }, {\n        key: 'loop',\n\n\n        /**\n         * 设置获取是否循环播放\n         * @param {boolean} value\n         */\n        set: function set(value) {\n            if (this._loop === value) return;\n            this._loop = value;\n        },\n        get: function get() {\n            return this._loop;\n        }\n\n        /**\n         * 设置获取声音大小\n         * @param {number} value\n         */\n\n    }, {\n        key: 'currentTime',\n\n\n        /**\n         * 设置获取当前时间\n         *  @param {number} value\n         */\n        set: function set(value) {\n            this._totalTime = this._imagesList.length / this._fps;\n            if (value >= this._totalTime) {\n                value = this._totalTime;\n            } else {\n                this._videoPlayEnd = false;\n            }\n            this._playTime = new Date().getTime();\n            this._currentTime = value;\n            if (this._audio) this._audio.currentTime = value;\n            if (this._drawByFrame) {\n                this._currentFrame = (this._currentTime * this._fps >> 0) - 1;\n                // log(currentTime,drawNum);\n                if (this._currentFrame >= this.totalFrames - 1) this._currentFrame = this.totalFrames - 1;\n                if (this._currentFrame <= -1) this._currentFrame = -1;\n            }\n            this._update();\n        },\n        get: function get() {\n            return this._currentFrame / this._fps;\n        }\n\n        /**\n         * 时间长度\n         */\n\n    }, {\n        key: 'duration',\n        get: function get() {\n            return this._imagesList.length / this._fps;\n        }\n    }, {\n        key: 'volume',\n        set: function set(value) {\n            if (this._audio) this._audio.volume = value;\n        },\n        get: function get() {\n            return this._audio ? this._audio.volume : 0;\n        }\n\n        /**\n         * 设置获取是否禁音\n         * @param {boolean} value\n         */\n\n    }, {\n        key: 'muted',\n        set: function set(value) {\n            this._audio.muted = value;\n        },\n        get: function get() {\n            return this._audio ? this._audio.muted : true;\n        }\n\n        /**\n         * 总帧数\n         */\n\n    }, {\n        key: 'totalFrames',\n        get: function get() {\n            return this._imagesList.length;\n        }\n\n        /**\n         * 当前帧\n         */\n\n    }, {\n        key: 'currentFrame',\n        get: function get() {\n            return this._currentFrame;\n        }\n\n        /**\n         * 设置获取播放器播放状态\n         */\n\n    }, {\n        key: 'playing',\n        get: function get() {\n            return !this._pause;\n        },\n        set: function set(bool) {\n            if (bool) this.play();else this.pause();\n        }\n\n        /**\n         * 播放声音对象\n         * @return {AudioElement}\n         */\n\n    }, {\n        key: 'audio',\n        get: function get() {\n            return this._audio;\n        }\n\n        /**\n         * 视频播放器呈现dom元素，cavnas\n         * @return {CavansElement}\n         */\n\n    }, {\n        key: 'el',\n        get: function get() {\n            return this._canvas;\n        }\n\n        /**\n         * 帧刷新率\n         * @return {Number}\n         */\n\n    }, {\n        key: 'fps',\n        get: function get() {\n            return this._fps;\n        }\n\n        /**\n         * 是否加载完成所有序列帧\n         * @return {boolean}\n         */\n\n    }, {\n        key: 'isLoadEnd',\n        get: function get() {\n            return this._imagesLoadEnd;\n        }\n\n        /**\n         * 是否执行开始加载\n         * @return {boolean}\n         */\n\n    }, {\n        key: 'isStarload',\n        get: function get() {\n            return this._isStarload;\n        }\n\n        /**\n         * 缓存进度\n         * @return {number}\n         */\n\n    }, {\n        key: 'bufferProgress',\n        get: function get() {\n            return this._bufferTime / this._bufferAllTime;\n        }\n\n        /**\n         * 视频交互提示点列表\n         * @return {array}\n         */\n\n    }, {\n        key: 'videoCuePointList',\n        get: function get() {\n            return this._videoCuePointList.concat();\n        }\n    }]);\n    return FramesPlayer;\n}(_EventDispatcher3.default);\n\nvar _urldom = document.createElement('a');\n\nfunction _getAbsoluteUrl(url) {\n    if (url.indexOf(\"http:\") >= 0 || url.indexOf(\"https:\") >= 0) return url;\n    _urldom.href = url;\n    url = _urldom.href;\n    return url;\n}\n\nvar root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : undefined;\n\nvar ds = root.ds = root.ds || {};\nds.media = ds.media || {};\nds.media.FramesPlayer = FramesPlayer;\n\nexports.default = FramesPlayer;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(12), __webpack_require__(10)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/ds/media/FramesPlayer.js\n// module id = 101\n// module chunks = 2 6\n\n//# sourceURL=webpack:///./source/ds/media/FramesPlayer.js?")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getDefault = undefined;\n\nvar _typeof2 = __webpack_require__(5);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : undefined;\n\nvar ds = root.ds = root.ds || {};\n\nds.utils = ds.utils || {};\n\n/**\n * 嵌套，常用操作\n * @module module:ds/utils/mixin\n */\nds.utils.mixin = ds.utils.mixin || {};\n\nfunction getDefault(obj, defaultValue) {\n  if (obj === undefined || obj === null) return defaultValue;\n  if (obj === 'true') return true;else if (obj === 'false') return false;\n  return obj;\n}\n\n/**\n * 返回默认值方法\n * @memberof module:ds/utils/mixin\n * @param  {*} obj  一个对象\n * @param  {*} defaultValue 转换后默认值\n * @return {*}\n */\nds.utils.mixin.getDefault = getDefault;\n\nexports.getDefault = getDefault;\nexports.default = ds.utils.mixin;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(12), __webpack_require__(10)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/ds/utils/Mixin.js\n// module id = 102\n// module chunks = 2 6\n\n//# sourceURL=webpack:///./source/ds/utils/Mixin.js?")},,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(5);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getPrototypeOf = __webpack_require__(45);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(43);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(44);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(46);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(47);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\n__webpack_require__(122);\n\n__webpack_require__(123);\n\n__webpack_require__(125);\n\n__webpack_require__(101);\n\n__webpack_require__(127);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * 视频播放页面模型\n * 不能作为首页loading后播放\n * 支持强制横屏\n */\nvar VideoPageModel = function (_ds$core$EventDispatc) {\n    (0, _inherits3.default)(VideoPageModel, _ds$core$EventDispatc);\n\n    function VideoPageModel(opts) {\n        (0, _classCallCheck3.default)(this, VideoPageModel);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (VideoPageModel.__proto__ || (0, _getPrototypeOf2.default)(VideoPageModel)).call(this));\n\n        var _self = _this;\n        if (opts.name.indexOf('#') === 0) {\n            var _temp2 = opts.name;\n            opts.name = _temp2.slice(1).split(' ')[0];\n            opts.$dom = _temp2;\n            opts.cs = 'html';\n        }\n\n        _this._name = opts.name;\n        _this._cs = opts.cs;\n        _this._movieIning = true;\n        _this._movieOuting = true;\n        _this._isCreatejsView = false;\n        _this._view = null;\n        _this._domInHtml = false;\n        _this._config = opts;\n\n        _this._type = 'videoPage';\n        _this._screenType = _getDefault(opts.screenType, 'v');\n\n        var _css = {\n            position: 'absolute',\n            width: opts.width || 640,\n            height: opts.height || 1235,\n            left: opts.left || -3000\n        };\n        if (opts.css) _css = opts.css;\n\n        //是否强制横屏\n        var _isHorizontal = false;\n        if (_css.width > _css.height) _isHorizontal = true;\n        if (_isHorizontal) _this._screenType = 'auto';\n\n        //开始构建html部分\n        var _temp = void 0;\n        if (opts.$dom) _temp = $(opts.$dom);else _temp = $('#' + _this._name);\n\n        if (_temp.length <= 0) {\n            _temp = $(document.createElement(\"div\"));\n            _temp[0].id = _this._name;\n            var _css2 = { position: 'absolute', left: 0, top: 0 };\n            if (opts.css) _css2 = opts.css;\n            _temp.css(_css2);\n\n            var _videoPanel = $(document.createElement(\"div\"));\n            _videoPanel.css('.videoPanel');\n        } else {\n            _this._domInHtml = true;\n        }\n        _this._view = _temp;\n\n        _this._videoPanel = _this._view.find('.videoPanel');\n        _this._videoUrl = opts.url;\n\n        var _videoPlayer = new ds.media.VideoInteractivePlayer(_this._videoUrl, {\n            append: _this._videoPanel[0],\n            css: _css,\n            autoload: _getDefault(opts.autoload, true),\n            autoplay: _getDefault(opts.autoplay, false),\n            hasAudio: _getDefault(opts.hasAudio, true),\n            //自动计算的时候是否包含序列帧播放器\n            hasFPS: _getDefault(opts.hasFPS, false),\n            //以下序列帧播放器才可能拥有的初始化属性\n            fps: _getDefault(opts.fps, 12),\n            prefixes: _getDefault(opts.prefixes, 'v'),\n            suffix: _getDefault(opts.suffix, '.jpg'),\n            start: _getDefault(opts.start, 0),\n            end: _getDefault(opts.end, 0),\n            formatLength: _getDefault(opts.formatLength, 3),\n            loop: _getDefault(opts.loop, false),\n            bufferedime: _getDefault(opts.bufferedime, 2),\n            mp3: _getDefault(opts.mp3, ''),\n            audio: _getDefault(opts.audio, '')\n\n        });\n\n        _this._videoPlayer = _videoPlayer;\n        _this._videoElement = $(_videoPlayer.el);\n\n        //自动计算横屏情况，强制横屏\n        _this._isHorizontal = _isHorizontal;\n        _this.autoHorizontaler = null;\n        if (_isHorizontal) {\n            _this.autoHorizontaler = new ds.ui.AutoHorizontalScreenContainer(_this._view);\n            _this._videoElement.css({\n                '-webkit-transform': 'translateZ(-1px)',\n                '-moz-transform': 'translateZ(-1px)',\n                '-ms-transform': 'translateZ(-1px)',\n                '-o-transform': 'translateZ(-1px)',\n                'transform': 'translateZ(-1px)'\n            });\n            _this.view.css({ left: -3000 });\n        }\n\n        var _uiPanel = _this.view.find('.uiPanel');\n        if (_uiPanel && _uiPanel.length > 0) {\n            _this._uiPanel = _uiPanel;\n            _uiPanel.hide();\n        }\n\n        if (opts.movieIn) opts.movieIn = opts.movieIn.bind(_this);\n        if (opts.movieInEnd) opts.movieInEnd = opts.movieInEnd.bind(_this);\n        if (opts.movieOut) opts.movieOut = opts.movieOut.bind(_this);\n        if (opts.movieOutEnd) opts.movieOutEnd = opts.movieOutEnd.bind(_this);\n        if (opts.resize) opts.resize = opts.resize.bind(_this);\n        if (opts.initUI) {\n            opts.initUI = opts.initUI.bind(_this);\n            opts.initUI();\n        }\n        if (opts.playEnd) opts.playEnd = opts.playEnd.bind(_this);\n        if (opts.readyPlay) opts.readyPlay = opts.readyPlay.bind(_this);\n\n        //播放完成\n        _videoPlayer.on('playEnd', function () {\n            if (opts.playEnd) opts.playEnd();\n        }, _this);\n        //准备开始可以播放\n        _videoPlayer.addCuePoint({\n            name: 'readyPlay',\n            time: 0.1,\n            fun: function fun(e) {\n                if (_self.name !== SiteModel.pager.pageLabel) {\n                    SiteModel.gotoPage(_self.name);\n                    if (opts.readyPlay) opts.readyPlay();\n                }\n            }\n        });\n\n        SiteModel.resizeModel.on('resize', function () {\n            this._resize();\n            if (opts.resize) opts.resize();\n        }, _this);\n        return _this;\n    }\n\n    (0, _createClass3.default)(VideoPageModel, [{\n        key: 'movieIn',\n        value: function movieIn() {\n\n            this.ds('movieIn');\n            this._movieOuting = false;\n            this._movieIning = true;\n\n            this._videoElement.css({ left: 0 });\n            this._videoPlayer.play();\n\n            if (this._isHorizontal) this.view.css({ left: 0 });\n            if (this._uiPanel) this._uiPanel.show();\n\n            if (this._domInHtml) {\n                this._view.show();\n            } else {\n                $('#domBox').append(this._view);\n                this._view.show();\n                this.movieInEnd();\n            }\n\n            if (this._config.movieIn) this._config.movieIn();\n        }\n    }, {\n        key: 'movieInEnd',\n        value: function movieInEnd() {\n\n            this._movieIning = false;\n            this.ds('movieInEnd');\n            if (this._config.movieInEnd) this._config.movieInEnd();\n        }\n    }, {\n        key: 'movieOut',\n        value: function movieOut() {\n\n            this._movieOuting = true;\n            this._movieIning = false;\n            this.ds('movieOut');\n\n            if (this._domInHtml) this._view.hide();else this._view.remove();\n\n            this._videoPlayer.pause();\n\n            if (this._isHorizontal) this.view.css({ left: -3000 });\n            if (this._uiPanel) this._uiPanel.hide();\n\n            this.movieOutEnd();\n            if (this._config.movieOut) this._config.movieOut();\n        }\n    }, {\n        key: 'movieOutEnd',\n        value: function movieOutEnd() {\n\n            this._movieOuting = false;\n            this.ds('movieOutEnd');\n            if (this._config.movieOutEnd) this._config.movieOutEnd();\n        }\n    }, {\n        key: 'play',\n        value: function play() {\n            this._videoPlayer.resetCuePoints();\n            this._videoPlayer.seekToTime(0);\n            this._videoPlayer.play();\n        }\n    }, {\n        key: '_resize',\n\n\n        /**\n         * 场景自适应\n         * @private\n         */\n        value: function _resize() {\n\n            if (this.name !== SiteModel.pager.pageLabel) return;\n\n            var _resizeModel = SiteModel.resizeModel;\n            var _width = _resizeModel.width;\n            var _height = _resizeModel.height;\n            var _actualH = _resizeModel.actualH;\n            var _pageScale = _resizeModel.pageScale;\n            var _isInputState = _resizeModel.isInputState;\n            var _horizontal = _resizeModel.horizontal;\n            var _screenWidth = _resizeModel.screenWidth;\n            var _densityDpi = _resizeModel.densityDpi;\n            var _screenType = this._screenType;\n\n            console.log(this.name, '_resize', this._screenType, _horizontal, this._videoPlayerOriginalPlay);\n            if (_screenType === 'v') {\n\n                if (_horizontal) {\n                    if (this._videoPlayerOriginalPlay === undefined) this._videoPlayerOriginalPlay = this._videoPlayer.playing;\n                    this._videoPlayer.pause();\n                    SiteModel.resizeModel.showOrientationTip(true);\n                } else {\n                    if (this._videoPlayerOriginalPlay) {\n                        this._videoPlayer.play();\n                        this._videoPlayerOriginalPlay = undefined;\n                    }\n                    SiteModel.resizeModel.hideOrientationTip();\n                }\n            } else if (_screenType === 'h') {\n\n                if (!_horizontal) {\n                    this._videoPlayerOriginalPlay = this._videoPlayer.playing;\n                    this._videoPlayer.pause();\n                    SiteModel.resizeModel.showOrientationTip(false);\n                } else {\n                    if (this._videoPlayerOriginalPlay) this._videoPlayer.play();\n                    SiteModel.resizeModel.hideOrientationTip();\n                }\n            } else {\n                SiteModel.resizeModel.hideOrientationTip();\n            }\n        }\n    }, {\n        key: 'isHorizontal',\n        get: function get() {\n            return this._isHorizontal;\n        }\n    }, {\n        key: 'videoPlayer',\n        get: function get() {\n            return this._videoPlayer;\n        }\n    }, {\n        key: 'videoUrl',\n        get: function get() {\n            return this._videoUrl;\n        }\n    }, {\n        key: 'name',\n        get: function get() {\n            return this._name;\n        }\n    }, {\n        key: 'view',\n        get: function get() {\n            return this._view;\n        }\n    }, {\n        key: 'movieing',\n        get: function get() {\n            return this._movieIning;\n        }\n    }, {\n        key: 'isCreatejsView',\n        get: function get() {\n            return this._isCreatejsView;\n        }\n    }, {\n        key: 'type',\n        get: function get() {\n            return this._type;\n        }\n\n        /**\n         * 自适应方式 默认'v'竖屏 'h'横屏 'auto' 横竖屏皆可以\n         * @return {string}\n         */\n\n    }, {\n        key: 'screenType',\n        get: function get() {\n            return this._screenType;\n        }\n    }]);\n    return VideoPageModel;\n}(ds.core.EventDispatcher);\n\nfunction _getDefault(obj, defaultValue) {\n    if (obj === undefined || obj === null) return defaultValue;\n    if (obj === 'true') return true;else if (obj === 'false') return false;\n    return obj;\n}\n\n// console.log('VideoPageModel');\n\nvar root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : undefined;\n\nvar eds = root.eds = root.eds || {};\n\neds.VideoPageModel = VideoPageModel;\n\nexports.default = VideoPageModel;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(12), __webpack_require__(10)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/eds/plugins_videoPage.js\n// module id = 121\n// module chunks = 2\n\n//# sourceURL=webpack:///./source/eds/plugins_videoPage.js?")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(5);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getPrototypeOf = __webpack_require__(45);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(43);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(44);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(46);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(47);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _EventDispatcher2 = __webpack_require__(74);\n\nvar _EventDispatcher3 = _interopRequireDefault(_EventDispatcher2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n *  视频交互类\n *  @class\n *  @memberof ds.media\n */\nvar VideoInteractivePlayer = function (_EventDispatcher) {\n    (0, _inherits3.default)(VideoInteractivePlayer, _EventDispatcher);\n\n    /**\n     * 构建播放器\n     * @param {string} url 播放源地址。不带后缀名，会根据设备情况自动判断使用`mpg`播放器还是默认`video`标签播放器。`opts.hasFPS`如果是`true`，非微信安卓会是`序列帧`播放器\n     * @param {object} opts  配置参数\n     * @param {string} opts.type=undefined 指定播放器类型 4种：'mpg'软解码mpg,'fs'序列帧播放器, 'video'默认video标签，'ts'待实现\n     * @param {HTMLElement} opts.el=undefined  捆绑dom元素\n     * @param {HTMLElement|string} opts.append=undefined  添加到dom容器节点\n     * @param {object} opts.css=undefined  播放器样式\n     * @param {boolean} opts.hasFPS=false 是否加入序列帧播放器判断\n     * @param {function} opts.onupdate  播放刷新\n     * @param {function} opts.onplay  开始播放\n     * @param {function} opts.onpause 播放暂停\n     * @param {function} opts.onplayend  播放完成\n     *\n     * 以下参数是对`非video`播放器设置\n     * @param {boolean} opts.autoplay=false  是否自动播放\n     * @param {boolean} opts.loop=false   是否自动循环播放\n     * @param {boolean} opts.autoload=false 是否自动加载\n     * @param {boolean} opts.hasAudio `mpg` `fs`类型播放器是否需要音频\n     * @param {string} opts.audio 对应音频地址 等同opts.mp3\n     * @param {string} opts.mp3 对应音频地址 等同opts.audio\n     *\n     * @see 更多参数设置看各类播放器具体实现类所需参数\n     */\n    function VideoInteractivePlayer(url, opts) {\n        (0, _classCallCheck3.default)(this, VideoInteractivePlayer);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (VideoInteractivePlayer.__proto__ || (0, _getPrototypeOf2.default)(VideoInteractivePlayer)).call(this));\n\n        var _self = _this;\n\n        opts = opts || {};\n\n        opts.hasAudio = opts.hasAudio !== undefined ? opts.hasAudio : true;\n\n        var _type = void 0;\n        if (opts.type !== undefined) _type = opts.type;else {\n\n            var _hasFPS = opts.hasFPS !== undefined ? opts.hasFPS : false;\n\n            var _playerData = _this.getVideoPlayerTypeByExts(url, _hasFPS);\n            _type = _playerData.type;\n            if (_playerData.ext === 'dynamics') {\n                if (_type === 'video') url = url + '.mp4';\n                if (_type === 'mpg') {\n                    if (!opts.audio && opts.hasAudio) opts.audio = url + '.mp3';\n                    url = url + '.mpg';\n                }\n                if (_type === 'ts') url = url + '.ts';\n                if (_type === 'fs') {\n                    if (!opts.audio && !opts.mp3 && opts.hasAudio) opts.mp3 = url + '.mp3';\n                }\n            }\n        }\n\n        _this._url = url;\n\n        _this._type = _type;\n        // console.log('_type:', _type);\n\n        if (_type === 'mpg') {\n\n            _this._videoPlayer = new ds.media.MpegPlayer(url, opts);\n        } else if (_type === 'ts') {\n\n            _this._videoPlayer = new ds.media.TSPlayer(url, opts);\n        } else if (_type === 'fs') {\n\n            _this._videoPlayer = new ds.media.FramesPlayer(url, opts);\n        } else {\n\n            _this._videoPlayer = new ds.media.VideoTagPlayer(url, opts);\n        }\n\n        var _videoPlayer = _this._videoPlayer;\n\n        _videoPlayer.on('canplay', function (e) {\n            /**\n             * 视频可播放\n             * @event ds.media.VideoInteractivePlayer#canplay\n             */\n            this.ds('canplay');\n        }, _this);\n        _videoPlayer.on('progress', function (e) {\n            /**\n             * 视频加载进度\n             * @event ds.media.VideoInteractivePlayer#progress\n             */\n            this.ds(e);\n        }, _this);\n        _videoPlayer.on('loadEnd', function (e) {\n            /**\n             * 视频播放\n             * @event ds.media.VideoInteractivePlayer#loadEnd\n             */\n            this.ds(e);\n        }, _this);\n        _videoPlayer.on('play', function (e) {\n            /**\n             * 视频播放\n             * @event ds.media.VideoInteractivePlayer#play\n             */\n            this.ds(e);\n        }, _this);\n        _videoPlayer.on('pause', function (e) {\n            /**\n             * 视频暂停\n             * @event ds.media.VideoInteractivePlayer#pause\n             */\n            this.ds(e);\n        }, _this);\n        _videoPlayer.on('playEnd', function (e) {\n            /**\n             * 视频播放完成\n             * @event ds.media.VideoInteractivePlayer#playEnd\n             */\n            this.ds(e);\n        }, _this);\n        _videoPlayer.on('update', function (e) {\n            /**\n             * 视频播放中实时触发事件\n             * @event ds.media.VideoInteractivePlayer#update\n             */\n            this.ds(e);\n        }, _this);\n\n        _videoPlayer.on('update', function (e) {\n            _self._timeUpDate(e);\n        }, _this);\n\n        _this._playing = false;\n\n        _this._videoCuePointList = [];\n        return _this;\n    }\n\n    /**\n     * 开始加载\n     */\n\n\n    (0, _createClass3.default)(VideoInteractivePlayer, [{\n        key: 'load',\n        value: function load() {\n            if (_type === 'mpg' || _type === 'ts' || _type === 'fs') this._videoPlayer.load();\n        }\n\n        /**\n         * 根据链接地址获取播放器类型\n         * @param {string} url 视频链接地址\n         * @param {boolean} hasFPS 自动判断时候要不要判断序列帧播放器\n         * @return {Object}\n         */\n\n    }, {\n        key: 'getVideoPlayerTypeByExts',\n        value: function getVideoPlayerTypeByExts(url, hasFPS) {\n\n            var _type = void 0;\n            var _exts = ['mpg', 'ts', 'fs', 'video'];\n            var _fi = url.lastIndexOf(\".\");\n            var _ext = void 0;\n\n            //如果不带后缀,根据设备判断播放方式\n            if (_fi < 0) {\n\n                var u = navigator.userAgent;\n                var ua = u.toLowerCase();\n                var wechat = false;\n                if (ua.match(/MicroMessenger/i) == \"micromessenger\") wechat = true;\n                var weibo = false;\n                if (ua.match(/WeiBo/i) === \"weibo\") weibo = true;\n                //ios终端\n                var ios = !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/);\n                //android终端\n                var android = u.indexOf('Android') > -1 || u.indexOf('Adr') > -1;\n\n                if (wechat) {\n\n                    if (ios) _type = 'video';else _type = 'mpg';\n                } else if (hasFPS) {\n\n                    if (ios) _type = 'video';else if (android) {\n                        _type = 'fs';\n                    } else _type = 'video';\n                } else {\n\n                    _type = 'video';\n                }\n                _ext = 'dynamics';\n            }\n            //根据后缀名判断播放器类型\n            else {\n\n                    _ext = url.substr(_fi + 1);\n                    if (_ext === 'mpg') _type = 'mpg';else if (_ext === 'ts') _type = 'ts';else if (_ext === 'fs') _type = 'fs';else _type = 'video';\n                }\n\n            if (_exts.indexOf(_type) < 0) _type = 'video';\n\n            return { type: _type, ext: _ext };\n        }\n\n        /**\n         * 视频播放器核心对象 帧播放器、mpg播放器、ts播放器、video标签播放器\n         * @return {*}\n         */\n\n    }, {\n        key: '_timeUpDate',\n\n\n        /**\n         * 互动时间点监听\n         * @param e\n         * @private\n         */\n        value: function _timeUpDate(e) {\n\n            var _videoPlayer = this._videoPlayer;\n            if (!_videoPlayer) return;\n            var _currentTime = 0;\n            _currentTime = _videoPlayer.currentTime;\n            var _videoCuePointList = this._videoCuePointList;\n\n            for (var i = 0; i < _videoCuePointList.length; i++) {\n\n                var _td = _videoCuePointList[i];\n\n                if (_td.time && _currentTime >= _td.time && !_td.bool) {\n\n                    _td.bool = true;\n                    _td.runNum += 1;\n                    var _eventData = {\n                        type: 'cuePoint',\n                        data: _td,\n                        time: _currentTime\n                    };\n\n                    if (_td.fun) _td.fun(_eventData);\n                    /**\n                     * 交互提示点\n                     * @event ds.media.VideoInteractivePlayer#cuePoint\n                     * @property {object} data - 交互时间点数据\n                     * @property {number} time - 当前触发时间\n                     */\n                    this.ds(_eventData);\n                }\n            }\n        }\n\n        /**\n         * 视频交互提示点列表\n         * @return {array}\n         */\n\n    }, {\n        key: 'addCuePoint',\n\n\n        /**\n         * 添加交互的时间节点\n         * @param {object} cd 时间节点事件数据设置\n         * @param {string} cd.name 这个时间点的名称\n         * @param {number} cd.time 时间,秒数\n         * @param {function} cd.fun  时间点执行的时间函数\n         * @return {object} cd 设置时间节点数据 cd.runNum执行多少次 cd.bool是否被执行过\n         *\n         */\n        value: function addCuePoint(cd) {\n            cd = cd || {};\n            if (!cd.time) return;\n            if (!cd.name) cd.name = 'time_' + cd.time;\n            cd.runNum = 0;\n            cd.bool = false;\n            this._videoCuePointList.push(cd);\n        }\n\n        /**\n         * 重置所有时间交互点\n         */\n\n    }, {\n        key: 'resetCuePoints',\n        value: function resetCuePoints() {\n\n            var _videoCuePointList = this._videoCuePointList;\n            for (var i = 0; i < _videoCuePointList.length; i++) {\n                var _pd = _videoCuePointList[i];\n                _pd.runNum = 0;\n                _pd.bool = false;\n            }\n        }\n\n        /**\n         * 重置制定时间交互点\n         * @param {string} name 需要重置指定时间点名称\n         */\n\n    }, {\n        key: 'resetCuePointByName',\n        value: function resetCuePointByName(name) {\n\n            var _videoCuePointList = this._videoCuePointList;\n            for (var i = 0; i < _videoCuePointList.length; i++) {\n                var _pd = _videoCuePointList[i];\n                if (_pd.name === name) {\n                    _pd.bool = false;\n                    _pd.runNum = 0;\n                }\n            }\n        }\n\n        /**\n         * 清空清除所有的交互节点\n         */\n\n    }, {\n        key: 'clearCuePoints',\n        value: function clearCuePoints() {\n            this._videoCuePointList = [];\n        }\n\n        /**\n         * 播放源\n         * @return {string|*}\n         */\n\n    }, {\n        key: 'play',\n\n\n        /**\n         * 播放\n         */\n        value: function play() {\n            this._videoPlayer.play();\n        }\n\n        /**\n         * 暂停\n         */\n\n    }, {\n        key: 'pause',\n        value: function pause() {\n            this._videoPlayer.pause();\n        }\n\n        /**\n         * 寻找跳转到指定的时间\n         * @param {number} value\n         */\n\n    }, {\n        key: 'seekToTime',\n        value: function seekToTime(value) {\n            this._videoPlayer.seekToTime(value);\n        }\n\n        /**\n         * 跳转到制定帧\n         * `只能mpg fs 播放器可以使用`\n         * @param {number} frame [帧数]\n         */\n\n    }, {\n        key: 'seekToFrame',\n        value: function seekToFrame(frame) {\n            if (this._videoPlayer.seekToFrame) this._videoPlayer.seekToFrame(frame, true);\n        }\n\n        /**\n         * 音量\n         */\n\n    }, {\n        key: 'videoPlayer',\n        get: function get() {\n            return this._videoPlayer;\n        }\n    }, {\n        key: 'videoCuePointList',\n        get: function get() {\n            return this._videoCuePointList.concat();\n        }\n    }, {\n        key: 'url',\n        get: function get() {\n            return this._url;\n        }\n\n        /**\n         * 当前视频时间\n         */\n\n    }, {\n        key: 'currentTime',\n        get: function get() {\n            return this._videoPlayer.currentTime;\n        }\n\n        /**\n         * 设置获取播放器播放状态\n         */\n\n    }, {\n        key: 'playing',\n        get: function get() {\n            return this._videoPlayer.playing;\n        },\n        set: function set(bool) {\n            if (bool) this.play();else this.pause();\n        }\n    }, {\n        key: 'volume',\n        get: function get() {\n            return this._videoPlayer.volume;\n        },\n        set: function set(value) {\n            this._videoPlayer.volume = value;\n        }\n\n        /**\n         * 设置获取是否禁音状态\n         */\n\n    }, {\n        key: 'muted',\n        get: function get() {\n            return this._videoPlayer.muted;\n        },\n        set: function set(value) {\n            this._videoPlayer.muted = value;\n        }\n    }, {\n        key: 'el',\n        get: function get() {\n            return this._videoPlayer.el;\n        }\n    }]);\n    return VideoInteractivePlayer;\n}(_EventDispatcher3.default);\n\nvar root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : undefined;\n\nvar ds = root.ds = root.ds || {};\nds.media = ds.media || {};\nds.media.VideoInteractivePlayer = VideoInteractivePlayer;\n\nexports.default = VideoInteractivePlayer;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(12), __webpack_require__(10)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/ds/media/VideoInteractivePlayer.js\n// module id = 122\n// module chunks = 2\n\n//# sourceURL=webpack:///./source/ds/media/VideoInteractivePlayer.js?")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(5);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getPrototypeOf = __webpack_require__(45);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(43);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(44);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(46);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(47);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _EventDispatcher2 = __webpack_require__(74);\n\nvar _EventDispatcher3 = _interopRequireDefault(_EventDispatcher2);\n\nvar _iphoneInlineVideoMin = __webpack_require__(124);\n\nvar _iphoneInlineVideoMin2 = _interopRequireDefault(_iphoneInlineVideoMin);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n *  视频标签交互播放器\n *\n *  需要用到\n *  https://github.com/bfred-it/iphone-inline-video\n *\n *  #### HTML标签\n *  ```html\n *  \x3c!-- 放视频的容器  --\x3e\n <div id=\"MyVideoPanel\">\n \x3c!-- 进行需要控制的视频 --\x3e\n <video class='MyVideo'\n width=\"640\" height=\"1140\"\n playsinline=\"true\"\n webkit-playsinline=\"true\"\n x-webkit-airplay=\"true\"\n x5-video-player-type=\"h5\"\n x5-video-orientation=\"portrait\"\n x5-video-player-fullscreen=\"true\"\n preload=\"meta\"\n poster=\"\"\n volume='0'\n style=\"position: absolute; left: 3000px; top: 0; object-fit: fill\"\n src=\"。/media/test.mp4\" >\n </video>\n </div>\n *  ```\n *   注意对 preload的设置\n preload=\"auto\" 当页面加载后载入整个视频\n preload=\"meta\" 当页面加载后只载入元数据\n preload=\"none\" 当页面加载后只载入元数据\n 视频不能进行diplay:none;但可以设置left: 3000px;\n `关于x5内的video标签还可以查看`[腾讯X5同层播放器](https://x5.tencent.com/tbs/guide/tech.html)\n\n #### CSS样式设置\n\n * ```css\n .IIV::-webkit-media-controls-play-button,\n .IIV::-webkit-media-controls-start-playback-button {\n           opacity: 0;\n           pointer-events: none;\n           width: 5px;\n }\n #MyVideoPanel video::-webkit-media-controls-start-playback-button {\n           display: none;\n }\n #MyVideoPanel canvas {\n         position: absolute;\n         left:0;top:0;\n }\n * ```\n *  @class\n *  @memberof ds.media\n *  @requires module:libs/media/iphone-inline-video.browser.js\n */\nvar VideoTagPlayer = function (_EventDispatcher) {\n    (0, _inherits3.default)(VideoTagPlayer, _EventDispatcher);\n\n    /**\n     *\n     * @param {string} url 视频源\n     * @param {object} opts 播放器配置\n     * @param {HTMLElement} opts.el=undefined  捆绑dom元素\n     * @param {HTMLElement|string} opts.append=undefined  添加到dom容器节点\n     * @param {object} opts.css=undefined  播放器样式\n     * @param {boolean} opts.hasFPS=false 是否加入序列帧播放器判断\n     * @param {function} opts.onupdate  播放刷新\n     * @param {function} opts.onplay  开始播放\n     * @param {function} opts.onpause 播放暂停\n     * @param {function} opts.onplayend  播放完成\n     */\n    function VideoTagPlayer(url, opts) {\n        (0, _classCallCheck3.default)(this, VideoTagPlayer);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (VideoTagPlayer.__proto__ || (0, _getPrototypeOf2.default)(VideoTagPlayer)).call(this));\n\n        var _self = _this;\n\n        opts = opts || {};\n\n        _this._opts = opts;\n        /**\n         * 如果使用动态创建的video标签 的动态class 名，\"VideoTagPlayer\"+this.dynamicID\n         * @type {number}\n         */\n        _this.dynamicID = new Date().getTime();\n\n        var _html = [\" <video class=\\'\" + \"VideoTagPlayer\" + _this.dynamicID + \"\\'\", \"               width=\\\"640\\\" height=\\\"1040\\\"\", \"               playsinline\", \"               webkit-playsinline=\\\"true\\\"\", \"               x-webkit-airplay=\\\"true\\\"\", \"               x5-video-player-type=\\\"h5\\\"\", \"               x5-video-orientation=\\\"portrait\\\"\", \"               x5-video-player-fullscreen=\\\"true\\\"\", \"               preload=\\\"meta\\\"\", \"               poster=\\\"\\\"\", \"               volume=\\'0\\'\", \"               style=\\\"position: absolute; left: 3000px; top: 0; object-fit: fill\\\"\", \"               src=\\\"\\\" >\", \"        </video>\"].join(\"\");\n\n        var _el = void 0;\n        if (opts.el) _el = $(opts.el);\n        if (!_el) _el = $(_html);\n\n        _this._video = _el[0];\n        var _video = _this._video;\n\n        if (opts.append) $(opts.append).append(_video);\n\n        if (opts.css) $(_el).css(opts.css);\n\n        if (url !== undefined && url !== null) {\n            _video.autoplay = opts.autoplay != undefined ? opts.autoplay : false;\n            _video.loop = opts.loop != undefined ? opts.loop : false;\n            _video.src = url;\n            _video.load();\n        }\n\n        //解决ios下全屏播放问题\n\n        (0, _iphoneInlineVideoMin2.default)(_this._video);\n\n        //视频事件参考 http://www.w3school.com.cn/tags/html_ref_audio_video_dom.asp\n        _this._videoEvents = ['abort', //当音频/视频的加载已放弃时\n        // , 'canplay' //当浏览器可以播放音频/视频时\n        // , 'canplaythrough' //当浏览器可在不因缓冲而停顿的情况下进行播放时\n        'durationchange', //当音频/视频的时长已更改时\n        'emptied', //当目前的播放列表为空时\n        // , 'ended' //当目前的播放列表已结束时\n        'error', //当在音频/视频加载期间发生错误时\n        'loadeddata', //当浏览器已加载音频/视频的当前帧时\n        'loadedmetadata', //当浏览器已加载音频/视频的元数据时\n        'loadstart', //当浏览器开始查找音频/视频时\n        // , 'pause' //当音频/视频已暂停时\n        // , 'play' //当音频/视频已开始或不再暂停时\n        // , 'playing' //当音频/视频在已因缓冲而暂停或停止后已就绪时\n        // , 'progress' //当浏览器正在下载音频/视频时\n        'ratechange', //当音频/视频的播放速度已更改时\n        'seeked', //当用户已移动/跳跃到音频/视频中的新位置时\n        'seeking', //当用户开始移动/跳跃到音频/视频中的新位置时\n        'stalled', //当浏览器尝试获取媒体数据，但数据不可用时\n        'suspend', //当浏览器刻意不获取媒体数据时\n        // , 'timeupdate' //当目前的播放位置已更改时\n        'volumechange', //当音量已更改时\n        'waiting'];\n\n        _video.addEventListener(\"timeupdate\", function (e) {\n            _self._updateEvent();\n        });\n        _video.addEventListener(\"play\", function (e) {\n            _self._playEvent();\n        });\n        _video.addEventListener(\"pause\", function (e) {\n            _self._pauseEvent();\n        });\n        _video.addEventListener(\"ended\", function (e) {\n            _self._playEndEvent();\n        });\n\n        return _this;\n    }\n\n    (0, _createClass3.default)(VideoTagPlayer, [{\n        key: '_updateEvent',\n        value: function _updateEvent() {\n            if (this._opts.onupdate) this._opts.onupdate();\n\n            /**\n             * 刷新事件\n             * @event ds.media.VideoTagPlayer#update\n             */\n            this.ds('update');\n        }\n    }, {\n        key: '_playEvent',\n        value: function _playEvent() {\n            if (this._opts.onplay) this._opts.onplay();\n            this._video.play();\n            /**\n             * 播放\n             * @event ds.media.VideoTagPlayer#play\n             */\n            this.ds('play');\n        }\n    }, {\n        key: '_pauseEvent',\n        value: function _pauseEvent() {\n            if (this._opts.onpause) this._opts.onpause();\n            this._video.pause();\n            /**\n             * 暂停\n             * @event ds.media.VideoTagPlayer#pause\n             */\n            this.ds('pause');\n        }\n    }, {\n        key: '_playEndEvent',\n        value: function _playEndEvent() {\n            if (this._opts.onplayend) this._opts.onplayend();\n            /**\n             * 播放结束\n             * @event ds.media.VideoTagPlayer#playEnd\n             */\n            this.ds('playEnd');\n        }\n\n        /**\n         * 播放\n         */\n\n    }, {\n        key: 'play',\n        value: function play() {\n            this._video.play();\n        }\n\n        /**\n         * 暂停\n         */\n\n    }, {\n        key: 'pause',\n        value: function pause() {\n            this._video.pause();\n        }\n\n        /**\n         * 跳转到制定时间\n         * @param {number} value 跳转到指定时间\n         */\n\n    }, {\n        key: 'seekToTime',\n        value: function seekToTime(value) {\n            this._video.currentTime = value;\n        }\n\n        /**\n         * 是否播放中\n         * @return {boolean}\n         */\n\n    }, {\n        key: 'playing',\n        get: function get() {\n            return !this._video.paused;\n        }\n\n        /**\n         * 当前时间\n         */\n\n    }, {\n        key: 'currentTime',\n        get: function get() {\n            return this._video.currentTime;\n        }\n\n        /**\n         * 时间长度\n         */\n\n    }, {\n        key: 'duration',\n        get: function get() {\n            return this._video.duration;\n        }\n\n        /**\n         * 设置获取声音大小\n         */\n\n    }, {\n        key: 'volume',\n        get: function get() {\n            return this._video.volume;\n        },\n        set: function set(value) {\n            this._video.volume = value;\n        }\n\n        /**\n         * 设置获取是否禁音\n         * @param {boolean} value\n         */\n\n    }, {\n        key: 'muted',\n        get: function get() {\n            return this._video.muted;\n        },\n        set: function set(value) {\n            this._video.volume = value;\n        }\n\n        /**\n         * 视频播放器呈现dom元素，视频标签\n         * @return {VideoElement}\n         */\n\n    }, {\n        key: 'video',\n        get: function get() {\n            return this._video;\n        }\n\n        /**\n         * 视频播放器呈现dom元素，视频标签\n         * @return {VideoElement}\n         */\n\n    }, {\n        key: 'el',\n        get: function get() {\n            return this._video;\n        }\n    }]);\n    return VideoTagPlayer;\n}(_EventDispatcher3.default);\n\n// weboack打包有问题 所以对iphone-inline-video.min.js做了些修改\n// window.enableInlineVideo = require('libs/media/iphone-inline-video.min.js');\n\n\nvar root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : undefined;\n\nvar ds = root.ds = root.ds || {};\nds.media = ds.media || {};\nds.media.VideoTagPlayer = VideoTagPlayer;\n\nexports.default = VideoTagPlayer;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(12), __webpack_require__(10)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/ds/media/VideoTagPlayer.js\n// module id = 123\n// module chunks = 2\n\n//# sourceURL=webpack:///./source/ds/media/VideoTagPlayer.js?")},function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*! npm.im/iphone-inline-video 2.2.2 */\nvar enableInlineVideo=function(){"use strict";/*! npm.im/intervalometer */\nfunction e(e,i,n,r){function t(n){d=i(t,r),e(n-(a||n)),a=n}var d,a;return{start:function(){d||t(0)},stop:function(){n(d),d=null,a=0}}}function i(i){return e(i,requestAnimationFrame,cancelAnimationFrame)}function n(e,i,n){function r(r){n&&!n(e,i)||r.stopImmediatePropagation()}return e.addEventListener(i,r),r}function r(e,i,n,r){function t(){return n[i]}function d(e){n[i]=e}r&&d(e[i]),Object.defineProperty(e,i,{get:t,set:d})}function t(e,i,n){n.addEventListener(i,function(){return e.dispatchEvent(new Event(i))})}function d(e,i){Promise.resolve().then(function(){e.dispatchEvent(new Event(i))})}function a(e){var i=new Audio;return t(e,"play",i),t(e,"playing",i),t(e,"pause",i),i.crossOrigin=e.crossOrigin,i.src=e.src||e.currentSrc||"data:",i}function u(e,i,n){(m||0)+200<Date.now()&&(e[h]=!0,m=Date.now()),n||(e.currentTime=i),k[++T%3]=100*i|0}function o(e){return e.driver.currentTime>=e.video.duration}function s(e){var i=this;i.video.readyState>=i.video.HAVE_FUTURE_DATA?(i.hasAudio||(i.driver.currentTime=i.video.currentTime+e*i.video.playbackRate/1e3,i.video.loop&&o(i)&&(i.driver.currentTime=0)),u(i.video,i.driver.currentTime)):i.video.networkState===i.video.NETWORK_IDLE&&0===i.video.buffered.length&&i.video.load(),i.video.ended&&(delete i.video[h],i.video.pause(!0))}function c(){var e=this,i=e[g];if(e.webkitDisplayingFullscreen)return void e[E]();"data:"!==i.driver.src&&i.driver.src!==e.src&&(u(e,0,!0),i.driver.src=e.src),e.paused&&(i.paused=!1,0===e.buffered.length&&e.load(),i.driver.play(),i.updater.start(),i.hasAudio||(d(e,"play"),i.video.readyState>=i.video.HAVE_ENOUGH_DATA&&d(e,"playing")))}function v(e){var i=this,n=i[g];n.driver.pause(),n.updater.stop(),i.webkitDisplayingFullscreen&&i[w](),n.paused&&!e||(n.paused=!0,n.hasAudio||d(i,"pause"),i.ended&&!i.webkitDisplayingFullscreen&&(i[h]=!0,d(i,"ended")))}function p(e,n){var r={};e[g]=r,r.paused=!0,r.hasAudio=n,r.video=e,r.updater=i(s.bind(r)),n?r.driver=a(e):(e.addEventListener("canplay",function(){e.paused||d(e,"playing")}),r.driver={src:e.src||e.currentSrc||"data:",muted:!0,paused:!0,pause:function(){r.driver.paused=!0},play:function(){r.driver.paused=!1,o(r)&&u(e,0)},get ended(){return o(r)}}),e.addEventListener("emptied",function(){var i=!r.driver.src||"data:"===r.driver.src;r.driver.src&&r.driver.src!==e.src&&(u(e,0,!0),r.driver.src=e.src,i||!n&&e.autoplay?r.driver.play():r.updater.stop())},!1),e.addEventListener("webkitbeginfullscreen",function(){e.paused?n&&0===r.driver.buffered.length&&r.driver.load():(e.pause(),e[E]())}),n&&(e.addEventListener("webkitendfullscreen",function(){r.driver.currentTime=e.currentTime}),e.addEventListener("seeking",function(){k.indexOf(100*e.currentTime|0)<0&&(r.driver.currentTime=e.currentTime)}))}function l(e){var i=e[h];return delete e[h],!e.webkitDisplayingFullscreen&&!i}function f(e){var i=e[g];e[E]=e.play,e[w]=e.pause,e.play=c,e.pause=v,r(e,"paused",i.driver),r(e,"muted",i.driver,!0),r(e,"playbackRate",i.driver,!0),r(e,"ended",i.driver),r(e,"loop",i.driver,!0),n(e,"seeking",function(e){return!e.webkitDisplayingFullscreen}),n(e,"seeked",function(e){return!e.webkitDisplayingFullscreen}),n(e,"timeupdate",l),n(e,"ended",l)}function y(e,i){if(void 0===i&&(i={}),!e[g]){if(!i.everywhere){if(!b)return;if(!(i.iPad||i.ipad?/iPhone|iPod|iPad/:/iPhone|iPod/).test(navigator.userAgent))return}e.pause();var n=e.autoplay;e.autoplay=!1,p(e,!e.muted),f(e),e.classList.add("IIV"),e.muted&&n&&(e.play(),e.addEventListener("playing",function i(){e.autoplay=!0,e.removeEventListener("playing",i)})),/iPhone|iPod|iPad/.test(navigator.platform)||console.warn("iphone-inline-video is not guaranteed to work in emulated environments")}}var m,b="object"==typeof document&&"object-fit"in document.head.style&&!matchMedia("(-webkit-video-playable-inline)").matches,g="bfred-it:iphone-inline-video",h="bfred-it:iphone-inline-video:event",E="bfred-it:iphone-inline-video:nativeplay",w="bfred-it:iphone-inline-video:nativepause",k=[],T=0;return y}();\nif (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (exports) {\n        module.exports = enableInlineVideo\n    }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n} else if (typeof exports !== \'undefined\') {\n    module.exports = enableInlineVideo\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/libs/media/iphone-inline-video.min.js\n// module id = 124\n// module chunks = 2\n\n//# sourceURL=webpack:///./source/libs/media/iphone-inline-video.min.js?')},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(5);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _getPrototypeOf = __webpack_require__(45);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(43);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(44);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(46);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(47);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _EventDispatcher2 = __webpack_require__(74);\n\nvar _EventDispatcher3 = _interopRequireDefault(_EventDispatcher2);\n\nvar _jsmpg = __webpack_require__(126);\n\nvar _jsmpg2 = _interopRequireDefault(_jsmpg);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n *  视频交互类\n *\n *  #### [安卓版本对video标签支持不好，但又支持webgl的项目可以使用这个视频解码播放器做替代方案]\n *\n *  这个播放器需要 mp3（声音） 与 mpg （视频画面） 2个文件来进行播放\n *\n *  ##### 音频抽取\n *\n *   使用Adobe Media Encoder 对视频进行转换导出mp3资源\n *\n *  ##### 视频转码  [ffmpeg donw](http://www.ffmpeg.org/)\n *\n *  命令：\n *  ```\n *  ffmpeg -i xxxx.mp4 -f mpeg1video -vf \"crop=iw-mod(iw\\,1):ih-mod(ih\\,1)\" -qscale 10 -b 0 xxxx.mpg\n *  ```\n *  - xxxx.mp4：原视频文件名；xxxx.mpg：导出的视频文件\n *  - (iw\\,2)和(ih\\,2)为视频的宽高，设置为1则代表为原视频宽高\n *  - -qscale 1 ：视频的清晰度，1代表最清晰，数值越大越模糊\n *\n *  @class\n *  @memberof ds.media\n *\n */\nvar MpegPlayer = function (_EventDispatcher) {\n    (0, _inherits3.default)(MpegPlayer, _EventDispatcher);\n\n    /**\n     *\n     * @param {string} url 视频url地址\n     * @param {object} opts  配置参数\n     * @param {boolean} opts.progressive 是否渐进加载\n     * @param {CanvasElement} opts.el  捆绑dom元素\n     * @param {boolean} opts.autoplay 是否自动播放\n     * @param {boolean} opts.autoload 是否自动加载\n     * @param {boolean} opts.progressShow 是否显示默认加载进度\n     * @param {boolean} opts.loop  是否循环播放\n     * @param {boolean} opts.seekable 是否可以搜索指定帧\n     * @param {boolean} opts.hasTouchstart 是否需要touch触发默认加载播放\n     * @param {number} opts.duration 时长\n     * @param {HTMLElement|string} opts.append 添加到容器节点\n     * @param {object} opts.css  设置样式\n     * @param {function} opts.onstartload 开始加载\n     * @param {function} opts.onload 加载完成\n     * @param {function} opts.update 播放刷新\n     * @param {function} opts.onprogress 加载进度\n     * @param {function} opts.onplayend 播放完成\n     * @param {function} opts.onplay 开始播放\n     * @param {function} opts.onpause 播放暂停\n     * @param {function} opts.oncanPlay 可以播放\n     * @param {function} opts.oncanPlayProgress 第一个可以播放的加载进度\n     */\n    function MpegPlayer(url, opts) {\n        (0, _classCallCheck3.default)(this, MpegPlayer);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, (MpegPlayer.__proto__ || (0, _getPrototypeOf2.default)(MpegPlayer)).call(this));\n\n        var _self = _this;\n\n        opts = opts || {};\n\n        _this._opts = opts;\n\n        //记录加载路径\n        _this._url = url;\n        //是否缓存加载\n        var _progressive = opts.progressive !== undefined ? opts.progressive : true;\n\n        var _canvas = void 0;\n        if (opts.el != undefined) _canvas = $(opts.el)[0];else _canvas = document.createElement('canvas');\n\n        var _autoplay = opts.autoplay !== undefined ? opts.autoplay : false;\n        var _autoload = opts.autoload !== undefined ? opts.autoload : true;\n        _this._autoload = _autoload;\n\n        _this._canPlayBool = false;\n\n        var _player = new _jsmpg2.default(url, {\n            canvas: _canvas,\n            //是否自动播放\n            autoplay: _autoplay,\n            //是否自动加载  如果是设置自动播放 肯定是要自动加载\n            autoload: _autoload,\n            //默认加载进度\n            progressShow: !!opts.progressShow,\n            //是否循环\n            loop: !!opts.loop,\n            //是否计算头文件 计算出时间\n            seekable: opts.seekable !== undefined ? opts.seekable : false,\n            //避免头文件未计算完成，得不到总时间\n            duration: opts.duration || 60,\n            //是否缓冲加载播放\n            progressive: _progressive,\n            //缓冲加载播放\n            progressiveThrottled: _progressive,\n            //加载完成\n            onstartload: _startLoad,\n            //加载完成\n            onload: _loadEnd,\n            //帧触发\n            ondecodeframe: _frameUpDate,\n            //加载进度\n            onprogress: _progress,\n            //播放完成\n            onfinished: _playEnd,\n            //触发播放\n            onplay: _onPlay,\n            //触发播放\n            onpause: _onPause,\n            //触发可以播放\n            canPlay: _onCanPlay,\n            //第一个加载完成可以播放进度\n            oncanPlayProgress: _canPlayProgress,\n            //进跳帧后 声音控制\n            upAudioTime: _playerUpAudioTime\n        });\n\n        _this._player = _player;\n        _canvas = _player.canvas;\n        _this._canvas = _canvas;\n\n        if (opts.append) $(opts.append).append(_canvas);\n\n        var _css = void 0;\n\n        if (opts.css) _css = opts.css;else {\n\n            _css = {\n                position: 'absolute',\n                left: 0,\n                top: 0,\n                width: 640,\n                height: 1040\n            };\n        }\n\n        $(_canvas).css(opts.css);\n        if (_css.width && _css.height) _this._resizeCavans(_css.width, _css.height);\n\n        //开始加载\n        function _startLoad() {\n            if (opts.onstartload) opts.onstartload();\n            /**\n             * 开始加载\n             * @event ds.media.MpegPlayer#startLoad\n             */\n            _self.ds('startLoad');\n        }\n\n        //加载完成\n        function _loadEnd() {\n            // console.log('加载完成');\n            if (opts.onload) opts.onload();\n            /**\n             * 加载完成\n             * @event ds.media.MpegPlayer#loadEnd\n             */\n            _self.ds('loadEnd');\n        }\n\n        //帧渲染\n        function _frameUpDate() {\n            if (opts.update) opts.update();\n            /**\n             * 刷新事件\n             * @event ds.media.MpegPlayer#update\n             */\n            _self.ds('update');\n            // console.log('frame:' + (_Player.currentTime >> 0) + '/' + _Player.duration);\n        }\n\n        //加载进度\n        function _progress(progress) {\n            // console.log('加载进度:' + progress);\n            if (opts.onprogress) opts.onprogress(progress);\n            /**\n             * 视频加载进度\n             * @event ds.media.MpegPlayer#progress\n             * @property {number} progress - 加载进度\n             */\n            _self.ds({\n                type: 'progress',\n                progress: progress\n            });\n        }\n\n        function _playEnd() {\n\n            if (opts.onplayend) opts.onplayend();\n            /**\n             * 播放结束\n             * @event ds.media.MpegPlayer#playEnd\n             */\n            _self.ds('playEnd');\n        }\n\n        function _onPlay() {\n\n            if (opts.onplay) opts.onplay();\n            if (_self._audio) {\n\n                if (_self._player && _self._player.currentTime) _self._audio.currentTime = _self._player.currentTime;\n\n                _self._audio.play();\n            }\n            /**\n             * 播放\n             * @event ds.media.MpegPlayer#play\n             */\n            _self.ds('play');\n        }\n\n        function _onPause() {\n            if (opts.onpause) opts.onpause();\n            if (_self._audio) _self._audio.pause();\n            /**\n             * 暂停\n             * @event ds.media.MpegPlayer#pause\n             */\n            _self.ds('pause');\n        }\n\n        function _onCanPlay() {\n            if (_self._canPlayBool) return;\n            _self._canPlayBool = true;\n            if (opts.oncanPlay) opts.oncanPlay();\n            /**\n             * 可以开始播放\n             * @event ds.media.MpegPlayer#canplay\n             */\n            _self.ds('canplay');\n        }\n\n        //第一次触发可以播放进度\n        function _canPlayProgress(progress) {\n            if (opts.oncanPlayProgress) opts.oncanPlayProgress(progress);\n            /**\n             * 第一次触发可以播放进度\n             * @event ds.media.MpegPlayer#canPlayprogress\n             * @property {number} progress - 加载进度\n             */\n            _self.ds({\n                type: 'canPlayprogress',\n                progress: progress\n            });\n        }\n\n        //进行跳帧后 声音播放位置更新\n        function _playerUpAudioTime(time) {\n\n            if (_self._audio) _self._audio.currentTime = time;\n        }\n\n        //音频对象\n        var _audio = null;\n        var _audioUrl = opts.audio || '';\n        if (_audioUrl === '') {\n\n            if (_autoload) _this.load();\n        } else {\n\n            console.log('_audioUrl:', _audioUrl);\n            _audio = new Audio();\n            _this._audio = _audio;\n            _audio.autoplay = false;\n            _audio.src = _audioUrl;\n            _audio.load();\n            //客户端开始请求数据\n            _audio.addEventListener('loadstart', function () {\n                console.log('_audio loadstart');\n            });\n            //客户端开始请求数据\n            _audio.addEventListener('abort', function () {\n                console.log('_audio abort');\n            });\n            //等待数据，并非错误\n            _audio.addEventListener('waiting', function () {});\n            //播放结束\n            _audio.addEventListener('ended', function () {});\n            //加载完成 其实不是\n            _audio.addEventListener('loadedmetadata', function () {});\n            //客户端正在请求数据\n            _audio.addEventListener('progress', function () {});\n            //延迟下载\n            _audio.addEventListener('suspend', function () {});\n            //play()和autoplay开始播放时触发\n            _audio.addEventListener('play', function () {});\n            //pause()触发\n            _audio.addEventListener('pause', function () {});\n            //可以播放\n            _audio.addEventListener('canplaythrough', function () {\n                _self._audioCanplay();\n            });\n            _audio.addEventListener('error', function () {\n                _self._audioError();\n            });\n\n            //更加配置判断是否通过touch触发声音播放\n            if (opts.hasTouchstart) {\n                document.body.addEventListener('touchstart', _audioInBrowserHandler);\n            }\n        }\n\n        function _audioInBrowserHandler() {\n            document.body.removeEventListener('touchstart', _audioInBrowserHandler);\n            _self._audioOnDocumentTouchstart();\n        }\n\n        return _this;\n    }\n\n    (0, _createClass3.default)(MpegPlayer, [{\n        key: '_audioCanplay',\n        value: function _audioCanplay() {\n            if (this._autoload) this.load();\n        }\n    }, {\n        key: '_audioError',\n        value: function _audioError() {\n            console.warn('声音加载错误');\n        }\n    }, {\n        key: '_audioOnDocumentTouchstart',\n        value: function _audioOnDocumentTouchstart() {\n            if (this._audio) {\n                this._audio.play();\n                this._audio.pause();\n            }\n        }\n\n        /**\n         * 设置画布大小\n         * @param width\n         * @param height\n         * @private\n         */\n\n    }, {\n        key: '_resizeCavans',\n        value: function _resizeCavans(width, height) {\n\n            this._canvas.setAttribute('width', width);\n            this._canvas.setAttribute('height', height);\n            $(this._canvas).css({\n                \"width\": width + 'px',\n                \"height\": height + 'px'\n            });\n        }\n\n        /**\n         * 开始加载\n         */\n\n    }, {\n        key: 'load',\n        value: function load() {\n\n            var _url = this._url;\n            if (this._player.progressive) this._player.beginProgressiveLoad(_url);else this._player.load(_url);\n        }\n    }, {\n        key: 'play',\n\n\n        /**\n         * 播放\n         */\n        value: function play() {\n            if (!this._canPlayBool) return;\n            console.log('Play', this._player.playing);\n            // _Playing = true;\n            this._player.play();\n            if (this._audio) {\n                this._audio.currentTime = this._player.currentTime;\n                this._audio.play();\n            }\n        }\n\n        /**\n         * 暂停\n         */\n\n    }, {\n        key: 'pause',\n        value: function pause() {\n            if (!this._canPlayBool) return;\n            this._player.pause();\n            if (this._audio) this._audio.pause();\n        }\n\n        /**\n         * 跳转到制定时间\n         * @param {number} value 跳转到指定时间\n         */\n\n    }, {\n        key: 'seekToTime',\n        value: function seekToTime(value) {\n            this._player.seekToTime(value, true);\n            // this._player.currentTime = value;\n        }\n\n        /**\n         * 跳转到制定帧\n         * @param {number} frame [帧数]\n         */\n\n    }, {\n        key: 'seekToFrame',\n        value: function seekToFrame(frame) {\n            this._player.seekToFrame(frame, true);\n        }\n    }, {\n        key: 'currentTime',\n\n\n        /**\n         * 当前时间\n         */\n        get: function get() {\n            return this._player.currentTime;\n        }\n\n        /**\n         * 时间长度\n         */\n\n    }, {\n        key: 'duration',\n        get: function get() {\n            return this._player.duration;\n        }\n    }, {\n        key: 'volume',\n        get: function get() {\n            return this._audio ? this._audio.volume : 0;\n        }\n\n        /**\n         * 设置获取声音大小\n         * @param {number} value\n         */\n        ,\n        set: function set(value) {\n            if (this._audio) this._audio.volume = value;\n        }\n    }, {\n        key: 'muted',\n        get: function get() {\n            return this._audio ? this._audio.muted : true;\n        }\n\n        /**\n         * 设置获取是否禁音\n         * @param {boolean} value\n         */\n        ,\n        set: function set(value) {\n            this._audio.muted = value;\n        }\n\n        /**\n         * 总帧数\n         */\n\n    }, {\n        key: 'totalFrames',\n        get: function get() {\n            return this._player.frameCount;\n        }\n\n        /**\n         * 当前帧\n         */\n\n    }, {\n        key: 'currentFrame',\n        get: function get() {\n            return this._player.currentFrame;\n        }\n\n        /**\n         * 设置获取播放器播放状态\n         */\n\n    }, {\n        key: 'playing',\n        get: function get() {\n            return this._player.playing;\n        },\n        set: function set(bool) {\n            if (bool) this.play();else this.pause();\n        }\n\n        /**\n         * 播放声音对象\n         * @return {AudioElement}\n         */\n\n    }, {\n        key: 'audio',\n        get: function get() {\n            return this._audio;\n        }\n\n        /**\n         * 视频播放器 jsmpeg实现的渲染器\n         * @return {jsmpeg}\n         */\n\n    }, {\n        key: 'player',\n        get: function get() {\n            return this._player;\n        }\n\n        /**\n         * 视频播放器呈现dom元素，cavnas\n         * @return {CavansElement}\n         */\n\n    }, {\n        key: 'el',\n        get: function get() {\n            return this._canvas;\n        }\n    }]);\n    return MpegPlayer;\n}(_EventDispatcher3.default);\n\nvar root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : undefined;\n\nvar ds = root.ds = root.ds || {};\nds.media = ds.media || {};\nds.media.MpegPlayer = MpegPlayer;\n\nexports.default = MpegPlayer;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(12), __webpack_require__(10)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/ds/media/MpegPlayer.js\n// module id = 125\n// module chunks = 2\n\n//# sourceURL=webpack:///./source/ds/media/MpegPlayer.js?")},function(module,exports,__webpack_require__){eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * 老版mepg  基本可以废弃\n */\n(function (window) {\n    'use strict';\n\n    var jsmpeg = window.jsmpeg = function (url, opts) {\n        opts = opts || {};\n        this.benchmark = !!opts.benchmark;\n        this.canvas = opts.canvas || document.createElement('canvas');\n        this.progressShow = !!opts.progressShow;\n\n        this.autoplay = !!opts.autoplay;\n        this.autoload = opts.autoload !== undefined ? opts.autoload : false;\n        // console.log(\tthis.autoload);\n        this.wantsToPlay = this.autoplay;\n        this.loop = !!opts.loop;\n        this.seekable = opts.seekable !== undefined ? opts.seekable : true;\n        this.externalStartLoadCallback = opts.onstartload || null;\n        this.externalLoadCallback = opts.onload || null;\n        this.externalDecodeCallback = opts.ondecodeframe || null;\n        this.externalFinishedCallback = opts.onfinished || null;\n        this.externalProgressCallback = opts.onprogress || null;\n        this.externalplayCallback = opts.onplay || null;\n        this.externalpauseCallback = opts.onpause || null;\n        this.externalcanPlayCallback = opts.canPlay || null;\n        this.externalCanPlayProgressCallback = opts.oncanPlayProgress || null;\n        this.externalupAudioTimeCallback = opts.upAudioTime || null;\n\n        this.duration = opts.duration || 0;\n\n        this.progressive = opts.progressive !== undefined ? opts.progressive : true;\n        this.progressiveThrottled = !!opts.progressiveThrottled;\n        this.progressiveChunkSize = opts.progressiveChunkSize || 1024 * 1024;\n        this.progressiveChunkSizeMax = 50 * 1024 * 1024;\n\n        this.customIntraQuantMatrix = new Uint8Array(64);\n        this.customNonIntraQuantMatrix = new Uint8Array(64);\n        this.blockData = new Int32Array(64);\n        this.zeroBlockData = new Int32Array(64);\n        this.fillArray(this.zeroBlockData, 0);\n\n        // Use WebGL for YCbCrToRGBA conversion if possible (much faster)\n        if (!opts.forceCanvas2D && this.initWebGL()) {\n            this.renderFrame = this.renderFrameGL;\n            this.updateLoader = this.updateLoaderGL;\n        }\n        else {\n            this.canvasContext = this.canvas.getContext('2d');\n            this.renderFrame = this.renderFrame2D;\n            this.updateLoader = this.updateLoader2D;\n        }\n        this.startLoadBool = false;\n        if (url instanceof WebSocket) {\n            this.client = url;\n            this.client.onopen = this.initSocketClient.bind(this);\n        }\n        else if (this.progressive) {\n            if (this.autoload) this.beginProgressiveLoad(url);\n        }\n        else {\n            if (this.autoload) this.load(url);\n        }\n    };\n\n\n// ----------------------------------------------------------------------------\n// Streaming over WebSockets\n\n    jsmpeg.prototype.waitForIntraFrame = true;\n    jsmpeg.prototype.socketBufferSize = 512 * 1024; // 512kb each\n\n    jsmpeg.prototype.initSocketClient = function () {\n        this.buffer = new BitReader(new ArrayBuffer(this.socketBufferSize));\n\n        this.nextPictureBuffer = new BitReader(new ArrayBuffer(this.socketBufferSize));\n        this.nextPictureBuffer.writePos = 0;\n        this.nextPictureBuffer.chunkBegin = 0;\n        this.nextPictureBuffer.lastWriteBeforeWrap = 0;\n\n        this.client.binaryType = 'arraybuffer';\n        this.client.onmessage = this.receiveSocketMessage.bind(this);\n    };\n\n    jsmpeg.prototype.decodeSocketHeader = function (data) {\n        // Custom header sent to all newly connected clients when streaming\n        // over websockets:\n        // struct { char magic[4] = 'jsmp'; unsigned short width, height; };\n        if (\n            data[0] === SOCKET_MAGIC_BYTES.charCodeAt(0) &&\n            data[1] === SOCKET_MAGIC_BYTES.charCodeAt(1) &&\n            data[2] === SOCKET_MAGIC_BYTES.charCodeAt(2) &&\n            data[3] === SOCKET_MAGIC_BYTES.charCodeAt(3)\n        ) {\n            this.width = (data[4] * 256 + data[5]);\n            this.height = (data[6] * 256 + data[7]);\n            this.initBuffers();\n        }\n    };\n\n    jsmpeg.prototype.receiveSocketMessage = function (event) {\n        var messageData = new Uint8Array(event.data);\n\n        if (!this.sequenceStarted) {\n            this.decodeSocketHeader(messageData);\n        }\n\n        var current = this.buffer;\n        var next = this.nextPictureBuffer;\n\n        if (next.writePos + messageData.length > next.length) {\n            next.lastWriteBeforeWrap = next.writePos;\n            next.writePos = 0;\n            next.index = 0;\n        }\n\n        next.bytes.set(messageData, next.writePos);\n        next.writePos += messageData.length;\n\n        var startCode = 0;\n        while (true) {\n            startCode = next.findNextMPEGStartCode();\n            if (\n                startCode === BitReader.NOT_FOUND ||\n                ((next.index >> 3) > next.writePos)\n            ) {\n                // We reached the end with no picture found yet; move back a few bytes\n                // in case we are at the beginning of a start code and exit.\n                next.index = Math.max((next.writePos - 3), 0) << 3;\n                return;\n            }\n            else if (startCode === START_PICTURE) {\n                break;\n            }\n        }\n\n        // If we are still here, we found the next picture start code!\n\n\n        // Skip picture decoding until we find the first intra frame?\n        if (this.waitForIntraFrame) {\n            next.advance(10); // skip temporalReference\n            if (next.getBits(3) === PICTURE_TYPE_I) {\n                this.waitForIntraFrame = false;\n                next.chunkBegin = (next.index - 13) >> 3;\n            }\n            return;\n        }\n\n        // Last picture hasn't been decoded yet? Decode now but skip output\n        // before scheduling the next one\n        if (!this.currentPictureDecoded) {\n            this.decodePicture(DECODE_SKIP_OUTPUT);\n        }\n\n\n        // Copy the picture chunk over to 'this.buffer' and schedule decoding.\n        var chunkEnd = ((next.index) >> 3);\n\n        if (chunkEnd > next.chunkBegin) {\n            // Just copy the current picture chunk\n            current.bytes.set(next.bytes.subarray(next.chunkBegin, chunkEnd));\n            current.writePos = chunkEnd - next.chunkBegin;\n        }\n        else {\n            // We wrapped the nextPictureBuffer around, so we have to copy the last part\n            // till the end, as well as from 0 to the current writePos\n            current.bytes.set(next.bytes.subarray(next.chunkBegin, next.lastWriteBeforeWrap));\n            var written = next.lastWriteBeforeWrap - next.chunkBegin;\n            current.bytes.set(next.bytes.subarray(0, chunkEnd), written);\n            current.writePos = chunkEnd + written;\n        }\n\n        current.index = 0;\n        next.chunkBegin = chunkEnd;\n\n        // Decode!\n        this.currentPictureDecoded = false;\n        setTimeout(function () {\n            this.decodePicture();\n            this.currentPictureDecoded = true;\n        }.bind(this));\n    };\n\n\n// ----------------------------------------------------------------------------\n// Recording from WebSockets\n\n    jsmpeg.prototype.isRecording = false;\n    jsmpeg.prototype.recorderWaitForIntraFrame = false;\n    jsmpeg.prototype.recordedFrames = 0;\n    jsmpeg.prototype.recordedSize = 0;\n    jsmpeg.prototype.didStartRecordingCallback = null;\n\n    jsmpeg.prototype.recordBuffers = [];\n\n    jsmpeg.prototype.canRecord = function () {\n        return (this.client && this.client.readyState === this.client.OPEN);\n    };\n\n    jsmpeg.prototype.startRecording = function (callback) {\n        if (!this.canRecord()) {\n            return;\n        }\n        // Discard old buffers and set for recording\n        this.discardRecordBuffers();\n        this.isRecording = true;\n        this.recorderWaitForIntraFrame = true;\n        this.didStartRecordingCallback = callback || null;\n\n        this.recordedFrames = 0;\n        this.recordedSize = 0;\n\n        // Fudge a simple Sequence Header for the MPEG file\n\n        // 3 bytes width & height, 12 bits each\n        var wh1 = (this.width >> 4),\n            wh2 = ((this.width & 0xf) << 4) | (this.height >> 8),\n            wh3 = (this.height & 0xff);\n\n        this.recordBuffers.push(new Uint8Array([\n            0x00, 0x00, 0x01, 0xb3, // Sequence Start Code\n            wh1, wh2, wh3, // Width & height\n            0x13, // aspect ratio & framerate\n            0xff, 0xff, 0xe1, 0x58, // Meh. Bitrate and other boring stuff\n            0x00, 0x00, 0x01, 0xb8, 0x00, 0x08, 0x00, // GOP\n            0x00, 0x00, 0x00, 0x01, 0x00 // First Picture Start Code\n        ]));\n    };\n\n    jsmpeg.prototype.recordFrameFromCurrentBuffer = function () {\n        if (!this.isRecording) {\n            return;\n        }\n\n        if (this.recorderWaitForIntraFrame) {\n            // Not an intra frame? Exit.\n            if (this.pictureCodingType !== PICTURE_TYPE_I) {\n                return;\n            }\n\n            // Start recording!\n            this.recorderWaitForIntraFrame = false;\n            if (this.didStartRecordingCallback) {\n                this.didStartRecordingCallback(this);\n            }\n        }\n\n        this.recordedFrames++;\n        this.recordedSize += this.buffer.writePos;\n\n        // Copy the actual subrange for the current picture into a new Buffer\n        this.recordBuffers.push(new Uint8Array(this.buffer.bytes.subarray(0, this.buffer.writePos)));\n    };\n\n    jsmpeg.prototype.discardRecordBuffers = function () {\n        this.recordBuffers = [];\n        this.recordedFrames = 0;\n    };\n\n    jsmpeg.prototype.stopRecording = function () {\n        var blob = new Blob(this.recordBuffers, {type: 'video/mpeg'});\n        this.discardRecordBuffers();\n        this.isRecording = false;\n        return blob;\n    };\n\n\n// ----------------------------------------------------------------------------\n// Loading via Ajax\n\n    jsmpeg.prototype.intraFrames = [];\n    jsmpeg.prototype.currentFrame = -1;\n    jsmpeg.prototype.currentTime = 0;\n    jsmpeg.prototype.frameCount = 0;\n    jsmpeg.prototype.duration = 0;\n\n    jsmpeg.prototype.load = function (url) {\n        if (this.startLoadBool) return;\n        this.startLoadBool = true;\n        this.url = url;\n\n        var request = new XMLHttpRequest();\n        var that = this;\n        request.onreadystatechange = function () {\n            if (request.readyState == request.DONE && request.status == 200) {\n                that.loadCallback(request.response);\n            }\n        };\n\n        request.onprogress = this.updateLoader.bind(this);\n        request.open('GET', url);\n        request.responseType = \"arraybuffer\";\n        request.send();\n        if (this.externalStartLoadCallback) this.externalStartLoadCallback();\n    };\n\n    jsmpeg.prototype.updateLoader2D = function (ev) {\n        var\n            p = ev.loaded / ev.total,\n            w = this.canvas.width,\n            h = this.canvas.height,\n            ctx = this.canvasContext;\n        this._progress = p;\n        if (this.externalProgressCallback) {\n            this.externalProgressCallback(this._progress);\n        }\n\n\n        if (!this.progressShow) return;\n        ctx.fillStyle = '#222';\n        ctx.fillRect(0, 0, w, h);\n        ctx.fillStyle = '#fff';\n        ctx.fillRect(0, h - h * p, w, h * p);\n    };\n\n    jsmpeg.prototype.updateLoaderGL = function (ev) {\n        // console.log('updateLoaderGL',ev.loaded/ev.total);\n        this._progress = ev.loaded / ev.total;\n        if (this.externalProgressCallback) {\n            this.externalProgressCallback(this._progress);\n        }\n        if (!this.progressShow) return;\n        var gl = this.gl;\n        gl.uniform1f(gl.getUniformLocation(this.loadingProgram, 'loaded'), (ev.loaded / ev.total));\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    };\n\n    jsmpeg.prototype.loadCallback = function (file) {\n        console.log('loadCallback');\n        this.buffer = new BitReader(file);\n        if (this.seekable) {\n            this.collectIntraFrames();\n            this.buffer.index = 0;\n        }\n\n        this.findStartCode(START_SEQUENCE);\n        this.firstSequenceHeader = this.buffer.index;\n        this.decodeSequenceHeader();\n\n        // Calculate the duration. This only works if the video is seekable and we have a frame count\n        this.duration = this.frameCount / this.pictureRate;\n\n        // Load the first frame\n        this.nextFrame();\n\n        if (this.autoplay) {\n            this.play();\n        }\n\n        if (this.externalLoadCallback) {\n            this.externalLoadCallback(this);\n        }\n    };\n\n    jsmpeg.prototype.collectIntraFrames = function () {\n        // Loop through the whole buffer and collect all intraFrames to build our seek index.\n        // We also keep track of total frame count here\n        var frame;\n        for (frame = 0; this.findStartCode(START_PICTURE) !== BitReader.NOT_FOUND; frame++) {\n\n            // Check if the found picture is an intra frame and remember the position\n            this.buffer.advance(10); // skip temporalReference\n            if (this.buffer.getBits(3) === PICTURE_TYPE_I) {\n                // Remember index 13 bits back, before temporalReference and picture type\n                this.intraFrames.push({frame: frame, index: this.buffer.index - 13});\n            }\n        }\n        console.log('collectIntraFrames:', frame);\n        this.frameCount = frame;\n    };\n\n    jsmpeg.prototype.seekToFrame = function (seekFrame, seekExact) {\n        console.log('jsmpeg.prototype.seekToFrame:', seekFrame, this.frameCount, this.intraFrames.length);\n        console.log('seekToFrame Bool:', seekFrame < 0, seekFrame, this.frameCount, this.intraFrames.length);\n        if (seekFrame < 0 || seekFrame >= this.frameCount || !this.intraFrames.length) {\n            return false;\n        }\n\n        // Find the last intra frame before or equal to seek frame\n        var target = null;\n        for (var i = 0; i < this.intraFrames.length && this.intraFrames[i].frame <= seekFrame; i++) {\n            target = this.intraFrames[i];\n        }\n\n        this.buffer.index = target.index;\n        this.currentFrame = target.frame - 1;\n\n        // If we're seeking to the exact frame, we may have to decode some more frames before\n        // the one we want\n        if (seekExact) {\n            for (var frame = target.frame; frame < seekFrame; frame++) {\n                this.decodePicture(DECODE_SKIP_OUTPUT);\n                this.findStartCode(START_PICTURE);\n            }\n            this.currentFrame = seekFrame - 1;\n        }\n\n        // Decode and display the picture we have seeked to\n        this.decodePicture();\n\n        return true;\n    };\n\n    jsmpeg.prototype.seekToTime = function (time, seekExact) {\n        console.log('jsmpeg.prototype.seekToTime:', time, ((time * this.pictureRate) | 0), seekExact);\n        var _bool = this.seekToFrame((time * this.pictureRate) | 0, seekExact);\n        if (_bool && this.externalupAudioTimeCallback) {\n            this.externalupAudioTimeCallback(time);\n        }\n    };\n\n    jsmpeg.prototype.play = function () {\n        if (this.playing) {\n            return;\n        }\n\n        if (this.progressive) {\n            this.wantsToPlay = true;\n            this.attemptToPlay();\n        }\n        else {\n            this._playNow();\n        }\n    };\n\n    jsmpeg.prototype._playNow = function () {\n        this.targetTime = this.now();\n        this.playing = true;\n        if (this.externalplayCallback) this.externalplayCallback();\n        this.scheduleNextFrame();\n    };\n\n    jsmpeg.prototype.pause = function () {\n        this.playing = false;\n        this.wantsToPlay = false;\n        if (this.externalpauseCallback) this.externalpauseCallback();\n    };\n\n    jsmpeg.prototype.stop = function () {\n        this.currentFrame = -1;\n        this.currentTime = 0;\n        this.wantsToPlay = false;\n        if (this.buffer) {\n            this.buffer.index = this.firstSequenceHeader;\n        }\n        this.playing = false;\n        if (this.client) {\n            this.client.close();\n            this.client = null;\n        }\n    };\n\n\n// ----------------------------------------------------------------------------\n// Progressive loading via AJAX\n\n    jsmpeg.prototype.beginProgressiveLoad = function (url) {\n\n        if (this.startLoadBool) return;\n        this.startLoadBool = true;\n        console.log('mepg beginProgressiveLoad:', url);\n        this.url = url;\n\n        this.progressiveLoadPositon = 0;\n        this.fileSize = 0;\n\n        var request = new XMLHttpRequest();\n        var that = this;\n        request.onreadystatechange = function () {\n            if (request.readyState === request.DONE) {\n                that.fileSize = parseInt(request.getResponseHeader(\"Content-Length\"));\n                that.buffer = new BitReader(new ArrayBuffer(that.fileSize));\n                that.buffer.writePos = 0;\n                that.loadNextChunk();\n            }\n        };\n\n\n        request.open('HEAD', url);\n        request.send();\n        if (this.externalStartLoadCallback) this.externalStartLoadCallback();\n    };\n\n    jsmpeg.prototype.maybeLoadNextChunk = function () {\n        if (\n            !this.chunkIsLoading &&\n            (this.buffer.index >> 3) > this.nextChunkLoadAt &&\n            this.progressiveLoadFails < 5\n        ) {\n            this.loadNextChunk();\n        }\n    };\n\n    jsmpeg.prototype.loadNextChunk = function () {\n        var that = this;\n        var start = this.buffer.writePos,\n            end = Math.min(this.buffer.writePos + that.progressiveChunkSize - 1, this.fileSize - 1);\n\n        if (start >= this.fileSize) {\n            return;\n        }\n\n        this.chunkIsLoading = true;\n        this.chunkLoadStart = Date.now();\n        var request = new XMLHttpRequest();\n\n        request.onreadystatechange = function () {\n            if (\n                request.readyState === request.DONE &&\n                request.status > 200 && request.status < 300\n            ) {\n                that.progressiveLoadFails = 0;\n                that.progressiveLoadCallback(request.response);\n            }\n            else if (request.readyState === request.DONE) {\n                // retry\n                that.chunkIsLoading = false;\n                that.progressiveLoadFails++;\n                that.maybeLoadNextChunk();\n            }\n        };\n        console.log('loadNextChunk start:', start);\n        //改造这个加载进度，我要的是整个视频的加载进度\n        // if (start === 0) {\n        // \trequest.onprogress = this.updateLoader.bind(this);\n        // }\n        request.onprogress = onProgress.bind(that);\n\n        function onProgress(ev) {\n            if (start === 0) {\n                if (that.externalCanPlayProgressCallback) that.externalCanPlayProgressCallback(that.progress);\n            }\n            if (that.externalProgressCallback) {\n                var _progress = (start + ev.loaded) / that.fileSize;\n                that.externalProgressCallback(_progress);\n            }\n        }\n\n        request.open('GET', this.url + '?' + start + \"-\" + end);\n        request.setRequestHeader(\"Range\", \"bytes=\" + start + \"-\" + end);\n        request.responseType = \"arraybuffer\";\n        request.send();\n    };\n\n    jsmpeg.prototype.canPlayThrough = false;\n\n    jsmpeg.prototype.progressiveLoadCallback = function (data) {\n        console.log('progressiveLoadCallback');\n        this.chunkIsLoading = false;\n        var isFirstChunk = (this.buffer.writePos === 0);\n\n        var bytes = new Uint8Array(data);\n        this.buffer.bytes.set(bytes, this.buffer.writePos);\n        this.buffer.writePos += bytes.length;\n\n        if (isFirstChunk) {\n            this.findStartCode(START_SEQUENCE);\n            this.firstSequenceHeader = this.buffer.index;\n            this.decodeSequenceHeader();\n        }\n\n        var loadTime = (Date.now() - this.chunkLoadStart) / 1000;\n\n        // Throttled loading and playback did start already? Calculate when\n        // the next chunk needs to be loaded\n        var playIndex = (this.buffer.index >> 3);\n        var bytesPerSecondLoaded = bytes.length / loadTime;\n        var bytesPerSecondPlayed = 0;\n\n        if (this.currentTime > 0) {\n            bytesPerSecondPlayed = playIndex / this.currentTime;\n        }\n        else {\n            // Playback didn't start - we need to count the frames we got and estimate the bytes per second\n            var currentIndex = this.buffer.index;\n            this.buffer.index = (this.buffer.writePos - bytes.length) << 3;\n            var frames;\n            for (frames = 0; this.findStartCode(START_PICTURE) !== BitReader.NOT_FOUND; frames++) {\n            }\n            this.buffer.index = currentIndex;\n            bytesPerSecondPlayed = bytes.length / (frames / this.pictureRate);\n        }\n\n\n        var remainingTimeToPlay = (this.buffer.writePos - playIndex) / bytesPerSecondPlayed;\n        var remainingTimeToLoad = (this.fileSize - this.buffer.writePos) / bytesPerSecondLoaded;\n        var totalRemainingPlayTime = (this.fileSize - playIndex) / bytesPerSecondPlayed;\n        this.canPlayThrough = totalRemainingPlayTime > remainingTimeToLoad;\n\n        // Do we have a lot more remaining play time than we typically need for loading?\n        // -> Increase the chunk size for the next load\n        if (remainingTimeToPlay > loadTime * 8) {\n            this.progressiveChunkSize = Math.min(this.progressiveChunkSize * 2, this.progressiveChunkSizeMax);\n        }\n\n        // Start loading at the latest when only one chunk is left to play, but subtract twice as\n        // much bytes as the next chunk will take to load than it will to play\n        if (this.progressiveThrottled && this.canPlayThrough) {\n            this.nextChunkLoadAt = this.buffer.writePos\n                - this.progressiveChunkSize * 2\n                - this.progressiveChunkSize * (bytesPerSecondPlayed / bytesPerSecondLoaded) * 4;\n            // console.log('canPlayThrough');\n            this.externalcanPlayCallback && this.externalcanPlayCallback();\n            // console.log('externalcanPlayCallback:',this._progress);\n        }\n        else {\n            this.nextChunkLoadAt = 0;\n        }\n\n        if (this.buffer.writePos >= this.fileSize) {\n            // All loaded. We don't need to schedule another load\n            this.lastFrameIndex = this.buffer.writePos << 3;\n            this.canPlayThrough = true;\n            // console.log('progressiveLoadCallback:',this.seekable);\n            if (this.seekable) {\n                var currentBufferPos = this.buffer.index;\n                this.buffer.index = 0;\n                this.collectIntraFrames();\n                this.buffer.index = currentBufferPos;\n            }\n            if (this.externalLoadCallback) {\n                this.externalLoadCallback(this);\n            }\n        }\n        else {\n            this.lastFrameIndex = this.findLastPictureStartCode();\n            this.maybeLoadNextChunk();\n        }\n\n        this.attemptToPlay();\n    };\n\n    jsmpeg.prototype.findLastPictureStartCode = function () {\n        var bufferBytes = this.buffer.bytes;\n        for (var i = this.buffer.writePos; i > 3; i--) {\n            if (\n                bufferBytes[i] == START_PICTURE &&\n                bufferBytes[i - 1] == 0x01 &&\n                bufferBytes[i - 2] == 0x00 &&\n                bufferBytes[i - 3] == 0x00\n            ) {\n                return (i - 3) << 3;\n            }\n        }\n        return 0;\n    };\n\n    jsmpeg.prototype.attemptToPlay = function () {\n        if (this.playing || !this.wantsToPlay || !this.canPlayThrough) {\n            return;\n        }\n        this._playNow();\n    };\n\n\n// ----------------------------------------------------------------------------\n// Utilities\n\n    jsmpeg.prototype.readCode = function (codeTable) {\n        var state = 0;\n        do {\n            state = codeTable[state + this.buffer.getBits(1)];\n        } while (state >= 0 && codeTable[state] !== 0);\n        return codeTable[state + 2];\n    };\n\n    jsmpeg.prototype.findStartCode = function (code) {\n        var current = 0;\n        while (true) {\n            current = this.buffer.findNextMPEGStartCode();\n            if (current === code || current === BitReader.NOT_FOUND) {\n                return current;\n            }\n        }\n        return BitReader.NOT_FOUND;\n    };\n\n    jsmpeg.prototype.fillArray = function (a, value) {\n        for (var i = 0, length = a.length; i < length; i++) {\n            a[i] = value;\n        }\n    };\n\n\n// ----------------------------------------------------------------------------\n// Sequence Layer\n\n    jsmpeg.prototype.pictureRate = 30;\n    jsmpeg.prototype.lateTime = 0;\n    jsmpeg.prototype.firstSequenceHeader = 0;\n    jsmpeg.prototype.targetTime = 0;\n\n    jsmpeg.prototype.benchmark = false;\n    jsmpeg.prototype.benchFrame = 0;\n    jsmpeg.prototype.benchDecodeTimes = 0;\n    jsmpeg.prototype.benchAvgFrameTime = 0;\n\n    jsmpeg.prototype.now = function () {\n        return window.performance\n            ? window.performance.now()\n            : Date.now();\n    };\n\n    jsmpeg.prototype.nextFrame = function () {\n        if (!this.buffer) {\n            return;\n        }\n        if (!this.buffer.findNextMPEGStartCode) {\n            return;\n        }\n\n        var frameStart = this.now();\n        while (true) {\n            var code = this.buffer.findNextMPEGStartCode();\n\n            if (code === START_SEQUENCE) {\n                this.decodeSequenceHeader();\n            }\n            else if (code === START_PICTURE) {\n                if (this.progressive && this.buffer.index >= this.lastFrameIndex) {\n                    // Starved\n                    this.playing = false;\n                    this.maybeLoadNextChunk();\n                    return;\n                }\n\n                if (this.playing) {\n                    this.scheduleNextFrame();\n                }\n                this.decodePicture();\n                this.benchDecodeTimes += this.now() - frameStart;\n                return this.canvas;\n            }\n            else if (code === BitReader.NOT_FOUND) {\n                this.stop(); // Jump back to the beginning\n\n                if (this.externalFinishedCallback) {\n                    this.externalFinishedCallback(this);\n                }\n\n                // Only loop if we found a sequence header\n                if (this.loop && this.sequenceStarted) {\n                    this.play();\n                }\n                return null;\n            }\n            else {\n                // ignore (GROUP, USER_DATA, EXTENSION, SLICES...)\n            }\n        }\n    };\n\n    jsmpeg.prototype.scheduleNextFrame = function () {\n        this.lateTime = this.now() - this.targetTime;\n        var wait = Math.max(0, (1000 / this.pictureRate) - this.lateTime);\n        this.targetTime = this.now() + wait;\n\n        if (this.benchmark) {\n            this.benchFrame++;\n            if (this.benchFrame >= 120) {\n                this.benchAvgFrameTime = this.benchDecodeTimes / this.benchFrame;\n                this.benchFrame = 0;\n                this.benchDecodeTimes = 0;\n                if (window.console) {\n                    console.log('Average time per frame:', this.benchAvgFrameTime, 'ms');\n                }\n            }\n            setTimeout(this.nextFrame.bind(this), 0);\n        }\n        setTimeout(this.nextFrame.bind(this), Math.max(wait, 1));\n    };\n\n    jsmpeg.prototype.decodeSequenceHeader = function () {\n        this.width = this.buffer.getBits(12);\n        this.height = this.buffer.getBits(12);\n        this.buffer.advance(4); // skip pixel aspect ratio\n        this.pictureRate = PICTURE_RATE[this.buffer.getBits(4)];\n        this.buffer.advance(18 + 1 + 10 + 1); // skip bitRate, marker, bufferSize and constrained bit\n\n        this.initBuffers();\n\n        var i;\n\n        if (this.buffer.getBits(1)) { // load custom intra quant matrix?\n            for (i = 0; i < 64; i++) {\n                this.customIntraQuantMatrix[ZIG_ZAG[i]] = this.buffer.getBits(8);\n            }\n            this.intraQuantMatrix = this.customIntraQuantMatrix;\n        }\n\n        if (this.buffer.getBits(1)) { // load custom non intra quant matrix?\n            for (i = 0; i < 64; i++) {\n                this.customNonIntraQuantMatrix[ZIG_ZAG[i]] = this.buffer.getBits(8);\n            }\n            this.nonIntraQuantMatrix = this.customNonIntraQuantMatrix;\n        }\n    };\n\n    jsmpeg.prototype.initBuffers = function () {\n        this.intraQuantMatrix = DEFAULT_INTRA_QUANT_MATRIX;\n        this.nonIntraQuantMatrix = DEFAULT_NON_INTRA_QUANT_MATRIX;\n\n        this.mbWidth = (this.width + 15) >> 4;\n        this.mbHeight = (this.height + 15) >> 4;\n        this.mbSize = this.mbWidth * this.mbHeight;\n\n        this.codedWidth = this.mbWidth << 4;\n        this.codedHeight = this.mbHeight << 4;\n        this.codedSize = this.codedWidth * this.codedHeight;\n\n        this.halfWidth = this.mbWidth << 3;\n        this.halfHeight = this.mbHeight << 3;\n        this.quarterSize = this.codedSize >> 2;\n\n        // Sequence already started? Don't allocate buffers again\n        if (this.sequenceStarted) {\n            return;\n        }\n        this.sequenceStarted = true;\n\n\n        // Manually clamp values when writing macroblocks for shitty browsers\n        // that don't support Uint8ClampedArray\n        var MaybeClampedUint8Array = window.Uint8ClampedArray || window.Uint8Array;\n        if (!window.Uint8ClampedArray) {\n            this.copyBlockToDestination = this.copyBlockToDestinationClamp;\n            this.addBlockToDestination = this.addBlockToDestinationClamp;\n        }\n\n        // Allocated buffers and resize the canvas\n        this.currentY = new MaybeClampedUint8Array(this.codedSize);\n        this.currentY32 = new Uint32Array(this.currentY.buffer);\n\n        this.currentCr = new MaybeClampedUint8Array(this.codedSize >> 2);\n        this.currentCr32 = new Uint32Array(this.currentCr.buffer);\n\n        this.currentCb = new MaybeClampedUint8Array(this.codedSize >> 2);\n        this.currentCb32 = new Uint32Array(this.currentCb.buffer);\n\n\n        this.forwardY = new MaybeClampedUint8Array(this.codedSize);\n        this.forwardY32 = new Uint32Array(this.forwardY.buffer);\n\n        this.forwardCr = new MaybeClampedUint8Array(this.codedSize >> 2);\n        this.forwardCr32 = new Uint32Array(this.forwardCr.buffer);\n\n        this.forwardCb = new MaybeClampedUint8Array(this.codedSize >> 2);\n        this.forwardCb32 = new Uint32Array(this.forwardCb.buffer);\n\n        this.canvas.width = this.width;\n        this.canvas.height = this.height;\n\n        if (this.gl) {\n            this.gl.useProgram(this.program);\n            this.gl.viewport(0, 0, this.width, this.height);\n        }\n        else {\n            this.currentRGBA = this.canvasContext.getImageData(0, 0, this.width, this.height);\n            this.fillArray(this.currentRGBA.data, 255);\n        }\n    };\n\n\n// ----------------------------------------------------------------------------\n// Picture Layer\n\n    jsmpeg.prototype.currentY = null;\n    jsmpeg.prototype.currentCr = null;\n    jsmpeg.prototype.currentCb = null;\n\n    jsmpeg.prototype.currentRGBA = null;\n\n    jsmpeg.prototype.pictureCodingType = 0;\n\n// Buffers for motion compensation\n    jsmpeg.prototype.forwardY = null;\n    jsmpeg.prototype.forwardCr = null;\n    jsmpeg.prototype.forwardCb = null;\n\n    jsmpeg.prototype.fullPelForward = false;\n    jsmpeg.prototype.forwardFCode = 0;\n    jsmpeg.prototype.forwardRSize = 0;\n    jsmpeg.prototype.forwardF = 0;\n\n\n    jsmpeg.prototype.decodePicture = function (skipOutput) {\n        this.currentFrame++;\n        this.currentTime = this.currentFrame / this.pictureRate;\n\n        if (this.progressive) {\n            this.maybeLoadNextChunk();\n        }\n\n        this.buffer.advance(10); // skip temporalReference\n        this.pictureCodingType = this.buffer.getBits(3);\n        this.buffer.advance(16); // skip vbv_delay\n\n        // Skip B and D frames or unknown coding type\n        if (this.pictureCodingType <= 0 || this.pictureCodingType >= PICTURE_TYPE_B) {\n            return;\n        }\n\n        // full_pel_forward, forward_f_code\n        if (this.pictureCodingType === PICTURE_TYPE_P) {\n            this.fullPelForward = this.buffer.getBits(1);\n            this.forwardFCode = this.buffer.getBits(3);\n            if (this.forwardFCode === 0) {\n                // Ignore picture with zero forward_f_code\n                return;\n            }\n            this.forwardRSize = this.forwardFCode - 1;\n            this.forwardF = 1 << this.forwardRSize;\n        }\n\n        var code = 0;\n        do {\n            code = this.buffer.findNextMPEGStartCode();\n        } while (code === START_EXTENSION || code === START_USER_DATA);\n\n\n        while (code >= START_SLICE_FIRST && code <= START_SLICE_LAST) {\n            this.decodeSlice((code & 0x000000FF));\n            code = this.buffer.findNextMPEGStartCode();\n        }\n\n        // We found the next start code; rewind 32bits and let the main loop handle it.\n        this.buffer.rewind(32);\n\n        // Record this frame, if the recorder wants it\n        this.recordFrameFromCurrentBuffer();\n\n\n        if (skipOutput !== DECODE_SKIP_OUTPUT) {\n            this.renderFrame();\n\n            if (this.externalDecodeCallback) {\n                this.externalDecodeCallback(this, this.canvas);\n            }\n        }\n\n        // If this is a reference picutre then rotate the prediction pointers\n        if (this.pictureCodingType === PICTURE_TYPE_I || this.pictureCodingType === PICTURE_TYPE_P) {\n            var\n                tmpY = this.forwardY,\n                tmpY32 = this.forwardY32,\n                tmpCr = this.forwardCr,\n                tmpCr32 = this.forwardCr32,\n                tmpCb = this.forwardCb,\n                tmpCb32 = this.forwardCb32;\n\n            this.forwardY = this.currentY;\n            this.forwardY32 = this.currentY32;\n            this.forwardCr = this.currentCr;\n            this.forwardCr32 = this.currentCr32;\n            this.forwardCb = this.currentCb;\n            this.forwardCb32 = this.currentCb32;\n\n            this.currentY = tmpY;\n            this.currentY32 = tmpY32;\n            this.currentCr = tmpCr;\n            this.currentCr32 = tmpCr32;\n            this.currentCb = tmpCb;\n            this.currentCb32 = tmpCb32;\n        }\n    };\n\n    jsmpeg.prototype.YCbCrToRGBA = function () {\n        var pY = this.currentY;\n        var pCb = this.currentCb;\n        var pCr = this.currentCr;\n        var pRGBA = this.currentRGBA.data;\n\n        // Chroma values are the same for each block of 4 pixels, so we proccess\n        // 2 lines at a time, 2 neighboring pixels each.\n        // I wish we could use 32bit writes to the RGBA buffer instead of writing\n        // each byte separately, but we need the automatic clamping of the RGBA\n        // buffer.\n\n        var yIndex1 = 0;\n        var yIndex2 = this.codedWidth;\n        var yNext2Lines = this.codedWidth + (this.codedWidth - this.width);\n\n        var cIndex = 0;\n        var cNextLine = this.halfWidth - (this.width >> 1);\n\n        var rgbaIndex1 = 0;\n        var rgbaIndex2 = this.width * 4;\n        var rgbaNext2Lines = this.width * 4;\n\n        var cols = this.width >> 1;\n        var rows = this.height >> 1;\n\n        var cb, cr, r, g, b;\n\n        for (var row = 0; row < rows; row++) {\n            for (var col = 0; col < cols; col++) {\n                cb = pCb[cIndex];\n                cr = pCr[cIndex];\n                cIndex++;\n\n                r = (cr + ((cr * 103) >> 8)) - 179;\n                g = ((cb * 88) >> 8) - 44 + ((cr * 183) >> 8) - 91;\n                b = (cb + ((cb * 198) >> 8)) - 227;\n\n                // Line 1\n                var y1 = pY[yIndex1++];\n                var y2 = pY[yIndex1++];\n                pRGBA[rgbaIndex1] = y1 + r;\n                pRGBA[rgbaIndex1 + 1] = y1 - g;\n                pRGBA[rgbaIndex1 + 2] = y1 + b;\n                pRGBA[rgbaIndex1 + 4] = y2 + r;\n                pRGBA[rgbaIndex1 + 5] = y2 - g;\n                pRGBA[rgbaIndex1 + 6] = y2 + b;\n                rgbaIndex1 += 8;\n\n                // Line 2\n                var y3 = pY[yIndex2++];\n                var y4 = pY[yIndex2++];\n                pRGBA[rgbaIndex2] = y3 + r;\n                pRGBA[rgbaIndex2 + 1] = y3 - g;\n                pRGBA[rgbaIndex2 + 2] = y3 + b;\n                pRGBA[rgbaIndex2 + 4] = y4 + r;\n                pRGBA[rgbaIndex2 + 5] = y4 - g;\n                pRGBA[rgbaIndex2 + 6] = y4 + b;\n                rgbaIndex2 += 8;\n            }\n\n            yIndex1 += yNext2Lines;\n            yIndex2 += yNext2Lines;\n            rgbaIndex1 += rgbaNext2Lines;\n            rgbaIndex2 += rgbaNext2Lines;\n            cIndex += cNextLine;\n        }\n    };\n\n    jsmpeg.prototype.renderFrame2D = function () {\n        this.YCbCrToRGBA();\n        this.canvasContext.putImageData(this.currentRGBA, 0, 0);\n    };\n\n\n// ----------------------------------------------------------------------------\n// Accelerated WebGL YCbCrToRGBA conversion\n\n    jsmpeg.prototype.gl = null;\n    jsmpeg.prototype.program = null;\n    jsmpeg.prototype.YTexture = null;\n    jsmpeg.prototype.CBTexture = null;\n    jsmpeg.prototype.CRTexture = null;\n\n    jsmpeg.prototype.createTexture = function (index, name) {\n        var gl = this.gl;\n        var texture = gl.createTexture();\n\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        gl.uniform1i(gl.getUniformLocation(this.program, name), index);\n\n        return texture;\n    };\n\n    jsmpeg.prototype.compileShader = function (type, source) {\n        var gl = this.gl;\n        var shader = gl.createShader(type);\n        gl.shaderSource(shader, source);\n        gl.compileShader(shader);\n\n        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n            throw new Error(gl.getShaderInfoLog(shader));\n        }\n\n        return shader;\n    };\n\n    jsmpeg.prototype.initWebGL = function () {\n        var gl;\n\n        // attempt to get a webgl context\n        try {\n            gl = this.gl = this.canvas.getContext('webgl') || this.canvas.getContext('experimental-webgl');\n        } catch (e) {\n            return false;\n        }\n\n        if (!gl) {\n            return false;\n        }\n\n        // init buffers\n        this.buffer = gl.createBuffer();\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0, 0, 0, 1, 1, 0, 1, 1]), gl.STATIC_DRAW);\n\n        // The main YCbCrToRGBA Shader\n        this.program = gl.createProgram();\n        gl.attachShader(this.program, this.compileShader(gl.VERTEX_SHADER, SHADER_VERTEX_IDENTITY));\n        gl.attachShader(this.program, this.compileShader(gl.FRAGMENT_SHADER, SHADER_FRAGMENT_YCBCRTORGBA));\n        gl.linkProgram(this.program);\n\n        if (!gl.getProgramParameter(this.program, gl.LINK_STATUS)) {\n            throw new Error(gl.getProgramInfoLog(this.program));\n        }\n\n        gl.useProgram(this.program);\n\n        // setup textures\n        this.YTexture = this.createTexture(0, 'YTexture');\n        this.CBTexture = this.createTexture(1, 'CBTexture');\n        this.CRTexture = this.createTexture(2, 'CRTexture');\n\n        var vertexAttr = gl.getAttribLocation(this.program, 'vertex');\n        gl.enableVertexAttribArray(vertexAttr);\n        gl.vertexAttribPointer(vertexAttr, 2, gl.FLOAT, false, 0, 0);\n\n\n        // Shader for the loading screen\n        this.loadingProgram = gl.createProgram();\n        gl.attachShader(this.loadingProgram, this.compileShader(gl.VERTEX_SHADER, SHADER_VERTEX_IDENTITY));\n        gl.attachShader(this.loadingProgram, this.compileShader(gl.FRAGMENT_SHADER, SHADER_FRAGMENT_LOADING));\n        gl.linkProgram(this.loadingProgram);\n\n        gl.useProgram(this.loadingProgram);\n\n        vertexAttr = gl.getAttribLocation(this.loadingProgram, 'vertex');\n        gl.enableVertexAttribArray(vertexAttr);\n        gl.vertexAttribPointer(vertexAttr, 2, gl.FLOAT, false, 0, 0);\n\n        return true;\n    };\n\n    jsmpeg.prototype.renderFrameGL = function () {\n        var gl = this.gl;\n\n        // WebGL doesn't like Uint8ClampedArrays, so we have to create a Uint8Array view for\n        // each plane\n        var uint8Y = new Uint8Array(this.currentY.buffer),\n            uint8Cr = new Uint8Array(this.currentCr.buffer),\n            uint8Cb = new Uint8Array(this.currentCb.buffer);\n\n        gl.activeTexture(gl.TEXTURE0);\n        gl.bindTexture(gl.TEXTURE_2D, this.YTexture);\n\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.LUMINANCE, this.codedWidth, this.height, 0, gl.LUMINANCE, gl.UNSIGNED_BYTE, uint8Y);\n\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, this.CBTexture);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.LUMINANCE, this.halfWidth, this.height / 2, 0, gl.LUMINANCE, gl.UNSIGNED_BYTE, uint8Cr);\n\n        gl.activeTexture(gl.TEXTURE2);\n        gl.bindTexture(gl.TEXTURE_2D, this.CRTexture);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.LUMINANCE, this.halfWidth, this.height / 2, 0, gl.LUMINANCE, gl.UNSIGNED_BYTE, uint8Cb);\n\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    };\n\n\n// ----------------------------------------------------------------------------\n// Slice Layer\n\n    jsmpeg.prototype.quantizerScale = 0;\n    jsmpeg.prototype.sliceBegin = false;\n\n    jsmpeg.prototype.decodeSlice = function (slice) {\n        this.sliceBegin = true;\n        this.macroblockAddress = (slice - 1) * this.mbWidth - 1;\n\n        // Reset motion vectors and DC predictors\n        this.motionFwH = this.motionFwHPrev = 0;\n        this.motionFwV = this.motionFwVPrev = 0;\n        this.dcPredictorY = 128;\n        this.dcPredictorCr = 128;\n        this.dcPredictorCb = 128;\n\n        this.quantizerScale = this.buffer.getBits(5);\n\n        // skip extra bits\n        while (this.buffer.getBits(1)) {\n            this.buffer.advance(8);\n        }\n\n        do {\n            this.decodeMacroblock();\n            // We may have to ignore Video Stream Start Codes here (0xE0)!?\n        } while (!this.buffer.nextBytesAreStartCode());\n    };\n\n\n// ----------------------------------------------------------------------------\n// Macroblock Layer\n\n    jsmpeg.prototype.macroblockAddress = 0;\n    jsmpeg.prototype.mbRow = 0;\n    jsmpeg.prototype.mbCol = 0;\n\n    jsmpeg.prototype.macroblockType = 0;\n    jsmpeg.prototype.macroblockIntra = false;\n    jsmpeg.prototype.macroblockMotFw = false;\n\n    jsmpeg.prototype.motionFwH = 0;\n    jsmpeg.prototype.motionFwV = 0;\n    jsmpeg.prototype.motionFwHPrev = 0;\n    jsmpeg.prototype.motionFwVPrev = 0;\n\n    jsmpeg.prototype.decodeMacroblock = function () {\n        // Decode macroblock_address_increment\n        var\n            increment = 0,\n            t = this.readCode(MACROBLOCK_ADDRESS_INCREMENT);\n\n        while (t === 34) {\n            // macroblock_stuffing\n            t = this.readCode(MACROBLOCK_ADDRESS_INCREMENT);\n        }\n        while (t === 35) {\n            // macroblock_escape\n            increment += 33;\n            t = this.readCode(MACROBLOCK_ADDRESS_INCREMENT);\n        }\n        increment += t;\n\n        // Process any skipped macroblocks\n        if (this.sliceBegin) {\n            // The first macroblock_address_increment of each slice is relative\n            // to beginning of the preverious row, not the preverious macroblock\n            this.sliceBegin = false;\n            this.macroblockAddress += increment;\n        }\n        else {\n            if (this.macroblockAddress + increment >= this.mbSize) {\n                // Illegal (too large) macroblock_address_increment\n                return;\n            }\n            if (increment > 1) {\n                // Skipped macroblocks reset DC predictors\n                this.dcPredictorY = 128;\n                this.dcPredictorCr = 128;\n                this.dcPredictorCb = 128;\n\n                // Skipped macroblocks in P-pictures reset motion vectors\n                if (this.pictureCodingType === PICTURE_TYPE_P) {\n                    this.motionFwH = this.motionFwHPrev = 0;\n                    this.motionFwV = this.motionFwVPrev = 0;\n                }\n            }\n\n            // Predict skipped macroblocks\n            while (increment > 1) {\n                this.macroblockAddress++;\n                this.mbRow = (this.macroblockAddress / this.mbWidth) | 0;\n                this.mbCol = this.macroblockAddress % this.mbWidth;\n                this.copyMacroblock(this.motionFwH, this.motionFwV, this.forwardY, this.forwardCr, this.forwardCb);\n                increment--;\n            }\n            this.macroblockAddress++;\n        }\n        this.mbRow = (this.macroblockAddress / this.mbWidth) | 0;\n        this.mbCol = this.macroblockAddress % this.mbWidth;\n\n        // Process the current macroblock\n        this.macroblockType = this.readCode(MACROBLOCK_TYPE_TABLES[this.pictureCodingType]);\n        this.macroblockIntra = (this.macroblockType & 0x01);\n        this.macroblockMotFw = (this.macroblockType & 0x08);\n\n        // Quantizer scale\n        if ((this.macroblockType & 0x10) !== 0) {\n            this.quantizerScale = this.buffer.getBits(5);\n        }\n\n        if (this.macroblockIntra) {\n            // Intra-coded macroblocks reset motion vectors\n            this.motionFwH = this.motionFwHPrev = 0;\n            this.motionFwV = this.motionFwVPrev = 0;\n        }\n        else {\n            // Non-intra macroblocks reset DC predictors\n            this.dcPredictorY = 128;\n            this.dcPredictorCr = 128;\n            this.dcPredictorCb = 128;\n\n            this.decodeMotionVectors();\n            this.copyMacroblock(this.motionFwH, this.motionFwV, this.forwardY, this.forwardCr, this.forwardCb);\n        }\n\n        // Decode blocks\n        var cbp = ((this.macroblockType & 0x02) !== 0)\n            ? this.readCode(CODE_BLOCK_PATTERN)\n            : (this.macroblockIntra ? 0x3f : 0);\n\n        for (var block = 0, mask = 0x20; block < 6; block++) {\n            if ((cbp & mask) !== 0) {\n                this.decodeBlock(block);\n            }\n            mask >>= 1;\n        }\n    };\n\n\n    jsmpeg.prototype.decodeMotionVectors = function () {\n        var code, d, r = 0;\n\n        // Forward\n        if (this.macroblockMotFw) {\n            // Horizontal forward\n            code = this.readCode(MOTION);\n            if ((code !== 0) && (this.forwardF !== 1)) {\n                r = this.buffer.getBits(this.forwardRSize);\n                d = ((Math.abs(code) - 1) << this.forwardRSize) + r + 1;\n                if (code < 0) {\n                    d = -d;\n                }\n            }\n            else {\n                d = code;\n            }\n\n            this.motionFwHPrev += d;\n            if (this.motionFwHPrev > (this.forwardF << 4) - 1) {\n                this.motionFwHPrev -= this.forwardF << 5;\n            }\n            else if (this.motionFwHPrev < ((-this.forwardF) << 4)) {\n                this.motionFwHPrev += this.forwardF << 5;\n            }\n\n            this.motionFwH = this.motionFwHPrev;\n            if (this.fullPelForward) {\n                this.motionFwH <<= 1;\n            }\n\n            // Vertical forward\n            code = this.readCode(MOTION);\n            if ((code !== 0) && (this.forwardF !== 1)) {\n                r = this.buffer.getBits(this.forwardRSize);\n                d = ((Math.abs(code) - 1) << this.forwardRSize) + r + 1;\n                if (code < 0) {\n                    d = -d;\n                }\n            }\n            else {\n                d = code;\n            }\n\n            this.motionFwVPrev += d;\n            if (this.motionFwVPrev > (this.forwardF << 4) - 1) {\n                this.motionFwVPrev -= this.forwardF << 5;\n            }\n            else if (this.motionFwVPrev < ((-this.forwardF) << 4)) {\n                this.motionFwVPrev += this.forwardF << 5;\n            }\n\n            this.motionFwV = this.motionFwVPrev;\n            if (this.fullPelForward) {\n                this.motionFwV <<= 1;\n            }\n        }\n        else if (this.pictureCodingType === PICTURE_TYPE_P) {\n            // No motion information in P-picture, reset vectors\n            this.motionFwH = this.motionFwHPrev = 0;\n            this.motionFwV = this.motionFwVPrev = 0;\n        }\n    };\n\n    jsmpeg.prototype.copyMacroblock = function (motionH, motionV, sY, sCr, sCb) {\n        var\n            width, scan,\n            H, V, oddH, oddV,\n            src, dest, last;\n\n        // We use 32bit writes here\n        var dY = this.currentY32;\n        var dCb = this.currentCb32;\n        var dCr = this.currentCr32;\n\n        // Luminance\n        width = this.codedWidth;\n        scan = width - 16;\n\n        H = motionH >> 1;\n        V = motionV >> 1;\n        oddH = (motionH & 1) === 1;\n        oddV = (motionV & 1) === 1;\n\n        src = ((this.mbRow << 4) + V) * width + (this.mbCol << 4) + H;\n        dest = (this.mbRow * width + this.mbCol) << 2;\n        last = dest + (width << 2);\n\n        var x;\n        var y1, y2, y;\n        if (oddH) {\n            if (oddV) {\n                while (dest < last) {\n                    y1 = sY[src] + sY[src + width];\n                    src++;\n                    for (x = 0; x < 4; x++) {\n                        y2 = sY[src] + sY[src + width];\n                        src++;\n                        y = (((y1 + y2 + 2) >> 2) & 0xff);\n\n                        y1 = sY[src] + sY[src + width];\n                        src++;\n                        y |= (((y1 + y2 + 2) << 6) & 0xff00);\n\n                        y2 = sY[src] + sY[src + width];\n                        src++;\n                        y |= (((y1 + y2 + 2) << 14) & 0xff0000);\n\n                        y1 = sY[src] + sY[src + width];\n                        src++;\n                        y |= (((y1 + y2 + 2) << 22) & 0xff000000);\n\n                        dY[dest++] = y;\n                    }\n                    dest += scan >> 2;\n                    src += scan - 1;\n                }\n            }\n            else {\n                while (dest < last) {\n                    y1 = sY[src++];\n                    for (x = 0; x < 4; x++) {\n                        y2 = sY[src++];\n                        y = (((y1 + y2 + 1) >> 1) & 0xff);\n\n                        y1 = sY[src++];\n                        y |= (((y1 + y2 + 1) << 7) & 0xff00);\n\n                        y2 = sY[src++];\n                        y |= (((y1 + y2 + 1) << 15) & 0xff0000);\n\n                        y1 = sY[src++];\n                        y |= (((y1 + y2 + 1) << 23) & 0xff000000);\n\n                        dY[dest++] = y;\n                    }\n                    dest += scan >> 2;\n                    src += scan - 1;\n                }\n            }\n        }\n        else {\n            if (oddV) {\n                while (dest < last) {\n                    for (x = 0; x < 4; x++) {\n                        y = (((sY[src] + sY[src + width] + 1) >> 1) & 0xff);\n                        src++;\n                        y |= (((sY[src] + sY[src + width] + 1) << 7) & 0xff00);\n                        src++;\n                        y |= (((sY[src] + sY[src + width] + 1) << 15) & 0xff0000);\n                        src++;\n                        y |= (((sY[src] + sY[src + width] + 1) << 23) & 0xff000000);\n                        src++;\n\n                        dY[dest++] = y;\n                    }\n                    dest += scan >> 2;\n                    src += scan;\n                }\n            }\n            else {\n                while (dest < last) {\n                    for (x = 0; x < 4; x++) {\n                        y = sY[src];\n                        src++;\n                        y |= sY[src] << 8;\n                        src++;\n                        y |= sY[src] << 16;\n                        src++;\n                        y |= sY[src] << 24;\n                        src++;\n\n                        dY[dest++] = y;\n                    }\n                    dest += scan >> 2;\n                    src += scan;\n                }\n            }\n        }\n\n        // Chrominance\n\n        width = this.halfWidth;\n        scan = width - 8;\n\n        H = (motionH / 2) >> 1;\n        V = (motionV / 2) >> 1;\n        oddH = ((motionH / 2) & 1) === 1;\n        oddV = ((motionV / 2) & 1) === 1;\n\n        src = ((this.mbRow << 3) + V) * width + (this.mbCol << 3) + H;\n        dest = (this.mbRow * width + this.mbCol) << 1;\n        last = dest + (width << 1);\n\n        var cr1, cr2, cr;\n        var cb1, cb2, cb;\n        if (oddH) {\n            if (oddV) {\n                while (dest < last) {\n                    cr1 = sCr[src] + sCr[src + width];\n                    cb1 = sCb[src] + sCb[src + width];\n                    src++;\n                    for (x = 0; x < 2; x++) {\n                        cr2 = sCr[src] + sCr[src + width];\n                        cb2 = sCb[src] + sCb[src + width];\n                        src++;\n                        cr = (((cr1 + cr2 + 2) >> 2) & 0xff);\n                        cb = (((cb1 + cb2 + 2) >> 2) & 0xff);\n\n                        cr1 = sCr[src] + sCr[src + width];\n                        cb1 = sCb[src] + sCb[src + width];\n                        src++;\n                        cr |= (((cr1 + cr2 + 2) << 6) & 0xff00);\n                        cb |= (((cb1 + cb2 + 2) << 6) & 0xff00);\n\n                        cr2 = sCr[src] + sCr[src + width];\n                        cb2 = sCb[src] + sCb[src + width];\n                        src++;\n                        cr |= (((cr1 + cr2 + 2) << 14) & 0xff0000);\n                        cb |= (((cb1 + cb2 + 2) << 14) & 0xff0000);\n\n                        cr1 = sCr[src] + sCr[src + width];\n                        cb1 = sCb[src] + sCb[src + width];\n                        src++;\n                        cr |= (((cr1 + cr2 + 2) << 22) & 0xff000000);\n                        cb |= (((cb1 + cb2 + 2) << 22) & 0xff000000);\n\n                        dCr[dest] = cr;\n                        dCb[dest] = cb;\n                        dest++;\n                    }\n                    dest += scan >> 2;\n                    src += scan - 1;\n                }\n            }\n            else {\n                while (dest < last) {\n                    cr1 = sCr[src];\n                    cb1 = sCb[src];\n                    src++;\n                    for (x = 0; x < 2; x++) {\n                        cr2 = sCr[src];\n                        cb2 = sCb[src++];\n                        cr = (((cr1 + cr2 + 1) >> 1) & 0xff);\n                        cb = (((cb1 + cb2 + 1) >> 1) & 0xff);\n\n                        cr1 = sCr[src];\n                        cb1 = sCb[src++];\n                        cr |= (((cr1 + cr2 + 1) << 7) & 0xff00);\n                        cb |= (((cb1 + cb2 + 1) << 7) & 0xff00);\n\n                        cr2 = sCr[src];\n                        cb2 = sCb[src++];\n                        cr |= (((cr1 + cr2 + 1) << 15) & 0xff0000);\n                        cb |= (((cb1 + cb2 + 1) << 15) & 0xff0000);\n\n                        cr1 = sCr[src];\n                        cb1 = sCb[src++];\n                        cr |= (((cr1 + cr2 + 1) << 23) & 0xff000000);\n                        cb |= (((cb1 + cb2 + 1) << 23) & 0xff000000);\n\n                        dCr[dest] = cr;\n                        dCb[dest] = cb;\n                        dest++;\n                    }\n                    dest += scan >> 2;\n                    src += scan - 1;\n                }\n            }\n        }\n        else {\n            if (oddV) {\n                while (dest < last) {\n                    for (x = 0; x < 2; x++) {\n                        cr = (((sCr[src] + sCr[src + width] + 1) >> 1) & 0xff);\n                        cb = (((sCb[src] + sCb[src + width] + 1) >> 1) & 0xff);\n                        src++;\n\n                        cr |= (((sCr[src] + sCr[src + width] + 1) << 7) & 0xff00);\n                        cb |= (((sCb[src] + sCb[src + width] + 1) << 7) & 0xff00);\n                        src++;\n\n                        cr |= (((sCr[src] + sCr[src + width] + 1) << 15) & 0xff0000);\n                        cb |= (((sCb[src] + sCb[src + width] + 1) << 15) & 0xff0000);\n                        src++;\n\n                        cr |= (((sCr[src] + sCr[src + width] + 1) << 23) & 0xff000000);\n                        cb |= (((sCb[src] + sCb[src + width] + 1) << 23) & 0xff000000);\n                        src++;\n\n                        dCr[dest] = cr;\n                        dCb[dest] = cb;\n                        dest++;\n                    }\n                    dest += scan >> 2;\n                    src += scan;\n                }\n            }\n            else {\n                while (dest < last) {\n                    for (x = 0; x < 2; x++) {\n                        cr = sCr[src];\n                        cb = sCb[src];\n                        src++;\n\n                        cr |= sCr[src] << 8;\n                        cb |= sCb[src] << 8;\n                        src++;\n\n                        cr |= sCr[src] << 16;\n                        cb |= sCb[src] << 16;\n                        src++;\n\n                        cr |= sCr[src] << 24;\n                        cb |= sCb[src] << 24;\n                        src++;\n\n                        dCr[dest] = cr;\n                        dCb[dest] = cb;\n                        dest++;\n                    }\n                    dest += scan >> 2;\n                    src += scan;\n                }\n            }\n        }\n    };\n\n\n// ----------------------------------------------------------------------------\n// Block layer\n\n//jsmpeg.prototype.dcPredictorY;\n//jsmpeg.prototype.dcPredictorCr;\n//jsmpeg.prototype.dcPredictorCb;\n\n    jsmpeg.prototype.blockData = null;\n    jsmpeg.prototype.decodeBlock = function (block) {\n\n        var\n            n = 0,\n            quantMatrix;\n\n        // Decode DC coefficient of intra-coded blocks\n        if (this.macroblockIntra) {\n            var\n                predictor,\n                dctSize;\n\n            // DC prediction\n\n            if (block < 4) {\n                predictor = this.dcPredictorY;\n                dctSize = this.readCode(DCT_DC_SIZE_LUMINANCE);\n            }\n            else {\n                predictor = (block === 4 ? this.dcPredictorCr : this.dcPredictorCb);\n                dctSize = this.readCode(DCT_DC_SIZE_CHROMINANCE);\n            }\n\n            // Read DC coeff\n            if (dctSize > 0) {\n                var differential = this.buffer.getBits(dctSize);\n                if ((differential & (1 << (dctSize - 1))) !== 0) {\n                    this.blockData[0] = predictor + differential;\n                }\n                else {\n                    this.blockData[0] = predictor + ((-1 << dctSize) | (differential + 1));\n                }\n            }\n            else {\n                this.blockData[0] = predictor;\n            }\n\n            // Save predictor value\n            if (block < 4) {\n                this.dcPredictorY = this.blockData[0];\n            }\n            else if (block === 4) {\n                this.dcPredictorCr = this.blockData[0];\n            }\n            else {\n                this.dcPredictorCb = this.blockData[0];\n            }\n\n            // Dequantize + premultiply\n            this.blockData[0] <<= (3 + 5);\n\n            quantMatrix = this.intraQuantMatrix;\n            n = 1;\n        }\n        else {\n            quantMatrix = this.nonIntraQuantMatrix;\n        }\n\n        // Decode AC coefficients (+DC for non-intra)\n        var level = 0;\n        while (true) {\n            var\n                run = 0,\n                coeff = this.readCode(DCT_COEFF);\n\n            if ((coeff === 0x0001) && (n > 0) && (this.buffer.getBits(1) === 0)) {\n                // end_of_block\n                break;\n            }\n            if (coeff === 0xffff) {\n                // escape\n                run = this.buffer.getBits(6);\n                level = this.buffer.getBits(8);\n                if (level === 0) {\n                    level = this.buffer.getBits(8);\n                }\n                else if (level === 128) {\n                    level = this.buffer.getBits(8) - 256;\n                }\n                else if (level > 128) {\n                    level = level - 256;\n                }\n            }\n            else {\n                run = coeff >> 8;\n                level = coeff & 0xff;\n                if (this.buffer.getBits(1)) {\n                    level = -level;\n                }\n            }\n\n            n += run;\n            var dezigZagged = ZIG_ZAG[n];\n            n++;\n\n            // Dequantize, oddify, clip\n            level <<= 1;\n            if (!this.macroblockIntra) {\n                level += (level < 0 ? -1 : 1);\n            }\n            level = (level * this.quantizerScale * quantMatrix[dezigZagged]) >> 4;\n            if ((level & 1) === 0) {\n                level -= level > 0 ? 1 : -1;\n            }\n            if (level > 2047) {\n                level = 2047;\n            }\n            else if (level < -2048) {\n                level = -2048;\n            }\n\n            // Save premultiplied coefficient\n            this.blockData[dezigZagged] = level * PREMULTIPLIER_MATRIX[dezigZagged];\n        }\n\n        // Move block to its place\n        var\n            destArray,\n            destIndex,\n            scan;\n\n        if (block < 4) {\n            destArray = this.currentY;\n            scan = this.codedWidth - 8;\n            destIndex = (this.mbRow * this.codedWidth + this.mbCol) << 4;\n            if ((block & 1) !== 0) {\n                destIndex += 8;\n            }\n            if ((block & 2) !== 0) {\n                destIndex += this.codedWidth << 3;\n            }\n        }\n        else {\n            destArray = (block === 4) ? this.currentCb : this.currentCr;\n            scan = (this.codedWidth >> 1) - 8;\n            destIndex = ((this.mbRow * this.codedWidth) << 2) + (this.mbCol << 3);\n        }\n\n        if (this.macroblockIntra) {\n            // Overwrite (no prediction)\n            if (n === 1) {\n                this.copyValueToDestination((this.blockData[0] + 128) >> 8, destArray, destIndex, scan);\n                this.blockData[0] = 0;\n            } else {\n                this.IDCT();\n                this.copyBlockToDestination(this.blockData, destArray, destIndex, scan);\n                this.blockData.set(this.zeroBlockData);\n            }\n        }\n        else {\n            // Add data to the predicted macroblock\n            if (n === 1) {\n                this.addValueToDestination((this.blockData[0] + 128) >> 8, destArray, destIndex, scan);\n                this.blockData[0] = 0;\n            } else {\n                this.IDCT();\n                this.addBlockToDestination(this.blockData, destArray, destIndex, scan);\n                this.blockData.set(this.zeroBlockData);\n            }\n        }\n\n        n = 0;\n    };\n\n    jsmpeg.prototype.copyBlockToDestination = function (blockData, destArray, destIndex, scan) {\n        for (var n = 0; n < 64; n += 8, destIndex += scan + 8) {\n            destArray[destIndex + 0] = blockData[n + 0];\n            destArray[destIndex + 1] = blockData[n + 1];\n            destArray[destIndex + 2] = blockData[n + 2];\n            destArray[destIndex + 3] = blockData[n + 3];\n            destArray[destIndex + 4] = blockData[n + 4];\n            destArray[destIndex + 5] = blockData[n + 5];\n            destArray[destIndex + 6] = blockData[n + 6];\n            destArray[destIndex + 7] = blockData[n + 7];\n        }\n    };\n\n    jsmpeg.prototype.addBlockToDestination = function (blockData, destArray, destIndex, scan) {\n        for (var n = 0; n < 64; n += 8, destIndex += scan + 8) {\n            destArray[destIndex + 0] += blockData[n + 0];\n            destArray[destIndex + 1] += blockData[n + 1];\n            destArray[destIndex + 2] += blockData[n + 2];\n            destArray[destIndex + 3] += blockData[n + 3];\n            destArray[destIndex + 4] += blockData[n + 4];\n            destArray[destIndex + 5] += blockData[n + 5];\n            destArray[destIndex + 6] += blockData[n + 6];\n            destArray[destIndex + 7] += blockData[n + 7];\n        }\n    };\n\n    jsmpeg.prototype.copyValueToDestination = function (value, destArray, destIndex, scan) {\n        for (var n = 0; n < 64; n += 8, destIndex += scan + 8) {\n            destArray[destIndex + 0] = value;\n            destArray[destIndex + 1] = value;\n            destArray[destIndex + 2] = value;\n            destArray[destIndex + 3] = value;\n            destArray[destIndex + 4] = value;\n            destArray[destIndex + 5] = value;\n            destArray[destIndex + 6] = value;\n            destArray[destIndex + 7] = value;\n        }\n    };\n\n    jsmpeg.prototype.addValueToDestination = function (value, destArray, destIndex, scan) {\n        for (var n = 0; n < 64; n += 8, destIndex += scan + 8) {\n            destArray[destIndex + 0] += value;\n            destArray[destIndex + 1] += value;\n            destArray[destIndex + 2] += value;\n            destArray[destIndex + 3] += value;\n            destArray[destIndex + 4] += value;\n            destArray[destIndex + 5] += value;\n            destArray[destIndex + 6] += value;\n            destArray[destIndex + 7] += value;\n        }\n    };\n\n// Clamping version for shitty browsers (IE) that don't support Uint8ClampedArray\n    jsmpeg.prototype.copyBlockToDestinationClamp = function (blockData, destArray, destIndex, scan) {\n        var n = 0;\n        for (var i = 0; i < 8; i++) {\n            for (var j = 0; j < 8; j++) {\n                var p = blockData[n++];\n                destArray[destIndex++] = p > 255 ? 255 : (p < 0 ? 0 : p);\n            }\n            destIndex += scan;\n        }\n    };\n\n    jsmpeg.prototype.addBlockToDestinationClamp = function (blockData, destArray, destIndex, scan) {\n        var n = 0;\n        for (var i = 0; i < 8; i++) {\n            for (var j = 0; j < 8; j++) {\n                var p = blockData[n++] + destArray[destIndex];\n                destArray[destIndex++] = p > 255 ? 255 : (p < 0 ? 0 : p);\n            }\n            destIndex += scan;\n        }\n    };\n\n    jsmpeg.prototype.IDCT = function () {\n        // See http://vsr.informatik.tu-chemnitz.de/~jan/MPEG/HTML/IDCT.html\n        // for more info.\n\n        var\n            b1, b3, b4, b6, b7, tmp1, tmp2, m0,\n            x0, x1, x2, x3, x4, y3, y4, y5, y6, y7,\n            i,\n            blockData = this.blockData;\n\n        // Transform columns\n        for (i = 0; i < 8; ++i) {\n            b1 = blockData[4 * 8 + i];\n            b3 = blockData[2 * 8 + i] + blockData[6 * 8 + i];\n            b4 = blockData[5 * 8 + i] - blockData[3 * 8 + i];\n            tmp1 = blockData[1 * 8 + i] + blockData[7 * 8 + i];\n            tmp2 = blockData[3 * 8 + i] + blockData[5 * 8 + i];\n            b6 = blockData[1 * 8 + i] - blockData[7 * 8 + i];\n            b7 = tmp1 + tmp2;\n            m0 = blockData[0 * 8 + i];\n            x4 = ((b6 * 473 - b4 * 196 + 128) >> 8) - b7;\n            x0 = x4 - (((tmp1 - tmp2) * 362 + 128) >> 8);\n            x1 = m0 - b1;\n            x2 = (((blockData[2 * 8 + i] - blockData[6 * 8 + i]) * 362 + 128) >> 8) - b3;\n            x3 = m0 + b1;\n            y3 = x1 + x2;\n            y4 = x3 + b3;\n            y5 = x1 - x2;\n            y6 = x3 - b3;\n            y7 = -x0 - ((b4 * 473 + b6 * 196 + 128) >> 8);\n            blockData[0 * 8 + i] = b7 + y4;\n            blockData[1 * 8 + i] = x4 + y3;\n            blockData[2 * 8 + i] = y5 - x0;\n            blockData[3 * 8 + i] = y6 - y7;\n            blockData[4 * 8 + i] = y6 + y7;\n            blockData[5 * 8 + i] = x0 + y5;\n            blockData[6 * 8 + i] = y3 - x4;\n            blockData[7 * 8 + i] = y4 - b7;\n        }\n\n        // Transform rows\n        for (i = 0; i < 64; i += 8) {\n            b1 = blockData[4 + i];\n            b3 = blockData[2 + i] + blockData[6 + i];\n            b4 = blockData[5 + i] - blockData[3 + i];\n            tmp1 = blockData[1 + i] + blockData[7 + i];\n            tmp2 = blockData[3 + i] + blockData[5 + i];\n            b6 = blockData[1 + i] - blockData[7 + i];\n            b7 = tmp1 + tmp2;\n            m0 = blockData[0 + i];\n            x4 = ((b6 * 473 - b4 * 196 + 128) >> 8) - b7;\n            x0 = x4 - (((tmp1 - tmp2) * 362 + 128) >> 8);\n            x1 = m0 - b1;\n            x2 = (((blockData[2 + i] - blockData[6 + i]) * 362 + 128) >> 8) - b3;\n            x3 = m0 + b1;\n            y3 = x1 + x2;\n            y4 = x3 + b3;\n            y5 = x1 - x2;\n            y6 = x3 - b3;\n            y7 = -x0 - ((b4 * 473 + b6 * 196 + 128) >> 8);\n            blockData[0 + i] = (b7 + y4 + 128) >> 8;\n            blockData[1 + i] = (x4 + y3 + 128) >> 8;\n            blockData[2 + i] = (y5 - x0 + 128) >> 8;\n            blockData[3 + i] = (y6 - y7 + 128) >> 8;\n            blockData[4 + i] = (y6 + y7 + 128) >> 8;\n            blockData[5 + i] = (x0 + y5 + 128) >> 8;\n            blockData[6 + i] = (y3 - x4 + 128) >> 8;\n            blockData[7 + i] = (y4 - b7 + 128) >> 8;\n        }\n    };\n\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (exports) {\n            module.exports = jsmpeg\n        }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof exports !== 'undefined') {\n        module.exports = jsmpeg\n    }\n// ----------------------------------------------------------------------------\n// VLC Tables and Constants\n\n    var\n        SOCKET_MAGIC_BYTES = 'jsmp',\n        DECODE_SKIP_OUTPUT = 1,\n        PICTURE_RATE = [\n            0.000, 23.976, 24.000, 25.000, 29.970, 30.000, 50.000, 59.940,\n            60.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000, 0.000\n        ],\n        ZIG_ZAG = new Uint8Array([\n            0, 1, 8, 16, 9, 2, 3, 10,\n            17, 24, 32, 25, 18, 11, 4, 5,\n            12, 19, 26, 33, 40, 48, 41, 34,\n            27, 20, 13, 6, 7, 14, 21, 28,\n            35, 42, 49, 56, 57, 50, 43, 36,\n            29, 22, 15, 23, 30, 37, 44, 51,\n            58, 59, 52, 45, 38, 31, 39, 46,\n            53, 60, 61, 54, 47, 55, 62, 63\n        ]),\n        DEFAULT_INTRA_QUANT_MATRIX = new Uint8Array([\n            8, 16, 19, 22, 26, 27, 29, 34,\n            16, 16, 22, 24, 27, 29, 34, 37,\n            19, 22, 26, 27, 29, 34, 34, 38,\n            22, 22, 26, 27, 29, 34, 37, 40,\n            22, 26, 27, 29, 32, 35, 40, 48,\n            26, 27, 29, 32, 35, 40, 48, 58,\n            26, 27, 29, 34, 38, 46, 56, 69,\n            27, 29, 35, 38, 46, 56, 69, 83\n        ]),\n        DEFAULT_NON_INTRA_QUANT_MATRIX = new Uint8Array([\n            16, 16, 16, 16, 16, 16, 16, 16,\n            16, 16, 16, 16, 16, 16, 16, 16,\n            16, 16, 16, 16, 16, 16, 16, 16,\n            16, 16, 16, 16, 16, 16, 16, 16,\n            16, 16, 16, 16, 16, 16, 16, 16,\n            16, 16, 16, 16, 16, 16, 16, 16,\n            16, 16, 16, 16, 16, 16, 16, 16,\n            16, 16, 16, 16, 16, 16, 16, 16\n        ]),\n\n        PREMULTIPLIER_MATRIX = new Uint8Array([\n            32, 44, 42, 38, 32, 25, 17, 9,\n            44, 62, 58, 52, 44, 35, 24, 12,\n            42, 58, 55, 49, 42, 33, 23, 12,\n            38, 52, 49, 44, 38, 30, 20, 10,\n            32, 44, 42, 38, 32, 25, 17, 9,\n            25, 35, 33, 30, 25, 20, 14, 7,\n            17, 24, 23, 20, 17, 14, 9, 5,\n            9, 12, 12, 10, 9, 7, 5, 2\n        ]),\n\n        // MPEG-1 VLC\n\n        //  macroblock_stuffing decodes as 34.\n        //  macroblock_escape decodes as 35.\n\n        MACROBLOCK_ADDRESS_INCREMENT = new Int16Array([\n            1 * 3, 2 * 3, 0, //   0\n            3 * 3, 4 * 3, 0, //   1  0\n            0, 0, 1, //   2  1.\n            5 * 3, 6 * 3, 0, //   3  00\n            7 * 3, 8 * 3, 0, //   4  01\n            9 * 3, 10 * 3, 0, //   5  000\n            11 * 3, 12 * 3, 0, //   6  001\n            0, 0, 3, //   7  010.\n            0, 0, 2, //   8  011.\n            13 * 3, 14 * 3, 0, //   9  0000\n            15 * 3, 16 * 3, 0, //  10  0001\n            0, 0, 5, //  11  0010.\n            0, 0, 4, //  12  0011.\n            17 * 3, 18 * 3, 0, //  13  0000 0\n            19 * 3, 20 * 3, 0, //  14  0000 1\n            0, 0, 7, //  15  0001 0.\n            0, 0, 6, //  16  0001 1.\n            21 * 3, 22 * 3, 0, //  17  0000 00\n            23 * 3, 24 * 3, 0, //  18  0000 01\n            25 * 3, 26 * 3, 0, //  19  0000 10\n            27 * 3, 28 * 3, 0, //  20  0000 11\n            -1, 29 * 3, 0, //  21  0000 000\n            -1, 30 * 3, 0, //  22  0000 001\n            31 * 3, 32 * 3, 0, //  23  0000 010\n            33 * 3, 34 * 3, 0, //  24  0000 011\n            35 * 3, 36 * 3, 0, //  25  0000 100\n            37 * 3, 38 * 3, 0, //  26  0000 101\n            0, 0, 9, //  27  0000 110.\n            0, 0, 8, //  28  0000 111.\n            39 * 3, 40 * 3, 0, //  29  0000 0001\n            41 * 3, 42 * 3, 0, //  30  0000 0011\n            43 * 3, 44 * 3, 0, //  31  0000 0100\n            45 * 3, 46 * 3, 0, //  32  0000 0101\n            0, 0, 15, //  33  0000 0110.\n            0, 0, 14, //  34  0000 0111.\n            0, 0, 13, //  35  0000 1000.\n            0, 0, 12, //  36  0000 1001.\n            0, 0, 11, //  37  0000 1010.\n            0, 0, 10, //  38  0000 1011.\n            47 * 3, -1, 0, //  39  0000 0001 0\n            -1, 48 * 3, 0, //  40  0000 0001 1\n            49 * 3, 50 * 3, 0, //  41  0000 0011 0\n            51 * 3, 52 * 3, 0, //  42  0000 0011 1\n            53 * 3, 54 * 3, 0, //  43  0000 0100 0\n            55 * 3, 56 * 3, 0, //  44  0000 0100 1\n            57 * 3, 58 * 3, 0, //  45  0000 0101 0\n            59 * 3, 60 * 3, 0, //  46  0000 0101 1\n            61 * 3, -1, 0, //  47  0000 0001 00\n            -1, 62 * 3, 0, //  48  0000 0001 11\n            63 * 3, 64 * 3, 0, //  49  0000 0011 00\n            65 * 3, 66 * 3, 0, //  50  0000 0011 01\n            67 * 3, 68 * 3, 0, //  51  0000 0011 10\n            69 * 3, 70 * 3, 0, //  52  0000 0011 11\n            71 * 3, 72 * 3, 0, //  53  0000 0100 00\n            73 * 3, 74 * 3, 0, //  54  0000 0100 01\n            0, 0, 21, //  55  0000 0100 10.\n            0, 0, 20, //  56  0000 0100 11.\n            0, 0, 19, //  57  0000 0101 00.\n            0, 0, 18, //  58  0000 0101 01.\n            0, 0, 17, //  59  0000 0101 10.\n            0, 0, 16, //  60  0000 0101 11.\n            0, 0, 35, //  61  0000 0001 000. -- macroblock_escape\n            0, 0, 34, //  62  0000 0001 111. -- macroblock_stuffing\n            0, 0, 33, //  63  0000 0011 000.\n            0, 0, 32, //  64  0000 0011 001.\n            0, 0, 31, //  65  0000 0011 010.\n            0, 0, 30, //  66  0000 0011 011.\n            0, 0, 29, //  67  0000 0011 100.\n            0, 0, 28, //  68  0000 0011 101.\n            0, 0, 27, //  69  0000 0011 110.\n            0, 0, 26, //  70  0000 0011 111.\n            0, 0, 25, //  71  0000 0100 000.\n            0, 0, 24, //  72  0000 0100 001.\n            0, 0, 23, //  73  0000 0100 010.\n            0, 0, 22  //  74  0000 0100 011.\n        ]),\n\n        //  macroblock_type bitmap:\n        //    0x10  macroblock_quant\n        //    0x08  macroblock_motion_forward\n        //    0x04  macroblock_motion_backward\n        //    0x02  macrobkock_pattern\n        //    0x01  macroblock_intra\n        //\n\n        MACROBLOCK_TYPE_I = new Int8Array([\n            1 * 3, 2 * 3, 0, //   0\n            -1, 3 * 3, 0, //   1  0\n            0, 0, 0x01, //   2  1.\n            0, 0, 0x11  //   3  01.\n        ]),\n\n        MACROBLOCK_TYPE_P = new Int8Array([\n            1 * 3, 2 * 3, 0, //  0\n            3 * 3, 4 * 3, 0, //  1  0\n            0, 0, 0x0a, //  2  1.\n            5 * 3, 6 * 3, 0, //  3  00\n            0, 0, 0x02, //  4  01.\n            7 * 3, 8 * 3, 0, //  5  000\n            0, 0, 0x08, //  6  001.\n            9 * 3, 10 * 3, 0, //  7  0000\n            11 * 3, 12 * 3, 0, //  8  0001\n            -1, 13 * 3, 0, //  9  00000\n            0, 0, 0x12, // 10  00001.\n            0, 0, 0x1a, // 11  00010.\n            0, 0, 0x01, // 12  00011.\n            0, 0, 0x11  // 13  000001.\n        ]),\n\n        MACROBLOCK_TYPE_B = new Int8Array([\n            1 * 3, 2 * 3, 0,  //  0\n            3 * 3, 5 * 3, 0,  //  1  0\n            4 * 3, 6 * 3, 0,  //  2  1\n            8 * 3, 7 * 3, 0,  //  3  00\n            0, 0, 0x0c,  //  4  10.\n            9 * 3, 10 * 3, 0,  //  5  01\n            0, 0, 0x0e,  //  6  11.\n            13 * 3, 14 * 3, 0,  //  7  001\n            12 * 3, 11 * 3, 0,  //  8  000\n            0, 0, 0x04,  //  9  010.\n            0, 0, 0x06,  // 10  011.\n            18 * 3, 16 * 3, 0,  // 11  0001\n            15 * 3, 17 * 3, 0,  // 12  0000\n            0, 0, 0x08,  // 13  0010.\n            0, 0, 0x0a,  // 14  0011.\n            -1, 19 * 3, 0,  // 15  00000\n            0, 0, 0x01,  // 16  00011.\n            20 * 3, 21 * 3, 0,  // 17  00001\n            0, 0, 0x1e,  // 18  00010.\n            0, 0, 0x11,  // 19  000001.\n            0, 0, 0x16,  // 20  000010.\n            0, 0, 0x1a   // 21  000011.\n        ]),\n\n        CODE_BLOCK_PATTERN = new Int16Array([\n            2 * 3, 1 * 3, 0,  //   0\n            3 * 3, 6 * 3, 0,  //   1  1\n            4 * 3, 5 * 3, 0,  //   2  0\n            8 * 3, 11 * 3, 0,  //   3  10\n            12 * 3, 13 * 3, 0,  //   4  00\n            9 * 3, 7 * 3, 0,  //   5  01\n            10 * 3, 14 * 3, 0,  //   6  11\n            20 * 3, 19 * 3, 0,  //   7  011\n            18 * 3, 16 * 3, 0,  //   8  100\n            23 * 3, 17 * 3, 0,  //   9  010\n            27 * 3, 25 * 3, 0,  //  10  110\n            21 * 3, 28 * 3, 0,  //  11  101\n            15 * 3, 22 * 3, 0,  //  12  000\n            24 * 3, 26 * 3, 0,  //  13  001\n            0, 0, 60,  //  14  111.\n            35 * 3, 40 * 3, 0,  //  15  0000\n            44 * 3, 48 * 3, 0,  //  16  1001\n            38 * 3, 36 * 3, 0,  //  17  0101\n            42 * 3, 47 * 3, 0,  //  18  1000\n            29 * 3, 31 * 3, 0,  //  19  0111\n            39 * 3, 32 * 3, 0,  //  20  0110\n            0, 0, 32,  //  21  1010.\n            45 * 3, 46 * 3, 0,  //  22  0001\n            33 * 3, 41 * 3, 0,  //  23  0100\n            43 * 3, 34 * 3, 0,  //  24  0010\n            0, 0, 4,  //  25  1101.\n            30 * 3, 37 * 3, 0,  //  26  0011\n            0, 0, 8,  //  27  1100.\n            0, 0, 16,  //  28  1011.\n            0, 0, 44,  //  29  0111 0.\n            50 * 3, 56 * 3, 0,  //  30  0011 0\n            0, 0, 28,  //  31  0111 1.\n            0, 0, 52,  //  32  0110 1.\n            0, 0, 62,  //  33  0100 0.\n            61 * 3, 59 * 3, 0,  //  34  0010 1\n            52 * 3, 60 * 3, 0,  //  35  0000 0\n            0, 0, 1,  //  36  0101 1.\n            55 * 3, 54 * 3, 0,  //  37  0011 1\n            0, 0, 61,  //  38  0101 0.\n            0, 0, 56,  //  39  0110 0.\n            57 * 3, 58 * 3, 0,  //  40  0000 1\n            0, 0, 2,  //  41  0100 1.\n            0, 0, 40,  //  42  1000 0.\n            51 * 3, 62 * 3, 0,  //  43  0010 0\n            0, 0, 48,  //  44  1001 0.\n            64 * 3, 63 * 3, 0,  //  45  0001 0\n            49 * 3, 53 * 3, 0,  //  46  0001 1\n            0, 0, 20,  //  47  1000 1.\n            0, 0, 12,  //  48  1001 1.\n            80 * 3, 83 * 3, 0,  //  49  0001 10\n            0, 0, 63,  //  50  0011 00.\n            77 * 3, 75 * 3, 0,  //  51  0010 00\n            65 * 3, 73 * 3, 0,  //  52  0000 00\n            84 * 3, 66 * 3, 0,  //  53  0001 11\n            0, 0, 24,  //  54  0011 11.\n            0, 0, 36,  //  55  0011 10.\n            0, 0, 3,  //  56  0011 01.\n            69 * 3, 87 * 3, 0,  //  57  0000 10\n            81 * 3, 79 * 3, 0,  //  58  0000 11\n            68 * 3, 71 * 3, 0,  //  59  0010 11\n            70 * 3, 78 * 3, 0,  //  60  0000 01\n            67 * 3, 76 * 3, 0,  //  61  0010 10\n            72 * 3, 74 * 3, 0,  //  62  0010 01\n            86 * 3, 85 * 3, 0,  //  63  0001 01\n            88 * 3, 82 * 3, 0,  //  64  0001 00\n            -1, 94 * 3, 0,  //  65  0000 000\n            95 * 3, 97 * 3, 0,  //  66  0001 111\n            0, 0, 33,  //  67  0010 100.\n            0, 0, 9,  //  68  0010 110.\n            106 * 3, 110 * 3, 0,  //  69  0000 100\n            102 * 3, 116 * 3, 0,  //  70  0000 010\n            0, 0, 5,  //  71  0010 111.\n            0, 0, 10,  //  72  0010 010.\n            93 * 3, 89 * 3, 0,  //  73  0000 001\n            0, 0, 6,  //  74  0010 011.\n            0, 0, 18,  //  75  0010 001.\n            0, 0, 17,  //  76  0010 101.\n            0, 0, 34,  //  77  0010 000.\n            113 * 3, 119 * 3, 0,  //  78  0000 011\n            103 * 3, 104 * 3, 0,  //  79  0000 111\n            90 * 3, 92 * 3, 0,  //  80  0001 100\n            109 * 3, 107 * 3, 0,  //  81  0000 110\n            117 * 3, 118 * 3, 0,  //  82  0001 001\n            101 * 3, 99 * 3, 0,  //  83  0001 101\n            98 * 3, 96 * 3, 0,  //  84  0001 110\n            100 * 3, 91 * 3, 0,  //  85  0001 011\n            114 * 3, 115 * 3, 0,  //  86  0001 010\n            105 * 3, 108 * 3, 0,  //  87  0000 101\n            112 * 3, 111 * 3, 0,  //  88  0001 000\n            121 * 3, 125 * 3, 0,  //  89  0000 0011\n            0, 0, 41,  //  90  0001 1000.\n            0, 0, 14,  //  91  0001 0111.\n            0, 0, 21,  //  92  0001 1001.\n            124 * 3, 122 * 3, 0,  //  93  0000 0010\n            120 * 3, 123 * 3, 0,  //  94  0000 0001\n            0, 0, 11,  //  95  0001 1110.\n            0, 0, 19,  //  96  0001 1101.\n            0, 0, 7,  //  97  0001 1111.\n            0, 0, 35,  //  98  0001 1100.\n            0, 0, 13,  //  99  0001 1011.\n            0, 0, 50,  // 100  0001 0110.\n            0, 0, 49,  // 101  0001 1010.\n            0, 0, 58,  // 102  0000 0100.\n            0, 0, 37,  // 103  0000 1110.\n            0, 0, 25,  // 104  0000 1111.\n            0, 0, 45,  // 105  0000 1010.\n            0, 0, 57,  // 106  0000 1000.\n            0, 0, 26,  // 107  0000 1101.\n            0, 0, 29,  // 108  0000 1011.\n            0, 0, 38,  // 109  0000 1100.\n            0, 0, 53,  // 110  0000 1001.\n            0, 0, 23,  // 111  0001 0001.\n            0, 0, 43,  // 112  0001 0000.\n            0, 0, 46,  // 113  0000 0110.\n            0, 0, 42,  // 114  0001 0100.\n            0, 0, 22,  // 115  0001 0101.\n            0, 0, 54,  // 116  0000 0101.\n            0, 0, 51,  // 117  0001 0010.\n            0, 0, 15,  // 118  0001 0011.\n            0, 0, 30,  // 119  0000 0111.\n            0, 0, 39,  // 120  0000 0001 0.\n            0, 0, 47,  // 121  0000 0011 0.\n            0, 0, 55,  // 122  0000 0010 1.\n            0, 0, 27,  // 123  0000 0001 1.\n            0, 0, 59,  // 124  0000 0010 0.\n            0, 0, 31   // 125  0000 0011 1.\n        ]),\n\n        MOTION = new Int16Array([\n            1 * 3, 2 * 3, 0,  //   0\n            4 * 3, 3 * 3, 0,  //   1  0\n            0, 0, 0,  //   2  1.\n            6 * 3, 5 * 3, 0,  //   3  01\n            8 * 3, 7 * 3, 0,  //   4  00\n            0, 0, -1,  //   5  011.\n            0, 0, 1,  //   6  010.\n            9 * 3, 10 * 3, 0,  //   7  001\n            12 * 3, 11 * 3, 0,  //   8  000\n            0, 0, 2,  //   9  0010.\n            0, 0, -2,  //  10  0011.\n            14 * 3, 15 * 3, 0,  //  11  0001\n            16 * 3, 13 * 3, 0,  //  12  0000\n            20 * 3, 18 * 3, 0,  //  13  0000 1\n            0, 0, 3,  //  14  0001 0.\n            0, 0, -3,  //  15  0001 1.\n            17 * 3, 19 * 3, 0,  //  16  0000 0\n            -1, 23 * 3, 0,  //  17  0000 00\n            27 * 3, 25 * 3, 0,  //  18  0000 11\n            26 * 3, 21 * 3, 0,  //  19  0000 01\n            24 * 3, 22 * 3, 0,  //  20  0000 10\n            32 * 3, 28 * 3, 0,  //  21  0000 011\n            29 * 3, 31 * 3, 0,  //  22  0000 101\n            -1, 33 * 3, 0,  //  23  0000 001\n            36 * 3, 35 * 3, 0,  //  24  0000 100\n            0, 0, -4,  //  25  0000 111.\n            30 * 3, 34 * 3, 0,  //  26  0000 010\n            0, 0, 4,  //  27  0000 110.\n            0, 0, -7,  //  28  0000 0111.\n            0, 0, 5,  //  29  0000 1010.\n            37 * 3, 41 * 3, 0,  //  30  0000 0100\n            0, 0, -5,  //  31  0000 1011.\n            0, 0, 7,  //  32  0000 0110.\n            38 * 3, 40 * 3, 0,  //  33  0000 0011\n            42 * 3, 39 * 3, 0,  //  34  0000 0101\n            0, 0, -6,  //  35  0000 1001.\n            0, 0, 6,  //  36  0000 1000.\n            51 * 3, 54 * 3, 0,  //  37  0000 0100 0\n            50 * 3, 49 * 3, 0,  //  38  0000 0011 0\n            45 * 3, 46 * 3, 0,  //  39  0000 0101 1\n            52 * 3, 47 * 3, 0,  //  40  0000 0011 1\n            43 * 3, 53 * 3, 0,  //  41  0000 0100 1\n            44 * 3, 48 * 3, 0,  //  42  0000 0101 0\n            0, 0, 10,  //  43  0000 0100 10.\n            0, 0, 9,  //  44  0000 0101 00.\n            0, 0, 8,  //  45  0000 0101 10.\n            0, 0, -8,  //  46  0000 0101 11.\n            57 * 3, 66 * 3, 0,  //  47  0000 0011 11\n            0, 0, -9,  //  48  0000 0101 01.\n            60 * 3, 64 * 3, 0,  //  49  0000 0011 01\n            56 * 3, 61 * 3, 0,  //  50  0000 0011 00\n            55 * 3, 62 * 3, 0,  //  51  0000 0100 00\n            58 * 3, 63 * 3, 0,  //  52  0000 0011 10\n            0, 0, -10,  //  53  0000 0100 11.\n            59 * 3, 65 * 3, 0,  //  54  0000 0100 01\n            0, 0, 12,  //  55  0000 0100 000.\n            0, 0, 16,  //  56  0000 0011 000.\n            0, 0, 13,  //  57  0000 0011 110.\n            0, 0, 14,  //  58  0000 0011 100.\n            0, 0, 11,  //  59  0000 0100 010.\n            0, 0, 15,  //  60  0000 0011 010.\n            0, 0, -16,  //  61  0000 0011 001.\n            0, 0, -12,  //  62  0000 0100 001.\n            0, 0, -14,  //  63  0000 0011 101.\n            0, 0, -15,  //  64  0000 0011 011.\n            0, 0, -11,  //  65  0000 0100 011.\n            0, 0, -13   //  66  0000 0011 111.\n        ]),\n\n        DCT_DC_SIZE_LUMINANCE = new Int8Array([\n            2 * 3, 1 * 3, 0,  //   0\n            6 * 3, 5 * 3, 0,  //   1  1\n            3 * 3, 4 * 3, 0,  //   2  0\n            0, 0, 1,  //   3  00.\n            0, 0, 2,  //   4  01.\n            9 * 3, 8 * 3, 0,  //   5  11\n            7 * 3, 10 * 3, 0,  //   6  10\n            0, 0, 0,  //   7  100.\n            12 * 3, 11 * 3, 0,  //   8  111\n            0, 0, 4,  //   9  110.\n            0, 0, 3,  //  10  101.\n            13 * 3, 14 * 3, 0,  //  11  1111\n            0, 0, 5,  //  12  1110.\n            0, 0, 6,  //  13  1111 0.\n            16 * 3, 15 * 3, 0,  //  14  1111 1\n            17 * 3, -1, 0,  //  15  1111 11\n            0, 0, 7,  //  16  1111 10.\n            0, 0, 8   //  17  1111 110.\n        ]),\n\n        DCT_DC_SIZE_CHROMINANCE = new Int8Array([\n            2 * 3, 1 * 3, 0,  //   0\n            4 * 3, 3 * 3, 0,  //   1  1\n            6 * 3, 5 * 3, 0,  //   2  0\n            8 * 3, 7 * 3, 0,  //   3  11\n            0, 0, 2,  //   4  10.\n            0, 0, 1,  //   5  01.\n            0, 0, 0,  //   6  00.\n            10 * 3, 9 * 3, 0,  //   7  111\n            0, 0, 3,  //   8  110.\n            12 * 3, 11 * 3, 0,  //   9  1111\n            0, 0, 4,  //  10  1110.\n            14 * 3, 13 * 3, 0,  //  11  1111 1\n            0, 0, 5,  //  12  1111 0.\n            16 * 3, 15 * 3, 0,  //  13  1111 11\n            0, 0, 6,  //  14  1111 10.\n            17 * 3, -1, 0,  //  15  1111 111\n            0, 0, 7,  //  16  1111 110.\n            0, 0, 8   //  17  1111 1110.\n        ]),\n\n        //  dct_coeff bitmap:\n        //    0xff00  run\n        //    0x00ff  level\n\n        //  Decoded values are unsigned. Sign bit follows in the stream.\n\n        //  Interpretation of the value 0x0001\n        //    for dc_coeff_first:  run=0, level=1\n        //    for dc_coeff_next:   If the next bit is 1: run=0, level=1\n        //                         If the next bit is 0: end_of_block\n\n        //  escape decodes as 0xffff.\n\n        DCT_COEFF = new Int32Array([\n            1 * 3, 2 * 3, 0,  //   0\n            4 * 3, 3 * 3, 0,  //   1  0\n            0, 0, 0x0001,  //   2  1.\n            7 * 3, 8 * 3, 0,  //   3  01\n            6 * 3, 5 * 3, 0,  //   4  00\n            13 * 3, 9 * 3, 0,  //   5  001\n            11 * 3, 10 * 3, 0,  //   6  000\n            14 * 3, 12 * 3, 0,  //   7  010\n            0, 0, 0x0101,  //   8  011.\n            20 * 3, 22 * 3, 0,  //   9  0011\n            18 * 3, 21 * 3, 0,  //  10  0001\n            16 * 3, 19 * 3, 0,  //  11  0000\n            0, 0, 0x0201,  //  12  0101.\n            17 * 3, 15 * 3, 0,  //  13  0010\n            0, 0, 0x0002,  //  14  0100.\n            0, 0, 0x0003,  //  15  0010 1.\n            27 * 3, 25 * 3, 0,  //  16  0000 0\n            29 * 3, 31 * 3, 0,  //  17  0010 0\n            24 * 3, 26 * 3, 0,  //  18  0001 0\n            32 * 3, 30 * 3, 0,  //  19  0000 1\n            0, 0, 0x0401,  //  20  0011 0.\n            23 * 3, 28 * 3, 0,  //  21  0001 1\n            0, 0, 0x0301,  //  22  0011 1.\n            0, 0, 0x0102,  //  23  0001 10.\n            0, 0, 0x0701,  //  24  0001 00.\n            0, 0, 0xffff,  //  25  0000 01. -- escape\n            0, 0, 0x0601,  //  26  0001 01.\n            37 * 3, 36 * 3, 0,  //  27  0000 00\n            0, 0, 0x0501,  //  28  0001 11.\n            35 * 3, 34 * 3, 0,  //  29  0010 00\n            39 * 3, 38 * 3, 0,  //  30  0000 11\n            33 * 3, 42 * 3, 0,  //  31  0010 01\n            40 * 3, 41 * 3, 0,  //  32  0000 10\n            52 * 3, 50 * 3, 0,  //  33  0010 010\n            54 * 3, 53 * 3, 0,  //  34  0010 001\n            48 * 3, 49 * 3, 0,  //  35  0010 000\n            43 * 3, 45 * 3, 0,  //  36  0000 001\n            46 * 3, 44 * 3, 0,  //  37  0000 000\n            0, 0, 0x0801,  //  38  0000 111.\n            0, 0, 0x0004,  //  39  0000 110.\n            0, 0, 0x0202,  //  40  0000 100.\n            0, 0, 0x0901,  //  41  0000 101.\n            51 * 3, 47 * 3, 0,  //  42  0010 011\n            55 * 3, 57 * 3, 0,  //  43  0000 0010\n            60 * 3, 56 * 3, 0,  //  44  0000 0001\n            59 * 3, 58 * 3, 0,  //  45  0000 0011\n            61 * 3, 62 * 3, 0,  //  46  0000 0000\n            0, 0, 0x0a01,  //  47  0010 0111.\n            0, 0, 0x0d01,  //  48  0010 0000.\n            0, 0, 0x0006,  //  49  0010 0001.\n            0, 0, 0x0103,  //  50  0010 0101.\n            0, 0, 0x0005,  //  51  0010 0110.\n            0, 0, 0x0302,  //  52  0010 0100.\n            0, 0, 0x0b01,  //  53  0010 0011.\n            0, 0, 0x0c01,  //  54  0010 0010.\n            76 * 3, 75 * 3, 0,  //  55  0000 0010 0\n            67 * 3, 70 * 3, 0,  //  56  0000 0001 1\n            73 * 3, 71 * 3, 0,  //  57  0000 0010 1\n            78 * 3, 74 * 3, 0,  //  58  0000 0011 1\n            72 * 3, 77 * 3, 0,  //  59  0000 0011 0\n            69 * 3, 64 * 3, 0,  //  60  0000 0001 0\n            68 * 3, 63 * 3, 0,  //  61  0000 0000 0\n            66 * 3, 65 * 3, 0,  //  62  0000 0000 1\n            81 * 3, 87 * 3, 0,  //  63  0000 0000 01\n            91 * 3, 80 * 3, 0,  //  64  0000 0001 01\n            82 * 3, 79 * 3, 0,  //  65  0000 0000 11\n            83 * 3, 86 * 3, 0,  //  66  0000 0000 10\n            93 * 3, 92 * 3, 0,  //  67  0000 0001 10\n            84 * 3, 85 * 3, 0,  //  68  0000 0000 00\n            90 * 3, 94 * 3, 0,  //  69  0000 0001 00\n            88 * 3, 89 * 3, 0,  //  70  0000 0001 11\n            0, 0, 0x0203,  //  71  0000 0010 11.\n            0, 0, 0x0104,  //  72  0000 0011 00.\n            0, 0, 0x0007,  //  73  0000 0010 10.\n            0, 0, 0x0402,  //  74  0000 0011 11.\n            0, 0, 0x0502,  //  75  0000 0010 01.\n            0, 0, 0x1001,  //  76  0000 0010 00.\n            0, 0, 0x0f01,  //  77  0000 0011 01.\n            0, 0, 0x0e01,  //  78  0000 0011 10.\n            105 * 3, 107 * 3, 0,  //  79  0000 0000 111\n            111 * 3, 114 * 3, 0,  //  80  0000 0001 011\n            104 * 3, 97 * 3, 0,  //  81  0000 0000 010\n            125 * 3, 119 * 3, 0,  //  82  0000 0000 110\n            96 * 3, 98 * 3, 0,  //  83  0000 0000 100\n            -1, 123 * 3, 0,  //  84  0000 0000 000\n            95 * 3, 101 * 3, 0,  //  85  0000 0000 001\n            106 * 3, 121 * 3, 0,  //  86  0000 0000 101\n            99 * 3, 102 * 3, 0,  //  87  0000 0000 011\n            113 * 3, 103 * 3, 0,  //  88  0000 0001 110\n            112 * 3, 116 * 3, 0,  //  89  0000 0001 111\n            110 * 3, 100 * 3, 0,  //  90  0000 0001 000\n            124 * 3, 115 * 3, 0,  //  91  0000 0001 010\n            117 * 3, 122 * 3, 0,  //  92  0000 0001 101\n            109 * 3, 118 * 3, 0,  //  93  0000 0001 100\n            120 * 3, 108 * 3, 0,  //  94  0000 0001 001\n            127 * 3, 136 * 3, 0,  //  95  0000 0000 0010\n            139 * 3, 140 * 3, 0,  //  96  0000 0000 1000\n            130 * 3, 126 * 3, 0,  //  97  0000 0000 0101\n            145 * 3, 146 * 3, 0,  //  98  0000 0000 1001\n            128 * 3, 129 * 3, 0,  //  99  0000 0000 0110\n            0, 0, 0x0802,  // 100  0000 0001 0001.\n            132 * 3, 134 * 3, 0,  // 101  0000 0000 0011\n            155 * 3, 154 * 3, 0,  // 102  0000 0000 0111\n            0, 0, 0x0008,  // 103  0000 0001 1101.\n            137 * 3, 133 * 3, 0,  // 104  0000 0000 0100\n            143 * 3, 144 * 3, 0,  // 105  0000 0000 1110\n            151 * 3, 138 * 3, 0,  // 106  0000 0000 1010\n            142 * 3, 141 * 3, 0,  // 107  0000 0000 1111\n            0, 0, 0x000a,  // 108  0000 0001 0011.\n            0, 0, 0x0009,  // 109  0000 0001 1000.\n            0, 0, 0x000b,  // 110  0000 0001 0000.\n            0, 0, 0x1501,  // 111  0000 0001 0110.\n            0, 0, 0x0602,  // 112  0000 0001 1110.\n            0, 0, 0x0303,  // 113  0000 0001 1100.\n            0, 0, 0x1401,  // 114  0000 0001 0111.\n            0, 0, 0x0702,  // 115  0000 0001 0101.\n            0, 0, 0x1101,  // 116  0000 0001 1111.\n            0, 0, 0x1201,  // 117  0000 0001 1010.\n            0, 0, 0x1301,  // 118  0000 0001 1001.\n            148 * 3, 152 * 3, 0,  // 119  0000 0000 1101\n            0, 0, 0x0403,  // 120  0000 0001 0010.\n            153 * 3, 150 * 3, 0,  // 121  0000 0000 1011\n            0, 0, 0x0105,  // 122  0000 0001 1011.\n            131 * 3, 135 * 3, 0,  // 123  0000 0000 0001\n            0, 0, 0x0204,  // 124  0000 0001 0100.\n            149 * 3, 147 * 3, 0,  // 125  0000 0000 1100\n            172 * 3, 173 * 3, 0,  // 126  0000 0000 0101 1\n            162 * 3, 158 * 3, 0,  // 127  0000 0000 0010 0\n            170 * 3, 161 * 3, 0,  // 128  0000 0000 0110 0\n            168 * 3, 166 * 3, 0,  // 129  0000 0000 0110 1\n            157 * 3, 179 * 3, 0,  // 130  0000 0000 0101 0\n            169 * 3, 167 * 3, 0,  // 131  0000 0000 0001 0\n            174 * 3, 171 * 3, 0,  // 132  0000 0000 0011 0\n            178 * 3, 177 * 3, 0,  // 133  0000 0000 0100 1\n            156 * 3, 159 * 3, 0,  // 134  0000 0000 0011 1\n            164 * 3, 165 * 3, 0,  // 135  0000 0000 0001 1\n            183 * 3, 182 * 3, 0,  // 136  0000 0000 0010 1\n            175 * 3, 176 * 3, 0,  // 137  0000 0000 0100 0\n            0, 0, 0x0107,  // 138  0000 0000 1010 1.\n            0, 0, 0x0a02,  // 139  0000 0000 1000 0.\n            0, 0, 0x0902,  // 140  0000 0000 1000 1.\n            0, 0, 0x1601,  // 141  0000 0000 1111 1.\n            0, 0, 0x1701,  // 142  0000 0000 1111 0.\n            0, 0, 0x1901,  // 143  0000 0000 1110 0.\n            0, 0, 0x1801,  // 144  0000 0000 1110 1.\n            0, 0, 0x0503,  // 145  0000 0000 1001 0.\n            0, 0, 0x0304,  // 146  0000 0000 1001 1.\n            0, 0, 0x000d,  // 147  0000 0000 1100 1.\n            0, 0, 0x000c,  // 148  0000 0000 1101 0.\n            0, 0, 0x000e,  // 149  0000 0000 1100 0.\n            0, 0, 0x000f,  // 150  0000 0000 1011 1.\n            0, 0, 0x0205,  // 151  0000 0000 1010 0.\n            0, 0, 0x1a01,  // 152  0000 0000 1101 1.\n            0, 0, 0x0106,  // 153  0000 0000 1011 0.\n            180 * 3, 181 * 3, 0,  // 154  0000 0000 0111 1\n            160 * 3, 163 * 3, 0,  // 155  0000 0000 0111 0\n            196 * 3, 199 * 3, 0,  // 156  0000 0000 0011 10\n            0, 0, 0x001b,  // 157  0000 0000 0101 00.\n            203 * 3, 185 * 3, 0,  // 158  0000 0000 0010 01\n            202 * 3, 201 * 3, 0,  // 159  0000 0000 0011 11\n            0, 0, 0x0013,  // 160  0000 0000 0111 00.\n            0, 0, 0x0016,  // 161  0000 0000 0110 01.\n            197 * 3, 207 * 3, 0,  // 162  0000 0000 0010 00\n            0, 0, 0x0012,  // 163  0000 0000 0111 01.\n            191 * 3, 192 * 3, 0,  // 164  0000 0000 0001 10\n            188 * 3, 190 * 3, 0,  // 165  0000 0000 0001 11\n            0, 0, 0x0014,  // 166  0000 0000 0110 11.\n            184 * 3, 194 * 3, 0,  // 167  0000 0000 0001 01\n            0, 0, 0x0015,  // 168  0000 0000 0110 10.\n            186 * 3, 193 * 3, 0,  // 169  0000 0000 0001 00\n            0, 0, 0x0017,  // 170  0000 0000 0110 00.\n            204 * 3, 198 * 3, 0,  // 171  0000 0000 0011 01\n            0, 0, 0x0019,  // 172  0000 0000 0101 10.\n            0, 0, 0x0018,  // 173  0000 0000 0101 11.\n            200 * 3, 205 * 3, 0,  // 174  0000 0000 0011 00\n            0, 0, 0x001f,  // 175  0000 0000 0100 00.\n            0, 0, 0x001e,  // 176  0000 0000 0100 01.\n            0, 0, 0x001c,  // 177  0000 0000 0100 11.\n            0, 0, 0x001d,  // 178  0000 0000 0100 10.\n            0, 0, 0x001a,  // 179  0000 0000 0101 01.\n            0, 0, 0x0011,  // 180  0000 0000 0111 10.\n            0, 0, 0x0010,  // 181  0000 0000 0111 11.\n            189 * 3, 206 * 3, 0,  // 182  0000 0000 0010 11\n            187 * 3, 195 * 3, 0,  // 183  0000 0000 0010 10\n            218 * 3, 211 * 3, 0,  // 184  0000 0000 0001 010\n            0, 0, 0x0025,  // 185  0000 0000 0010 011.\n            215 * 3, 216 * 3, 0,  // 186  0000 0000 0001 000\n            0, 0, 0x0024,  // 187  0000 0000 0010 100.\n            210 * 3, 212 * 3, 0,  // 188  0000 0000 0001 110\n            0, 0, 0x0022,  // 189  0000 0000 0010 110.\n            213 * 3, 209 * 3, 0,  // 190  0000 0000 0001 111\n            221 * 3, 222 * 3, 0,  // 191  0000 0000 0001 100\n            219 * 3, 208 * 3, 0,  // 192  0000 0000 0001 101\n            217 * 3, 214 * 3, 0,  // 193  0000 0000 0001 001\n            223 * 3, 220 * 3, 0,  // 194  0000 0000 0001 011\n            0, 0, 0x0023,  // 195  0000 0000 0010 101.\n            0, 0, 0x010b,  // 196  0000 0000 0011 100.\n            0, 0, 0x0028,  // 197  0000 0000 0010 000.\n            0, 0, 0x010c,  // 198  0000 0000 0011 011.\n            0, 0, 0x010a,  // 199  0000 0000 0011 101.\n            0, 0, 0x0020,  // 200  0000 0000 0011 000.\n            0, 0, 0x0108,  // 201  0000 0000 0011 111.\n            0, 0, 0x0109,  // 202  0000 0000 0011 110.\n            0, 0, 0x0026,  // 203  0000 0000 0010 010.\n            0, 0, 0x010d,  // 204  0000 0000 0011 010.\n            0, 0, 0x010e,  // 205  0000 0000 0011 001.\n            0, 0, 0x0021,  // 206  0000 0000 0010 111.\n            0, 0, 0x0027,  // 207  0000 0000 0010 001.\n            0, 0, 0x1f01,  // 208  0000 0000 0001 1011.\n            0, 0, 0x1b01,  // 209  0000 0000 0001 1111.\n            0, 0, 0x1e01,  // 210  0000 0000 0001 1100.\n            0, 0, 0x1002,  // 211  0000 0000 0001 0101.\n            0, 0, 0x1d01,  // 212  0000 0000 0001 1101.\n            0, 0, 0x1c01,  // 213  0000 0000 0001 1110.\n            0, 0, 0x010f,  // 214  0000 0000 0001 0011.\n            0, 0, 0x0112,  // 215  0000 0000 0001 0000.\n            0, 0, 0x0111,  // 216  0000 0000 0001 0001.\n            0, 0, 0x0110,  // 217  0000 0000 0001 0010.\n            0, 0, 0x0603,  // 218  0000 0000 0001 0100.\n            0, 0, 0x0b02,  // 219  0000 0000 0001 1010.\n            0, 0, 0x0e02,  // 220  0000 0000 0001 0111.\n            0, 0, 0x0d02,  // 221  0000 0000 0001 1000.\n            0, 0, 0x0c02,  // 222  0000 0000 0001 1001.\n            0, 0, 0x0f02   // 223  0000 0000 0001 0110.\n        ]),\n\n        PICTURE_TYPE_I = 1,\n        PICTURE_TYPE_P = 2,\n        PICTURE_TYPE_B = 3,\n        //PICTURE_TYPE_D = 4,\n\n        START_SEQUENCE = 0xB3,\n        START_SLICE_FIRST = 0x01,\n        START_SLICE_LAST = 0xAF,\n        START_PICTURE = 0x00,\n        START_EXTENSION = 0xB5,\n        START_USER_DATA = 0xB2,\n\n        // Shaders for accelerated WebGL YCbCrToRGBA conversion\n        SHADER_FRAGMENT_YCBCRTORGBA = [\n            'precision mediump float;',\n            'uniform sampler2D YTexture;',\n            'uniform sampler2D CBTexture;',\n            'uniform sampler2D CRTexture;',\n            'varying vec2 texCoord;',\n\n            'void main() {',\n            'float y = texture2D(YTexture, texCoord).r;',\n            'float cr = texture2D(CBTexture, texCoord).r - 0.5;',\n            'float cb = texture2D(CRTexture, texCoord).r - 0.5;',\n\n            'gl_FragColor = vec4(',\n            'y + 1.4 * cr,',\n            'y + -0.343 * cb - 0.711 * cr,',\n            'y + 1.765 * cb,',\n            '1.0',\n            ');',\n            '}'\n        ].join('\\n'),\n\n        SHADER_FRAGMENT_LOADING = [\n            'precision mediump float;',\n            'uniform float loaded;',\n            'varying vec2 texCoord;',\n\n            'void main() {',\n            'float c = ceil(loaded-(1.0-texCoord.y));',\n            'gl_FragColor = vec4(c,c,c,1);',\n            '}'\n        ].join('\\n'),\n\n        SHADER_VERTEX_IDENTITY = [\n            'attribute vec2 vertex;',\n            'varying vec2 texCoord;',\n\n            'void main() {',\n            'texCoord = vertex;',\n            'gl_Position = vec4((vertex * 2.0 - 1.0) * vec2(1, -1), 0.0, 1.0);',\n            '}'\n        ].join('\\n');\n\n    var MACROBLOCK_TYPE_TABLES = [\n        null,\n        MACROBLOCK_TYPE_I,\n        MACROBLOCK_TYPE_P,\n        MACROBLOCK_TYPE_B\n    ];\n\n\n// ----------------------------------------------------------------------------\n// Bit Reader\n\n    var BitReader = function (arrayBuffer) {\n        this.bytes = new Uint8Array(arrayBuffer);\n        this.length = this.bytes.length;\n        this.writePos = this.bytes.length;\n        this.index = 0;\n    };\n\n    BitReader.NOT_FOUND = -1;\n\n    BitReader.prototype.findNextMPEGStartCode = function () {\n        for (var i = (this.index + 7 >> 3); i < this.writePos; i++) {\n            if (\n                this.bytes[i] === 0x00 &&\n                this.bytes[i + 1] === 0x00 &&\n                this.bytes[i + 2] === 0x01\n            ) {\n                this.index = (i + 4) << 3;\n                return this.bytes[i + 3];\n            }\n        }\n        this.index = (this.writePos << 3);\n        return BitReader.NOT_FOUND;\n    };\n\n    BitReader.prototype.nextBytesAreStartCode = function () {\n        var i = (this.index + 7 >> 3);\n        return (\n            i >= this.writePos || (\n                this.bytes[i] === 0x00 &&\n                this.bytes[i + 1] === 0x00 &&\n                this.bytes[i + 2] === 0x01\n            )\n        );\n    };\n\n    BitReader.prototype.nextBits = function (count) {\n        var\n            byteOffset = this.index >> 3,\n            room = (8 - this.index % 8);\n\n        if (room >= count) {\n            return (this.bytes[byteOffset] >> (room - count)) & (0xff >> (8 - count));\n        }\n\n        var\n            leftover = (this.index + count) % 8, // Leftover bits in last byte\n            end = (this.index + count - 1) >> 3,\n            value = this.bytes[byteOffset] & (0xff >> (8 - room)); // Fill out first byte\n\n        for (byteOffset++; byteOffset < end; byteOffset++) {\n            value <<= 8; // Shift and\n            value |= this.bytes[byteOffset]; // Put next byte\n        }\n\n        if (leftover > 0) {\n            value <<= leftover; // Make room for remaining bits\n            value |= (this.bytes[byteOffset] >> (8 - leftover));\n        }\n        else {\n            value <<= 8;\n            value |= this.bytes[byteOffset];\n        }\n\n        return value;\n    };\n\n    BitReader.prototype.getBits = function (count) {\n        var value = this.nextBits(count);\n        this.index += count;\n        return value;\n    };\n\n    BitReader.prototype.advance = function (count) {\n        return (this.index += count);\n    };\n\n    BitReader.prototype.rewind = function (count) {\n        return (this.index -= count);\n    };\n\n})(window);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/libs/media/jsmpg.js\n// module id = 126\n// module chunks = 2\n\n//# sourceURL=webpack:///./source/libs/media/jsmpg.js?")},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(process, global) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof2 = __webpack_require__(5);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n!function (factory) {\n\n    var root = typeof window !== 'undefined' ? window : (typeof process === 'undefined' ? 'undefined' : (0, _typeof3.default)(process)) === 'object' && \"function\" === 'function' && (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) === 'object' ? global : this;\n\n    if (true) {\n\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (exports) {\n\n            module.exports = factory(root, exports);\n        }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof exports !== 'undefined') {\n\n        module.exports = factory(root, exports);\n    } else {\n\n        factory(root, {});\n    }\n}(function (root, Model) {\n\n    var ds = root.ds = root.ds || {};\n    ds.ui = ds.ui || {};\n\n    ds.ui.AutoHorizontalScreenContainer = AutoHorizontalScreenContainer;\n\n    /**\n     * DOM 强制横屏自适应\n     * @class ds.ui.AutoHorizontalScreenContainer\n     * @param {HTMLElement|string} dom 需要转换成强制横屏的dom容器，不传会自动创建一个\n     * @requires zepto.js 或者 jquery.js\n     */\n    function AutoHorizontalScreenContainer(dom) {\n\n        var _self = this;\n\n        ds.EventDispatcher.extend(this);\n\n        var _el;\n        /**\n         * dom容器\n         * @member {HTMLElement} ds.ui.AutoHorizontalScreenContainer.prototype.el\n         */\n        Object.defineProperty(this, \"el\", {\n            get: function get() {\n                return _el;\n            }\n        });\n\n        if (dom === undefined) _el = $(document.createElement('div'));else _el = $(dom);\n\n        var _css = {\n            \"-webkit-transform-origin\": '0 0',\n            \"transform-origin\": '0 0',\n            position: 'absolute',\n            left: 0,\n            top: 0,\n            overflow: 'hidden'\n        };\n\n        _el.css(_css);\n\n        var _widths = [640, 1138];\n        var _width, _height, _actualH, _pageScale, _isInputState, _horizontal, _screenWidth, _densityDpi;\n\n        /**\n         * 自适应方法\n         * @method ds.ui.AutoHorizontalScreenContainer.prototype.resize\n         * @function\n         */\n        this.resize = function () {\n\n            if (SiteModel && SiteModel.resizeModel) {\n                var _resizeModel = SiteModel.resizeModel;\n                _width = _resizeModel.width;\n                _height = _resizeModel.height;\n                _actualH = _resizeModel.actualH;\n                _pageScale = _resizeModel.pageScale;\n                _isInputState = _resizeModel.isInputState;\n                _horizontal = _resizeModel.horizontal;\n                _screenWidth = _resizeModel.screenWidth;\n                _densityDpi = _resizeModel.densityDpi;\n            } else {\n\n                //重置viewport\n                _densityDpi = ds.core.MoblieResizeModel.resetViewporte();\n                //自适应后的相关数据\n                var _resizeData = ds.core.MoblieResizeModel.getResizeData('auto', _widths);\n\n                _width = _resizeData.width;\n                _height = _resizeData.height;\n                _isInputState = _resizeData.isInputState;\n                _horizontal = _resizeData.horizontal;\n                _pageScale = _resizeData.pageScale;\n                _actualH = _resizeData.actualH;\n                _screenWidth = _resizeData.screenWidth;\n            }\n\n            if (_screenWidth == 1138) {\n\n                _self.width = _screenWidth;\n                _self.height = _actualH;\n                _el.css({\n                    \"-webkit-transform\": 'rotate(0deg)',\n                    \"-moz-transform\": 'rotate(0deg)',\n                    \"transform\": 'rotate(0deg)'\n                });\n            } else {\n\n                _self.width = _actualH;\n                _self.height = _screenWidth;\n                _el.css({\n                    \"-webkit-transform\": 'rotate(90deg) translate(0px,-' + _self.height + 'px)',\n                    \"-moz-transform\": 'rotate(90deg) translate(0px,-' + _self.height + 'px)',\n                    \"transform\": 'rotate(90deg) translate(0px,-' + _self.height + 'px)'\n                });\n            }\n\n            _el.css({\n                width: _self.width,\n                height: _self.height\n            });\n\n            /**\n             * 自适应更新\n             * @event ds.ui.AutoHorizontalScreenContainer#resize\n             */\n            _self.ds('resize');\n        };\n\n        function iniResize() {\n\n            //如果是在项目框架下 应该会有SiteModel ，直接使用SiteModel.resizeModel自适应计算\n            if (SiteModel && SiteModel.resizeModel) {\n\n                SiteModel.resizeModel.on('resize', _self.resize);\n            } else {\n\n                //监听屏幕尺寸变化\n                $(window).resize(function () {\n\n                    setTimeout(function () {\n                        _self.resize();\n                    }, 200);\n                    _self.resize();\n                });\n            }\n            //马上计算屏幕现实状态\n            _self.resize();\n        }\n\n        iniResize();\n    }\n\n    return ds.ui.AutoHorizontalScreenContainer;\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(12), __webpack_require__(10)))\n\n//////////////////\n// WEBPACK FOOTER\n// ./source/ds/ui/AutoHorizontalScreenContainer.js\n// module id = 127\n// module chunks = 2\n\n//# sourceURL=webpack:///./source/ds/ui/AutoHorizontalScreenContainer.js?")}]);